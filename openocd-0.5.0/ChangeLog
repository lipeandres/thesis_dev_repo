2011-08-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : The openocd 0.5.0 release.  Remove '-dev' version tag: 0.5.0-dev -> 0.5.0

2011-08-03  Luca Bruno <lucab@debian.org>

	* : Automatically generate ChangeLog from git log for release
	tarball make dist should use git2cl to generate ChangeLog from git history,
	populating the placeholder file in released tarball.  Signed-off-by: Luca Bruno <lucab@debian.org> Signed-off-by: Spencer
	Oliver <ntfreak@users.sourceforge.net>

2011-08-01  Jie Zhang <jzhang918@gmail.com>

	* : etb: fix incorrect previous patchset This corrects two issues found with openocd.
	d7f71e7fe9645fa8c3f88cf6fc9ad438aa6708f3 removed some code that was
	being used.  The above then caused even more code to get removed by commit
	1cfb2287a67c1f78b76583b2e5ed83ca3560b0d5.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : docs: remove obsolete luminary target info The lm3s variant is not required as this is handled in the target
	script - see tcl/target/stellaris.cfg.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: update scripts to use new stm32 driver names Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: update stm32 driver names Use consistent names for the stm32 family flash drivers, eg.  stm32x
	-> stm32f1x stm32f2xxx -> stm32f2x this makes it easier to add support for newer stm32 families.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-27  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : doc: add Fujitsu FM3 flash driver info Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-21  Jie Zhang <jie.zhang@analog.com>

	* : Update doc about Jim since it's not a single .C file and a
	single .H file any more Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-18  Michael Hunold <michael@mihu.de>

	* : CPU name in TMPA900 config file should obviously be TMPA900 (not
	TMPA910).  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-18  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : jimtcl: update to support --disable-install-jim Update jimtcl version to commit
	6233a6c5d39928f1bfafa8f41cb1ddf0c5a83de0 This enable to to build
	jimtcl as a submodule but not install it.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-09  Luca Bruno <lucab@debian.org>

	* : Do not append git info to version string when building from
	released tarball When building official releases from tarball, git commit info is not
	available in the building environment. Thus, automake should not try
	to append the git commit to the version string.  Signed-off-by: Luca Bruno <lucab@debian.org> Signed-off-by: Spencer
	Oliver <ntfreak@users.sourceforge.net>

2011-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : busblaster: Fix warnings when building against D2XX The default is -Werror, so warnings become errors.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-12  Steve Bennett <steveb@workware.net.au>

	* : ftdi: update for latest libftdi 1.0.4 For libftd2xx1.0.4, which uses a different directory structure than
	libftd2xx0.4.16 Without this fix the build fails with version 1.0.4
	of the driver.  Note that this does not fix --with-ftd2xx-lib=shared Signed-off-by: Steve Bennett <steveb@workware.net.au> Signed-off-by:
	Spencer Oliver <ntfreak@users.sourceforge.net>

2011-07-04  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : mips_m4k and arm7_9 : Fix soft bkpt endianess for 16-bit
	instructions The patch fix comparison of target data on the host by using
	target_buffer_get_u16() to transform current_instr to _host_
	endianess before comparison.

2011-07-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : Revert "cortex_m3: add auto maskisr" This reverts commit ff640f197a9a343b2f3ed10e9174e35282334e8c.  Original patch reverted as Author's name was incorrectly set.

2011-06-29  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : jimtcl: update to 0.71 based release The actual release is 411e92fea9621630eb350e0c2bb43543e553b84f as we
	had a few issues relating to its use within openocd.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mips4k: fix big-endian hosts and host alignment problems the code was making assumptions about the endianness of the host.

2011-06-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cortex_m3: add auto maskisr This patch extends the cortex_m3 maskisr command by a new option
	'auto'.  The 'auto' option handles interrupts during stepping in a
	way they are processed but don't disturb the program flow during
	debugging.  Before one had to choose to either enable or disable interrupts. The
	former steps into interrupt handlers when they trigger. This
	disturbs the flow during debugging, making it hard to follow some
	piece of code when interrupts occur often.  When interrupts are disabled, the flow isn't disturbed but code
	relying on interrupt handlers to be processed will stop working. For
	example a delay function counting the number of timer interrupts
	will never complete, RTOS task switching will not occur and output
	I/O queues of interrupt driven I/O will stall or overflow.  Using the 'maskisr' command also typically requires gdb hooks to be
	supplied by the user to switch interrupts off during the step and to
	enable them again afterward.  The new 'auto' option of the 'maskisr' command solves the above
	problems. When set, the step command allows pending interrupt
	handlers to be executed before the step, then the step is taken with
	interrupts disabled and finally interrupts are enabled again. This
	way interrupt processing stays in the background without disturbing
	the flow of debugging. No gdb hooks are required. The 'auto' option
	is the default, since it's believed that handling interrupts in this
	way is suitable for most users.  The principle used for interrupt handling could probably be used for
	other targets too.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-27  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: cleanup jimtcl generated configure.gnu We use configure.gnu to pass options to the jimtcl submodule.  Make
	sure a distclean removes any generated files Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Add OpenULINK driver files generated by SDCC to .gitignore

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Include ULINK driver in src/jtag/drivers/Makefile.am A new variable "nobase_dist_pkglib_DATA" is introduced to install
	the OpenULINK firmware image to
	$PREFIX/lib/openocd/OpenULINK/ulink_firmware.hex Also, the variable "EXTRA_DIST" is used to include the OpenULINK
	firmware source in the OpenOCD source distribution.

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Include ULINK driver in configure.in

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Include ULINK driver in src/jtag/interfaces.c

2011-06-20  Martin Schmölzer <martin.schmoelzer@student.tuwien.ac.at>

	* : Add source code for new ULINK driver

2011-06-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: do not included generated files in distribution We have to use this method as automake seems to ignore nodist_ on
	libs.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: pass correct flags to jimtcl during make distcheck This is only for the case of a make distcheck.  During a normal
	release build these flags will be created by configure.gnu Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-06-16  Tomek CEDRO <cederom@tlen.pl>

	* : ADAPTER: Fixed transport selection mechanism to support
	transports other than jtag (if defined).

2011-06-15  Dale Lukas Peterson <hazelnusse@gmail.com>

	* : Added Olimex STM32 {H,P}107.cfg board

2011-06-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : HACKING: add tip on how to write comments

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : doxy more

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : fix protection behavior

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : flash speed improved

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : cleanup flash module command

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : fix read speed improved by queueing commands

2011-06-10  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : Added minimodule (ftdi) interface

2011-06-06  Laurent Charpentier <laurent_pubs@yahoo.com>

	* : Added configuration file for stm32f2xxx.

2011-06-03  Freddie Chopin <freddie_chopin@op.pl>

	* : Fix "unused variable" warnings (errors) detected with GCC 4.7.0
	- leftover changes

2011-06-02  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : crc check on flashed data

2011-06-03  Freddie Chopin <freddie_chopin@op.pl>

	* : Fix "unused variable" warnings (errors) detected with GCC 4.7.0
	- dubious fixes

2011-06-02  Bear <jilingshu@gmail.com>

	* : uptech2410

2011-05-31  Stefan Mahr <stefan.mahr@sphairon.com>

	* : mips: fixup fastdata fixup fastdata

2011-05-31  Laurent Charpentier <laurent_pubs@yahoo.com>

	* : bootstrap: fix argument handling - no argument => run submodule init - "nosubmoudle" => do not run submodule - other values => error message

2011-05-29  Stefan Mahr <stefan.mahr@sphairon.com>

	* : mips: fix swapping if running on big endian host

2011-05-28  Damjan Marion <damjan.marion@gmail.com>

	* : Fixed values for Samung NAND chips

2011-05-23  Damjan Marion <damjan.marion@gmail.com>

	* : Reorganize NAND flash table - added manufacturer field - name moved to the end for better text alignment

2011-05-23  Alan Bowman <alan.michael.bowman@gmail.com>

	* : Report actual current thread

2011-05-24  Stefan Mahr <stefan.mahr@sphairon.com>

	* : add support for spansion flash on mindspeed c300 eval board Signed-off-by: Stefan Mahr <stefan.mahr@sphairon.com>

2011-05-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : Fix build issue under cygwin cygwin does not define sleep, so use our internal win32 version.
	caused by commit 9d4aec6bda90ad39a140747ea270c6a09dd26440 Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-05-03  Jie Zhang <jie.zhang@analog.com>

	* : Get register value if it's invalid in cache.

2011-05-17  Rodrigo L. Rosa <rodrigorosa.lg@gmail.com>

	* : flash support (only full erase/write) for 568013 and 568037

2011-05-11  Alan Bowman <alan.michael.bowman@gmail.com>

	* : Correct stacking direction and use of address offset

2011-05-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : beagleboard: add support for various icepick versions The beagleboard icepick jtag tap id's vary.

2011-04-27  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Add support for the lpc2460 target

2011-05-03  Jie Zhang <jie.zhang@analog.com>

	* : Remove useless MIPS code in avr32_ap7k.c.

2011-04-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : ecos: add 64 bit types for sprintf/sscanf

2011-04-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* : gdb_server : 'R' command replied by OK

2011-04-19  Michel Jaouen <michel.jaouen@stericsson.com>

	* : smp : infra for smp minimum support

2011-04-24  SimonQian <SimonQian@SimonQian.com>

	* : add STM32F2 revY

2011-04-21  Damjan Marion <damjan.marion@gmail.com>

	* : buspirate: fix building on some OSes

2011-04-12  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Fix non cfi x16 nor flash connected to x8 bus. The ids in the
	table should be masked before comparison.

2011-04-12  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Make the LPC32xx slc nand driver the default

2011-04-14  Broadcom Corporation (Evan Hunter) <ehunter@broadcom.com>

	* : RTOS Thread awareness support wip - works on Cortex-M3 with ThreadX and FreeRTOS Compared to original patch a few nits were fixed: - remove stricmp usage - unsigned compare fix - printf formatting fixes - fixed a bug with overrunning a memory buffer allocated with
	malloc.

2011-04-13  Luca Ellero <lroluk@gmail.com>

	* : Replace byte-access to memory with faster word-access Freescale iMX53 doesn't seem to like unaligned accesses to his
	memory mapped registers.  Anyway this patch makes
	dump_image/load_image 4X faster for every access through APB.  Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-04-13  Luca Ellero <lroluk@gmail.com>

	* : Add preliminary support for Freescale iMX53 Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-04-12  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : cortex_a :apb mem read/write working with mmu_on Conflicts: 	src/target/cortex_a.c

2011-04-12  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : cortex_a : use dap ref from armv4_5common

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91: add chip register definition and generic init support for  - pio  - pmc  - rstc  - wdt  - sdramc  - smc Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : add at91sam9261-ek support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-09  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: jlink_debug_buffer use inline function when
	_DEBUG_USB_COMMS_ not define Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-04-03  Ali Lown <ali@lown.me.uk>

	* : Add support for LED to USB Blaster code.

2011-04-05  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : cortex_a : implement jtag console for cortex_a

2011-04-04  Drasko DRASKOVIC <drasko.draskovic@gmail.com>

	* : Corrected waiting on PrAcc in wait_for_pracc_rw(). Added
	necessary check that PrAcc is "1" before FASTDATA access.

2011-04-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : pandaboard: use new -dbgbase option to workaround broken ROM
	table Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-04-01  Michel JAOUEN <michel.jaouen@stericsson.com>

	* : cortex_a: fix gaffe in first implementation of -dbgbase

2011-04-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mips: fix gaffe in previous commit accidentally invoked return jtag_execute_queue() in the middle of a
	fn. Hmm.... I would have expected gcc or at least lint to catch
	this.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Phil <philip@evolution.com>

	* : Added s19 to (fast_)load_image documentation to match the online
	help.

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : types: write memory now uses const Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : startup: fix bugs in cleanup upon errors during startup Importantly adapter cleanup will now happen upon startup failure.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mips: mips_ejtag_get_impcode error propagation added Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mips: fix error handling for jtag_execute_queue() Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex-a: use -dbgbase option Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-28  Olivier Schonken <olivier.schonken@gmail.com>

	* : at91sam3: Modified cidr comparisson to ignore version bits production processor versions increment, thus the version bits
	should be ignored for future proofing. e.g.  Engineering sample
	version == 0x00, production version 0x01

2011-03-29  Alexandre Pereira da Silva <aletes.xgr@gmail.com>

	* : Clarify LPC32XX address cycles message Hi, This is a more descriptive message about LPC32XX error, when the
	nand chip needs 5 address cycles.  Thanks.

2011-03-28  Andrew Lyon <andrew.lyon@gmail.com>

	* : bugfix for step <address> mips_m4k The patch below fixes step <address> on mips_m4k.  Spencer Oliver <spen@spen-soft.co.uk>: The current code is used on all other arch's - is there a underlying
	issue with those aswell ?

2011-03-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_a: rename cortex_a8.c/h to cortex_a.c/h Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a9: merge cortex a9 and a8 code better to keep this in a single file.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix bug in ir scan handling set cur_instr to BYPASS as optimisation code will rely on checking
	the cached value.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : dsp563xx_once: fix warning and potential bug I don't think dsp563xx_once_read_register() would ever be called
	with len==0, but it would have been broken in that case.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  Mathias K <kesmtp@freenet.de>

	* : target: allow targets to override memory alignment Targets can implement read/write_buffer to handle alignment.

2011-03-17  Uwe Hermann <uwe@hermann-uwe.de>

	* : Fix a bunch of typos.  Fix a bunch of typos.  Most are in code comments, so nothing should break. UNKOWN_COMMAND
	and CMD_UNKOWN are not used elsewhere, so correcting the spelling
	should also not break anything.

2011-03-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : dsp563xx: fix bug in x buffer handling found by inspection.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix JTAG over TCP/IP performance problem only flush write queue just before waiting for more data, rather
	than when fetching more data from the buffer.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: clean up jtag_sleep, handle short sleeps correctly via
	usleep short sleeps are handled via usleep, longer sleeps we round up to
	nearest ms.  There was a bug in jtag_sleep() in that it would round *down* to
	nearest ms, thus making all <1ms sleeps 0. Found by inspection
	rather than symptom.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-03-10  Aaron Carroll <aaronc@ok-labs.com>

	* : omap4430: add Blaze config Signed-off-by: Aaron Carroll <aaronc@ok-labs.com>

2011-03-07  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: add Emulator configuration support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-07  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: use tap buffer as 2k as said in the datasheet Section 3.3.2 Organization of buffers All buffers are big enough to hold 2 KByte of data.  this will double the speed of download Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-03  Mathias K <kesmtp@freenet.de>

	* : ft2232: fix log message and change log output to debug

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91: add at91sam9g10 support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91: add at91sam9263 support Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-03-02  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : at91sam9: factorise cpu support all at91sam9 are nearly the same except sram and soc name Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-02-28  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: switch commands to subcommands Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com>

2011-02-28  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : jlink: add new PID and VID The default pid of the segger is 0x0101 But when you change the USB
	Address it will also pid = ( usb_address > 0x4) ? 0x0101 : (0x101 + usb_address) Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com>

2011-02-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : log: debug level is between silent and debug output levels It wasn't previously possible to silence the output.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-02-24  Mathias K <kesmtp@freenet.de>

	* : ft2232: fix possible read buffer overflow This patch fix a possible read buffer overflow in
	ft2232_execute_queue.  Also the correct read queue size for libftdi
	and libftd2xx was added and and tested.  In function ft2232_write a
	uninitialized value was initialized because we don't know if this
	value was set in the ftdi api call.

2011-02-21  Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

	* : add at91rm9200-ek board support tested with jlink sam-ice v5 while loading barebox (gdb) load Loading section .text, size 0x2f190 lma 0x21f00000
	Loading section .rodata, size 0x931c lma 0x21f2f190 Loading section
	.data, size 0x29e8 lma 0x21f384ac Loading section .barebox_cmd, size
	0x78c lma 0x21f3ae94 Loading section .barebox_initcalls, size 0x80
	lma 0x21f3b620 Start address 0x21f00000, load size 243360 Transfer
	rate: 26 KB/sec, 13520 bytes/write.  Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD
	<plagnioj@jcrosoft.com> Cc: Nicolas Ferre <nicolas.ferre@atmel.com>
	Cc: Patrice Vilchez <patrice.vilchez@atmel.com>

2011-02-20  Mathias K <kesmtp@freenet.de>

	* : dsp563xx: rudimentary gdb support This patch add rudimentary gdb support. The gdb register list order
	is corrected. All registers are now 32bit width. Events are send to
	signalize gdb the current target status. Resume and step function
	was corrected to consider a modified pc register. Read/write memory
	now support L memory type, this means a memory with alternating y/x
	memory words. The memspace variable, used by gdb, is now observed
	before a default memory access is initiated. Dummy functions for
	breakpoint and watchpoint are added.

2011-02-18  SimonQian <SimonQian@SimonQian.com>

	* : fix compile error under MinGW

2011-02-14  Luca Ellero <lroluk@gmail.com>

	* : arm_adi_v5: add/move apsel member in struct adiv5_dap This patch tries to make some order in "apsel" mess.  "dap apsel"
	command was quite useless (and broken) by itself.  With this patch
	we can use it to select between AHB or APB memory access (previous
	patch 05ab8bdb813acdcd74afa71d6656c2df816cb230 was somehow broken).  - moves member apsel (in struct adiv5_dap) to ap_current - adds apsel member this strange choice is made trying to keep coherence in "dap apsel"
	 command and to keep compatibility with other code (for example
	cortex_a8).  Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-17  Mathias K <kesmtp@freenet.de>

	* : dsp563xx_once: Correct wrong return value on jtag communication
	errors This patch change the return value on a jtag communication error to
	TARGET_UNKNOWN because this function should return the current
	target status and not a error code from the underlying api call.
	Also the validity of the jtag_status is extended to all static bits
	in this value.

2011-02-15  Bjarne Steinsbo <bsteinsbo@gmail.com>

	* : lpc32xx: Flash driver Based on the lpc3180 driver, but released as a separate driver for
	 two reasons: 1) I don't have an lpc3180 to test it against, so it might
	 unintentionally break compatibility.  2) It's using a different OOB layout than lpc3180.  Rewritten so that it no longer borrows code from the NXP CDL
	library.  Instead borrowing code from the u-boot port to lpc32xx,
	written by Kevin Wells.  Tested on lpc3250 (Hitex LPC3250-Stick).  OOB layout is compatible
	with LPCLinux.

2011-02-15  Mathias K <kesmtp@freenet.de>

	* : - add bulk memory write function - execute jtag queue at the end of
	the memory transfer

2011-02-13  Mathias K <kesmtp@freenet.de>

	* : ft2232: add functions for ft2232 set data bits high/low byte
	command reduce duplication. No change in behavior.

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* : arm_adi_v5: add wrapping transfer functions with selection of ap Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* : cortex_a9: check if MMU is enabled on APB read/write memory Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-12  Luca Ellero <lroluk@gmail.com>

	* : cortex_a9: trivial fixes Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-09  Luca Ellero <lroluk@gmail.com>

	* : cortex_a9: implement read/write memory through APB-AP This patch adds read/write capability to memory addresses not
	accessible through AHB-AP (for example "boot ROM code").  To select AHB or APB, a "dap apsel" command must be issued: dap
	apsel 0 -> following memory accesses are through AHB dap apsel 1 ->
	following memory accesses are through APB NOTE: at the moment APB memory accesses are very slow, compared       to AHB accesses. Work has to be done to get it faster (for       example LDR/STR instead od LDRB/STRB) Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-08  Michal Demin <michaldemin@gmail.com>

	* : buspirate: Fix command parsing, fix errors to have more sense.  Signed-off-by: Michal Demin <michaldemin@gmail.com>

2011-02-07  Luca Ellero <lroluk@gmail.com>

	* : omap4430: Add JRC TAPID for PandaBoard REV EA1 (PEAP platforms) PandaBoard REV EA1 (Panda Early Adopter Program) has a different ID.
	This patch add alternate REV EA1 TAP id to configuration file Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-02-08  Luca Ellero <lroluk@gmail.com>

	* : cortex_a8/a9: fix some comments Signed-off-by: Luca Ellero <lroluk@gmail.com>

2011-01-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : stm32x: add support for STM32F20x ready for wider testing and comments on basic erase + programming.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-02-02  Mathias K <kesmtp@freenet.de>

	* : 24bit buffer support Hello, this patch add 24bit support to the target buffer functions and
	little/big endian functions.  Regards, Mathias

2011-02-02  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : cortex_m3: allow scripts to override reset If a handler for the reset-assert event it present, skip the usual
	reset handling.  This is needed, for example, for board-level
	resets.  Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-31  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: use ARM32 machine code on all CPUs but Cortex M3 ARM11 broke with aa61a3b3d8b6acad19050987835ec05f3d298bdb as the
	code only checked for arm 7/9.  CFI probably needs work for non-ARM targets but perhaps not adding
	working area memory to e.g. MIPS will give the default slow CFI
	support.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : cortex_a9: add source files for Cortex A9 support.  add target and build support for A9 Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-24  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : Add '-coreid' target option to support multiple cores per TAP.  ARM Cortex-A9 multi-core chips expose a single TAP/DAP which
	connects to both cores.  The '-coreid' option selects which core the
	target should connect to.  Note that at present, OpenOCD can connect to either core, but not
	both simulatenously, until ADI contexts can be shared.  Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-28  Aaron Carroll <aaronc@cse.unsw.edu.au>

	* : openocd.texi: minor fixes in Reset Configuration Signed-off-by: Aaron Carroll <aaronc@cse.unsw.edu.au>

2011-01-26  Mathias K <kesmtp@freenet.de>

	* : - add xds100v2 configuaration file Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-26  Mathias K <kesmtp@freenet.de>

	* : add basic TI xds100v2 support Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-18  Eric Wetzel <thewetzel@gmail.com>

	* : stellaris: automatically generate and update device IDs Added a Perl script to contrib that uses the header files in
	StellarisWare complete Firmware Development Package provided by
	TI/Luminary to generate a new list of device IDs Used Perl script and revision 6734 of TI/Luminary StellarisWare to
	update device IDs

2011-01-13  Santeri Salko <santeri.salko@gmail.com>

	* : str9xpec: Find flash controller from the chain.  Find the flash controller by position since it is before the core,
	not after it.  This fixes the problem that str9xpec enable_turbo (or any other
	str9xpec command) did not work. (See my post in
	http://forum.sparkfun.com/viewtopic.php?f=18&t=25542) Signed-off-by: Santeri Salko <santeri.salko@gmail.com>

2011-01-13  simon qian <simonqian.openocd@gmail.com>

	* : transport: fix LOG_DEBUG gaffe LOG_DEBUG() arguments are only evaluated when DEBUG logging is
	enabled, do not use arguments that have side effects like foo++.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-01-05  Eric Wetzel <thewetzel@gmail.com>

	* : nit: more LOG_* \n fixes Remove extra \n from LOG_DEBUG, LOG_INFO, and LOG_WARNING messages Remove LOG_INFO_N LOG_INFO_N was only used once and had a \n at the
	end Change LOG_USER_N calls that end with \n to LOG_USER

2011-01-08  David Brownell <david-b@pacbell.net>

	* : present CM3 Trace agenda

2011-01-06  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: use safer arch detection Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-05  Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

	* : Add the support for the armv7m arch.  Signed-off-by: Jonathan Dumaresq <jdumaresq@cimeq.qc.ca>

2011-01-05  Eric Wetzel <thewetzel@gmail.com>

	* : nit: do not add \n at end of LOG_ERROR Fixed in many other places, and submitted in response to Øyvind's
	invitation.

2010-12-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : target: change working area free data type We only use the struct working_area member 'free' as a true/false
	type so might as well use a bool data type.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2011-01-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : error handling: the error number is not part of the user
	interface Do not propagate error number to user. This is for internal
	programming purposes only. Error messages to the user is reported as
	text via LOG_ERROR().  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2011-01-02  Michael Schwingen <michael@schwingen.org>

	* : cfi_protect is not implemented on Spansion flashes (many do not
	even have protection bits). Demote from error to warning, so that
	common board code can use "flash write_image erase unlock"
	regardless of the flash type.  Signed-off-by: Michael Schwingen <michael@schwingen.org>

2011-01-02  Jon Povey <jon.povey@racelogic.co.uk>

	* : svf: implement sleep for RUNTEST min_time Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> min_time was effectively ignored, I needed it to program a Lattice
	MachXO which uses a RUNTEST to wait for an erase operation, amongst
	other things.  With this patch pauses happen and I can program the device with an
	SVF generated in LSC ispVM (with "Rev D Standard" checked to
	suppress nonstandard LOOP statements)

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/S3CXXXX: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/NUC910: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/MX2: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/DAVINCI: remove private "target" copy Remove "target" form private data, and use common one in struct
	nand_block.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/TCL: prepare for common "target" reference Every NAND driver keeps private copy of "target" structure.  Prepare
	infostructure to move private "target" copy in common/shared struct
	nand_device.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/CORE: Comment use of alive_sleep() Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : flash/nand: review NAND driver interface From struct nand_flash_controller : - remove unused field register_commands; - remove field controller_ready, exported but   never referenced.  Remove dead code pointed by controller_ready.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-29  Andrew MacIsaac <macisaac.andrew@gmail.com>

	* : Compilation Warnings on OS X 10.5 I received a number of "-Wshadow" related warnings (treated as
	errors) while trying to build on OS X Leopard.  In addition, there
	were two miscellaneous other warnings in the flash drivers.
	Attached are two patches which correct these issues and the commit
	messages to accompany them.  My system has the following configuration (taken from uname -a): Darwin 9.8.0 Darwin Kernel Version 9.8.0: Wed Jul 15 16:55:01 PDT
	2009; root:xnu-1228.15.4~1/RELEASE_I386 i386 === Werror_patch.txt Commit Message === compilation: fixes for
	-Wshadow warnings on OS X These changes fix -Wshadow compilation warnings on OS X 10.5.8 Compiled with the following configure command: ../configure --prefix=/usr/local --enable-maintainer-mode
	--enable-jlink --enable-ft2232_libftdi === flash_patch.txt Commit Message === compilation: fixes for flash
	driver warnings on OS X These changes fix two compilation warnings on OS X 10.5.8: ../../../../src/flash/nor/at91sam3.c:2767: warning: redundant
	redeclaration of 'at91sam3_flash'
	../../../../src/flash/nor/at91sam3.c:101: warning: previous
	declaration of 'at91sam3_flash' was here and ../../../../src/flash/nor/stmsmi.c:205: warning: format not a string
	literal and no format arguments Compiled with the following configure command: ../configure --prefix=/usr/local --enable-maintainer-mode
	--enable-jlink --enable-ft2232_libftdi === Andrew

2010-12-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : warnings: use more 'const' for char * Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-24  David Brownell <dbrownell@users.sourceforge.net>

	* : initial SWD transport (SWD infrastructure #2) This piggy backs on JTAG so it's not yet pretty, but that seems
	unavoidable so far given today's OpenOCD internals.  SWD init and data transfer  are unfinished and untested, but that
	should cause no regressions, and will be addressed by the time
	drivers start using this infrastructure.  Checking in whould get the
	code working better sooner, and turn up any structural/architectural
	issues while they're easier to fix.  The debug adapter drivers will provide simple SWD driver structs
	with methods that kick in as needed (instead of JTAG).  So far just
	one adapter driver has been updated (not yet ready to use or
	circulate).  The biggest issues are probably   - fault handling, where the ARM Debug Interface V5 pipelining     needs work in both JTAG and SWD modes and   - missing  rewrite of block I/O code to work on both of our
	Cortex-ready transports (Current code is  hard-wired to JTAG);
	relates also to the pipelining issue.    - omitted support to activate/deactivate SWO/SWV trace (this is     technically trivial, but configuring what to trace is NOT.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net> ----  doc/openocd.texi        |   17 ++  src/jtag/core.c         |    3  src/jtag/interface.h    |    4  src/jtag/jtag.h         |    2  src/jtag/swd.h          |  114 +++++++++++++++++++  src/jtag/tcl.c          |    2  src/target/adi_v5_swd.c |  281
	 ++++++++++++++++++++++++++++++++++++++++++++++--
	src/target/arm_adi_v5.c |    8 +  src/target/arm_adi_v5.h |    3  9 files changed, 425 insertions(+), 9 deletions(-)

2010-12-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: print flash bank name on flash info cmd The flash bank name is a required element in adding flash banks,
	however other than looking at the config file there is no way of
	getting the name used in openocd.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-23  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stm32: update option bytes for stm32xl family add supoort for xl family boot bank option.  The option byte
	handling will be cleaned up in a later patch.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-22  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stm32: add dual flash bank support This patch adds the initial dual flash bank support for devices such
	as the stm32xl family.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : lpc2148: redo to the new target configuration scheme Define a proc which PCBs can easily override.  Also demonstrates how to add multiple TAP exepcted-id's using
	arguments.  Added 0x3f0f0f0f as expected TAP-id. Old LPC2148 silicon I happened
	to have on my desk? Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : bootstrap: by default the submodules are initialized use "nosubmodule" to skip setting up submodules.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-19  Tormod Volden <debian.tormod@gmail.com>

	* : tcl/interface/flashlink.cfg: Fix broken ST URL

2010-12-19  Tormod Volden <debian.tormod@gmail.com>

	* : tcl/board: Fix ST URLs in stm32* eval board configuration files ST recently rewamped (screwed up) their web site and broke all
	links.  Also match the chip names with those on the web site product
	descriptions.

2010-12-16  Michael Trensch <MTrensch@googlemail.com>

	* : Add support for Hilscher netX controllers

2010-12-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL: fix non TCL comments End of line comments fixed with ';' before '#'.  Added few
	additional 'space' to keep indentation in multi-line comments.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-12-14  John Devereux <john@devereux.me.uk>

	* : Fix for compilation failure amt_jtagaccel.c Hi, I think there are errors in amt_jtagaccel.c I attach a small patch that I needed to make it compile.

2010-12-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : stm32: fix unprotect the unprotect fn in stm32 needs to unprotect more sectors than was
	requested aligned to some boundary.  Print warning when this happens.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : contrib: add source to the cfi flash loaders Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stm32: add STM32E-EVAL external memory config script Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: allow optional buffer write support Some flash's do not support buffer writes, so we now check they are
	supported before trying to use them.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: prefix string hex output Add hex prefix so we know output is not decimal.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfi: whitespace and long line cleanup Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-04  Freddie Chopin <freddie_chopin@op.pl>

	* : remove srst_pulls_trst from LPC2xxx target scripts LPC2xxx do not require reset_config srst_pulls_trst. This can cause
	various "strange" problems when flashing the chip, because "reset
	halt" actually allows the chip to run for some short period of time
	and execute some code.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-12-06  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: getting the JTAG speed can fail If the JTAG speed has not been set, then it has no defined value,
	add code to propagate the error.  No change to actual behavior as no new failure paths have been
	introduced. This is a no-op patch to make subsequent patches
	smaller.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-03  Rolf Meeser <rolfm_9dq@yahoo.de>

	* : lpc2478 target config: CCLK as (mandatory) parameter

2010-12-03  Rolf Meeser <rolfm_9dq@yahoo.de>

	* : Add board config for Embedded Artists LPC2478-32

2010-12-03  Rolf Meeser <rolfm_9dq@yahoo.de>

	* : Fix sector layout for 504-KiB LPC2000 devices

2010-12-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : luminary: remove unused config cmds.  Due to commit e40aee2954d2beabe1d8c530d9ff1e564fb01f48 we now honour
	the targets 'reset_config' setting. Previously we ignored the srst
	setting for luminary targets.  Luminary targets have never supported using srst to reset into debug
	mode so remove the option from the target configs files.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : config: fix luminary jtag config When this config was updated in commit
	e3773e3e3d1f1ee0dbb0b69e8babe8419784d1c1 the old jtag declaration
	was not removed.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-12-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : profile: use 100Hz as a default sampling frequency it's a lie that is somewhere in the vicinity of the truth. Certainly
	64MHz confuses gprof and produces zero output and no error messages.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-12-01  Rolf Meeser <rolfm_9dq@yahoo.de>

	* : lpc2900.c: Add support for new device LPC2926

2010-11-29  Piotr Esden-Tempski <piotr@esden.net>

	* : Some cosmetic fixes to the Lisa/L layout support functions.

2010-11-29  Piotr Esden-Tempski <piotr@esden.net>

	* : Updated Floss-JTAG config file to support v0.3 and newer. Also
	added noeeprom version of the config file for older versions of
	Floss-JTAG.

2010-11-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: correct configure help message As we default to building jimtcl the help text should show that.  No
	change in functionality or configure args required.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-22  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: rename from spearsmi to stmsmi STMicroelectronics controller SMI is not SPEAr specific.  Rename it
	and change name to every symbol in the code.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/SPEARSMI: fix segfault If flash chip is not listed in the table, or if no flash is
	connected, pointer must be properly initialized.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: iterating over an address range now handles multiple
	banks e.g. flash erase_address now works across an address range that
	spans multiple flash chips.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: remove AC_CONFIG_AUX_DIR macro This was used during testing and should have been removed.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: fix subconfigure parameter issue When passing CFLAGS for example through to the jimtcl subconfigure
	the quotes were not being preserved.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: prepend --with-jim-ext=nvp to jimtcl configure This allows us to add options to jimtcl configure.  The default
	autoconf AC_CONFIG_SUBDIRS does not currently support this.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: add common.mk Rather than specifying common makefile variables move them all to a
	common.mk.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file str9xpec.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file str7x.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file stellaris.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file lpc288x.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file avrf.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file at91sam7.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : FLASH/NOR: Remove useless file spearsmi.h Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL/SPEAr: Added Serial flash in board file Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : httpd: retire this server this never panned out and there are enough mistakes in the code that
	probably nobody used this.  Use the tcl server and implement a standalone http app instead works
	fine.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: fix occasional crash when flash probe failed Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_m3: report detected error condition in poll If the CPU crashed at some point, poll will discover this.  Previously the poll fn would clear the error and print a warning,
	rather than propagating the error.  The new behavior is to report the error back up, but still clear the
	error.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL scripts: replace "puts" with "echo" Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-08  Antonio Borneo <borneo.antonio@gmail.com>

	* : JIM: Add "-n" option to "echo" With the new JIMTCL, "puts" only writes to stdout.  To write on
	telnet port too, "echo" must be used.  This patch gives to "echo"
	similar commandline option of "puts".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : stm32: return error when failing to read add missing error handling.  Output warning when assuming maximum flash size in the family when
	failing to read.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : stm32: sharpen error handling for timeouts delete lots of crud by handling this all in one spot.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-11-04  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL scripts: add support for ST SPEAr310 Initial support for ST SPEAr310 and for the evaluation board
	EVALSPEAr310 Rev. 2.0.  Scripts are split in generic for SPEAr3xx
	family and specific for SPEAr310. This should easily allow adding
	new members of the family.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-10-29  Marek Vasut <marek.vasut@gmail.com>

	* : CortexA8: Introduce Freescale i.MX51 variant This patch introduces support for Cortex A8 based Freescale i.MX51
	CPU. This CPU has the Debug Access Port located at a different
	address (0x60008000) than TI OMAP3 series of CPUs.  i.MX51 configuration file based on OMAP3 configuration file and an
	email from Alan Carvalho de Assis <acassis@gmail.com>.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-10-31  Marek Vasut <marek.vasut@gmail.com>

	* : ADIv5: Implement function to lookup CoreSight component This patch implements "dap_lookup_cs_component()", which allows to
	lookup CS component by it's identification.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-11-04  ddraskovic <ddraskovic@sequans.com>

	* : arm964e: Add support for ARM946E target.  So far most of the people have been using existing ARM966E in the
	place of ARM946E, because they have practically the same scan
	chains.  However, ARM946E has caches, which further complicates JATG handling
	via scan-chain. this was preventing single-stepping for ARM946E when
	SW breakpoints are used.  This patch thus introduces : 1) Correct cache handling on memory write 2) Possibility to flush whole cache and turn it off during debug, or
	just to flush affected lines (faster and better) 3) Correct SW breakpoint handling and correct single-stepping 4) Corrects the bug on CP15 read and write, so CP15 values are now
	correctly R/W

2010-10-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jimtcl: 0.63 release as a git module.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-10-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : src: add loader src description  - add comment where to find the various loaders src files.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-10-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : imx31pdk: use rclk w/1MHz fallback measure_clk indicates ca. 3-4MHz, so 1MHz should be safe.  Added self_test proc used to test that rclk worked.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-10-24  Peter Stuge <peter@stuge.se>

	* : Make systesetreq typos read sysresetreq instead Signed-off-by: Peter Stuge <peter@stuge.se>

2010-10-22  Michal Demin <michaldemin@gmail.com>

	* : buspirate: change handling of communication speed setting +
	create serial port open function Signed-off-by: Michal Demin <michaldemin@gmail.com>

2010-10-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET: review handle_load_image_command() Collect variable definitions.  Report syntax error to command
	dispatcher.  Propagate error when unable to open file.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-10-10  David Brownell <dbrownell@users.sourceforge.net>

	* : swj-dp.tcl (SWD infrastructure #1) Provide new helper proc that can set up either an SWD or JTAG DAP
	based on the transport which is in use -- mostly for SWJ-DP.   Also update some SWJ-DP based chips/targets to use it.  The goal is
	making SWD-vs-JTAG transparent in most places.  SWJ-DP based chips
	really need this flexible configuration to cope with debug adapters
	that support different transports, without needing new target
	configs for each transport or adapter.  For JTAG-DP, callers will use "jtag newtap" directly, as today; only
	one chip-level transport option exists.  For SW-DP (e.g. LPC1[13]xx or EFM32, they'll use "swd newdap"
	directly (part of an upcoming SWD transport patch).  Again, only one
	transport option exists, so hard-wiring is appropriate there.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-10-05  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : build: remove warn_unused_result errors Remove any build errors for strtol when building release version of
	openocd.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-10-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : gdbserver: fix gdb_port memory leak Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-09-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: add : port number syntax for tftp filing system Allows using non-standard port number. Default to port 69.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : server: add support for pipes -p/--pipe is now deprecated. Use '-c "gdb_port pipe;log_output
	openocd.log"' instead. Warning logged.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : server: read/write now goes through connection fn's depending on whether the connection is over a socket or pipe, the
	read is done differently.  pipes can return -1 when writing 0 bytes, make 0 byte writes a
	successful no-op. 0 byte writes falls out naturally of tcl server
	code.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : server: rely on ctrl-c to stop openocd there was special support to support pressing 'x' to quit openocd.
	ctrl-c is sufficient. The main server loop is already complicated
	enough.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Luca Bruno <lucab@debian.org>

	* : Update ep93xx and at91rm9200 drivers ep93xx and at91rm9200 are conditionally built only on arm and were
	not updated to reflect changes in command registration handler.
	This patch makes them properly compile again, fixing a build failure
	experienced on Debian armel.  Signed-off-by: Luca Bruno <lucab@debian.org> Signed-off-by: Zachary
	T Welch <zwelch@codesourcery.com>

2010-09-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : fileio: refactor struct fileio to be an opaque structure Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: fix error handling memory leaks and missing check on memory allocation.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-24  Zachary T Welch <zwelch@codesourcery.com>

	* : Fix omap3_dbginit to write to physical memory.  Setting the OMAP3530 DBGEN bit must be done in physical memory, so
	update omap3_dbginit callback to use the new 'mww phys' command
	syntax.

2010-09-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: fix blank line at top snuck in at some point...  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: fix error handling sensible error must be reported at failure site Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL scripts: collect duplicated procedures TCL procedures mrw and mmw, originally in DaVinci target code, are
	duplicated in other TCL scripts.  Moved in a common helper file, and
	added help/usage description.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-09-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : helper: fix flaky capture command capture of progress output would get polling results. This will
	break in the example below where polling output would override the
	tcl return value.  capture {sleep 10000; set abc def} Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : logging: turn of stdout/stderr buffering with this buffering disabled fancier logging scripts will be able to
	process each line as it is output.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: build jtag first because it generates header files Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: split out configure option for eCos and JTAG master Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : tcl: remove incomplete unused tcl file Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-19  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: check that wp length does not exceed address Hi everyone, A while back I sent in a patch that adds support for watchpoint
	lengths greater than four on xscale.  It's been working well, until
	the other day, when it caused an unexpected debug exception.
	Looking into this I realized there is a case where it breaks: when
	the length arg is greater than the base address.  This is a
	consequence of the way the hardware works.  Don't see a work-around,
	so I added code to xscale_add_watchpoint() to check for and disallow
	this combination.  Some more detail... xscale watchpoint hardware does not support a
	length directly.  Instead, a mask value can be specified (not to be
	confused with the optional mask arg to the wp command, which xscale
	does not support).  Any bits set in the mask are ignored when the
	watchpoint hardware compares the access address to the watchpoint
	address.  So as long as the length is a power of two, setting the
	mask to length-1 effectively specifies the length.  Or so I thought,
	until I realized that if the length exceeds the base address, *all*
	bits of the base address are ignored by the comaparator, and the
	watchpoint range effectively becomes 0 .. length.  Questions, comments, criticisms gratefully received.  Thanks, Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-09-18  Karl Kurbjun <kkurbjun@gmail.com>

	* : AM/DM37x: Unify configuration scripts and add support for TI
	Beagleboard xM.

2010-09-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : breakpoints: fix error handling do not try to interpret "retval" into a string, just amend a bit
	about the context of the already reported error.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-13  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: fix sw breakpoints for thumb; set bp immediately Hi everyone, Version 2 of this patch.  Code added to breakpoints.c was removed
	from previous patch, and item 3 added, per discussion with Øyvind
	regarding error reporting.  Item 4 added, which I just noticed.  I tried to use a software breakpoint in thumb code on the xscale for
	the first time recently, and was surprised to find that it didn't
	work.  The result was this patch, which does four things: 1): fix trivial cut-n-paste error that caused thumb breakpoints to
	not work 2): call xscale_set_breakpoint() from
	xscale_add_breakpoint() 3): log error on data abort in
	xscale_write_memory() 4): fixed incorrect error code returned by
	    xscale_set_breakpoint() when no breakpoint register is available;
	added comment Item 2 not only makes the xscale breakpoint code consistent with
	other targets, but also alerts the user immediately if an error
	occurs when writing the breakpoint instruction to target memory
	(previously, xscale_set_breakpoint() was not called until execution
	resumed).  Also, calling xscale_breakpoint_set() as part of the call
	chain starting with handle_bp_command() and propagating the return
	status back up the chain avoids the situation where OpenOCD "thinks"
	the breakpoint is set when in reality an error ocurred.  Item 3 provides a helpful message for a common reason for failure to
	set sw breakpoint.  This was thoroughly tested, mindful of the fact that breakpoint
	management is somewhat dicey during single-stepping.  Comments and criticisms of course gratefully received.  Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : helper: add stacktrace command that returns error stacktrace Ability to access the stacktrace from a script is quite handy.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : version command: make it scriptable you can now set a variable in a script like set version [version].  Also version takes an optional argument "git" to show git version of
	source. If git is not installed during the build, then this will
	yield an error that is ignored during the build and "version git"
	returns an empty string.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: random crash in cfi_probe() fixed for non_cfi cfi chips free() was invoked on rodata.  The mystery is why this bug has survived for so long.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-08  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: mark xscale registers invalid on debug entry Hi everyone, This simple patch fixes a problem I noticed on the xscale where
	incorrect values are sometimes reported by the reg command.  The
	problem can occur when requesting the value of registers in the
	xscale-specific register cache.  With a couple of exceptions, none
	of the registers in the xscale register cache are automatically
	retrieved on debug entry.  This is probably fine, as they are
	unlikely to be needed on a regular basis during a typical debug
	session, and they can be retrieved when explicitly requested by name
	using the reg command.  The problem is that once this is done, the
	register remains marked as valid for the remainder of the OpenOCD
	session, and the reg command will henceforth always report the same
	value because it is obtained from the cache and is never again
	retrieved from the debug handler on the target.  The fix is to mark all registers in the xscale register cache as
	invalid on debug entry (before the two exceptions are retrieved),
	thus forcing retrieval (when requested) from the target across
	resumptions in execution, and avoiding the reporting of stale
	values.  Small addition change by Øyvind: change 'i' to unsigned to fix
	compiler warning for xscale_debug_entry() fn.  Signed-off-by: Mike Dunn <mikedunn@newsguy.com> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-09-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : warning: fix silly -O3 warning Some versions of GCC don't pick up that local variables are set in
	all code paths.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-31  Wookey <wookey@wookware.org>

	* : Numonyx M29W160ET patch Someone called David Carne popped up on IRC and offered a fix (as
	he's not on this list so can;t post here). I am just passing it on.
	(thanx David)  10:54 < davidc__> Basically; the Numonyx M29W160ET has an incorrect
	             CFI PRI block; it describes the erase blocks backwards  10:54 < davidc__> the linked patch has a fixup for that part
	 [really trivial]:

2010-08-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: increase stellaris flash loader buffer This speeds up programming for targets with more working area, Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-08-27  David Brownell <dbrownell@users.sourceforge.net>

	* : bitq: unshadow pause() bitq.c: In function ‘bitq_scan_field’: bitq.c:224: error:
	declaration of ‘pause’ shadows a global declaration
	/usr/include/unistd.h:429: error: shadowed declaration is here Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mcb1700: Keil MCB1700 w/1768 config script Ca. 93kBytes/s flashing speed @ 10MHz JTAG clock Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-16  David Brownell <dbrownell@users.sourceforge.net>

	* : two NEWS updates Mention AVR32 AP7000 support.  Clarify ARM semihosting update was
	for V7M (not ARM9 etc).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-08-15  Oleksandr Tymoshenko <gonzo@bluezbox.com>

	* : avr32: basic target script

2010-08-15  Oleksandr Tymoshenko <gonzo@bluezbox.com>

	* : avr32: work-in-progress committed so as to ease cooperation and to let it be improved over
	time.  So far it supports: - halt/resume - registers inspection - memory inspection/modification I'm still getting up to speed with OpenOCD internals and AVR32 so
	code is a little bit messy and I'd appreciate any feedback.

2010-08-13  Catalin Patulea <cat@vv.carleton.ca>

	* : Fix typo in documentation of usb_blaster_vid_pid command

2010-08-03  Piotr Esden-Tempski <piotr@esden.net>

	* : Added support for the Lisa/L jtag LEDs.

2010-08-03  Piotr Esden-Tempski <piotr@esden.net>

	* : Added support for Lisa/L builtin JTAG interface.

2010-08-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* : jtag: fix handling of 'tap enable' error if a tap could not be _enabled_, the error message was 'failed to
	disable tap'. Fixed that. Also, display the failing tap's name.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-08-10  Thomas Koeller <thomas.koeller@baslerweb.com>

	* : DM36x: Disable unused SYSCLKs Clear the enable bits for all clocks that are not set explicitly.
	This is done to increase robustness by removing pre-existing state.  Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>

2010-08-12  Fredrik Hederstierna <fredrik.hederstierna@securitas-direct.com>

	* : str9x: faster flash erase of entire chip The patch improves flash erase for STR9x in case of a full bank
	erase.  Then the chip erase command is used instead which improves
	speed significantly.  Also I think it might help if e.g. STR912 enters some state where
	flash banks are locked, and a chip erase command is the key for
	unlocking the flash.

2010-08-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : board: added at91cap7a stk w/sdram config scripts The strange thing here with this board is that 16MHz kinda works,
	but only 2MHz is really stable.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm: add missing error reporting when an unknown core mode is read from the target, report error. Can
	be communication failure.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-09  Ben Gardiner <bengardiner@nanometrics.ca>

	* : cfg: add omapl138 support and da850evm preliminary support This patch adds support for the omapl138 target and preliminary
	support for the da850evm. The target cfg file is based on the
	icepick routing done by the target/ti_dm6446.cfg file.  I have performed limited testing with this setup. I am posting this
	patch in the interest of sharing cfg files and in the hopes that the
	experts on this list can correct errors I have made or point out
	enhancements.  The testing I have performed is debugging uboot with gdb where I
	also use the following local.cfg and gdbinit files. Debugging
	appears to work in so much as 'ni' works.  local.cfg: gdb_memory_map disable gdbinit: target remote localhost:3333 set remote
	hardware-breakpoint-limit 2 set remote hardware-watchpoint-limit 2
	monitor poll on Comments welcome.  Best Regards, Ben Gardiner

2010-08-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : target: if polling fails, back off back-off algorithm for polling. Double polling interval up to 5000ms
	when it fails.  when polling succeeds, reset backoff.  This avoids flooding logs(as much) when working with conditions
	where the target polling will fail.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  Mike Dunn <mikedunn@newsguy.com>

	* : xscale documentation: vector table handling Hi everyone.  I noticed some incorrect information in the user
	manual regarding how the vector table is handled on the xscale, so
	for your consideration, here's a short patch that corrects it, and
	adds a little more detail I thought might be helpful.  The documentation states that OpenOCD does not attempt to
	synchronize the vector tables in memory with those stored in the
	"mini instruction cache".  In fact, on each resume it does copy from
	memory to the cache all entries in the high and low tables that were
	not previously defined using the 'xscale vector_table' command. (In
	src/target/xscale.c, see xscale_update_vectors(), which is invoked
	by xscale_resume().)  I take advantage of this during Linux boot-up.
	The extra detail describes in general terms how I do this.  Corrections, comments are of course gratefully received.  Thanks, Mike Signed-off-by: Mike Dunn <mikedunn@newsguy.com>

2010-08-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: use correct base clock when calculating speed divisor revc uses 60MHz and revb 64MHz, use this in calculations.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : lpc1768: even if rclk "works", it isn't necessarily the correct
	clk rclk = 4MHz oon lpc1768, the correct JTAG clk is 666MHz(4MHz/6).  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: measure_clk debug proc It can be useful to get an approximate measurement of rtck frequency
	for debugging purposes.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : util: ms command to calculate length of operations This can be used to calculate approximate RTCK frequency for
	instance.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-08-01  Peter Stuge <peter@stuge.se>

	* : Remove srst_pulls_trst from LPC2148 target srst_pulls_trst is only true on some (broken) LPC2148 boards, a fact
	which is already documented in doc/openocd.texi, so it shouldn't be
	set unconditionally in the target tcl.  This patch was needed to reflash when an Abort exception occured
	very early after reset, before OpenOCD tried to halt the CPU.

2010-07-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : lpc7168: make flash available upon reset init set user mode to avoid ROM being mapped at address 0 rather than
	flash.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-10  Michal Demin <michal.demin@gmail.com>

	* : Buspirate: fix shadow

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: remove algorithm exit_point address for supported targets For the above targets the exit_point is optional when used with
	run_algorithm, so remove it.  This makes updating the algorithm less error prone.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : armv7m: exit_point optional for armv7m_run_algorithm As the armv7m uses instruction breakpoints for algorithms we do not
	really need to check the pc on exit.  This now matches the behaviour of the arm4_5 codebase.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm11 error propagation fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm_dpm: error propagation fixes found by inspection Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm: error propagation of arm_jtag_set_instr Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm_adi_v5: mem_ap_write error propagation Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mem_ap_read_u32 error propagation Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : debug: debug entry error propagation Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm: add error propagation for enable/disable mmu caches Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-19  David Brownell <dbrownell@users.sourceforge.net>

	* : more careful luminary init Set up more of the Luminary-specific signals, and stop cloning a few
	of the JTAG defaults.  More comments too.  Still leaves the "dap info 0" bugs unresolved (presumably coupled to
	this particular adapter family) where TPIU, ITM, DWT, and other
	debug modules wrongly display as extra NVICs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: add nuc910 nand driver This adds a nand driver support for the nuc910 target.  Note that
	ECC is not currently supported by this driver, although it is
	supported by the peripheral.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: update rsc-w910 script  - Only enable the FMI (NAND) and DMA clocks.   - Select NAND interface on the MFSEL.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: lots of error propagation fixes found by code inspection Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add missing error handling for
	cortex_a8_dap_write/read_coreregister_u32() Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add missing error handling for
	mem_ap_atomic_write_u32() Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-18  David Brownell <dbrownell@users.sourceforge.net>

	* : comments for Luminary ICDI layout Provide $defines for more of the signals involved in the Luminary
	ICDI hardware, and comment some of what's going on.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-07-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : debug-feature: jtagtcpip, improve jtag performance postpone callbacks until jtag execute queue time.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADI-V5: cleanup CID/PID addressing Use addition for offsetting, not masking.  Shorten some lines.  Make
	"component_start" print-only (unused otherwise; don't save).  Still doesn't resolve the issue where multiple components are
	wrongly displaying as NVICs on some Cortex-M3 parts because many
	PIDs appear to be zeroes ... maybe adapter related?? Signed-off-by: David Brownell <db@helium.(none)>

2010-07-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : fix warnings Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : debug feature: jtagtcpip, improve performance waiting for ZY1000 fifo to idle is now queued as an asynchronous
	command. This radically improves performance when waitIdle() is
	interspersed with writes as no readback is required over TCP/IP.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-13  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADI-V5: PIDs and CIDs are 8 bits Mask the upper bits after 32-bit reads.  Alsoo revert the ugly changes to use PRIx32; just cast to unsized
	integers when printing (two chars not eight).  Signed-off-by: David Brownell <db@helium.(none)>

2010-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : jtag: fix shadow issues in adapter_init Use global jtag_only rather than local static.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : docs: fix transport typo Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-09  David Brownell <dbrownell@users.sourceforge.net>

	* : transport selection tweaks * Bugfix and simplify legacy jtag-only defaulting * Make "dummy" declare its jtag-only nature * likewise update ft2232 * warn if selection is _required_ (multi-transport adapters), fixes the "only ft2232 works" bug for at least dummy, with other
	drivers going the "legacy" path (submit patches).  Signed-off-by: David Brownell <db@helium.(none)>

2010-07-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : transport: fix segfault in transport select String compare against addresses in range 0 or so due to not
	checking if there was an active session first.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-07-05  sb-sf <sb-sf@users.sourceforge.net>

	* : gdbserver: incorrect memory map for multiple targets (bug #24) The gdb server incorrectly reports the memory map if we have
	multiple targets with multiple flash banks.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-07-02  David Brownell <db@helium.(none)>

	* : Fix minor openocd.texi bug ::X Signed-off-by: David Brownell
	<db@helium.(none)>

2010-07-02  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ft2232: revert ft2232_read_scan changes Revert change made in commit
	dd88b461da1cb8642200dd5c96fb1ff384ca9f7b.  Caused segfaults when
	using ftdi driver under win32.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-06-17  Marc Pignat <marc.pignat@hevs.ch>

	* : ft2232: simplify ft2232_read_scan

2010-06-25  Olaf Lüke <olaf@uni-paderborn.de>

	* : at91sam3s* support Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-23  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: fix gaffe in no-ack transfers The code did not transfer the last word in no-ack transfers.  The strange thing is that this did not lead to any observable
	errors.  This gaffe was introduced in commit 1f5883ea56cb058221f Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : am3517 evm: use physical write to memory while target is running Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : target: $_TARGET mdw now has a phys option just like the mdw command Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : xsvf: Fix shadow issues on Mac wait is declared in /usr/include/sys/wait.h Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-06-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : flash: fix shadow issues on Mac Wait is declared in /usr/include/sys/wait.h Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : gitignore: start list of emacs temp files to ignore Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add error propagation for poll/resume Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add error propagation for
	mem_ap_read/write_atomic_u32 Error propagation avoids e.g. infinite loops waiting for target to
	halt, etc.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : nand/mx2: review scope of symbols Add "static" qualifier to private variable.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : openocd.c: review scope of symbols Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/avrt: review unused symbols Remove unused functions: - mcu_write_dr_u16 - mcu_write_dr_u8 - mcu_write_ir_u16 - mcu_write_ir_u32 Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/feroceon: review scope of symbols Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim-eventloop.h: review unused definitions Remove unused typedef and define Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-19  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim-eventloop: review scope of symbols Add "static" qualifier to private functions.  Remove private
	prototypes from include file.  Remove empty definition of
	JIM_STATIC.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: do not use jtag_get_error() normal code should not call jtag_get_error(), but rather check the
	return code from jtag_execute_queue().  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: add missing error handling cortex examine was missing error handling.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex a8: fix segfault for unexamined targets print error message instead of segfaulting for unexamined targets.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : target/dsp563xx: review scope of symbols Add "static" qualifier to private functions.  Remove private
	prototypes from include file.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-18  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : don't add confusing source info to Jim When an interactive command fails, the Jim stack trace prints
	references to the line in "command.c" where the interpreter was
	invoked. Since that location has no relation to the actual command
	that failed, the information serves only to add confusion.  By not adding the useless source info to Jim the noise can be
	reduced, while still printing a useful trace for nested commands.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-18  Antonio Borneo <borneo.antonio@gmail.com>

	* : helper/jim: review scope of symbols Add "static" qualifier to private functions.  Function Jim_InterpolateTokens() is private, but has not been
	changed to "static".  This function is called only once, so compiler
	inlines it.  After inline, there is a warning for variable
	uninitialized.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-17  Freddie Chopin <freddie_chopin@op.pl>

	* : mingw32: -Wshadow fixes in rlink.c (error: declaration of ‘byte’ shadows a global declaration;

	/usr/local/lib/gcc/i686-w64-mingw32/4.4.2/../../../../i686-w64-mingw32/include/rpcndr.h:50: error: shadowed declaration is here)Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-06-17  Freddie Chopin <freddie_chopin@op.pl>

	* : mingw32: -Wshadow fixes in jim.c (error: declaration of ‘boolean’ shadows a global
	declaration;

	/usr/local/lib/gcc/i686-w64-mingw32/4.4.2/../../../../i686-w64-mingw32/include/rpcndr.h:52: error: shadowed declaration is here)Signed-off-by: Freddie Chopin <freddie_chopin@op.pl>

2010-06-17  Antonio Borneo <borneo.antonio@gmail.com>

	* : vsllink: fix -Wshadow warning Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix arm11 optimisation copy & paste error + added FIFO throttling to work around lockup bug
	in FPGA.  The arm11 optimisation was introduced post v0.4.0, so this is not a
	regression compared to previous release.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : nor/at91sam3: replace helper membuf Helper ./src/helper/membuf.c is only used in at91sam3.c 1) Replace membuf with LOG_* 2) The original code in sam3_GetDetails() invalidates    all the buffered output of sam3_GetInfo(). The new    code skips sam3_GetInfo() if its output should not    be printed.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : xsvf: -Wshadow warning fixes I think this fixed an error message where the error message would
	show the *previous* uc code rather than the current unsupported uc
	code.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mflash: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : nand: when verify failed, it didn't return an error when the verify failed, it didn't return an error, which breaks e.g.
	tcl scripts that rely on this for exceptions to work.  Found by -Wshadow Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : str9xpec: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : oops... backup file snuck in, remove it.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : stm32x: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : lpc2900: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : ecos flash: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mips32_pracc: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mips32: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm11_dbgtap: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm920t: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : adi_v5_jtag: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm_simulator: -Wshadow warning fixes Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : target: -Wshdaow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jim: -Wshadow warning fix Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jim: -Wshadow fixes this batch of fixes should be pretty straightforward rename of
	'index' and an 'i' local variable shadowing.  'index' conflicts with a global name.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  michal smulski <michal.smulski@ooma.com>

	* : arm1136 scripts Here is a patch to fix a startup in C100 (arm1136). Basically make
	sure that UART is configured before using it.  Michal Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: add LOG_ERROR() in case of unsupported intel erase
	algorithm found by code inspection. There are many other places in CFI where
	LOG_ERROR() should be called similarly...  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : helper: fix -Wshadow warning in number parsing use obtuse local variable names in macros to avoid interfering with
	global name space Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : target: fix retval gaffe in mwX commands failure to write to memory was not propagated.  This is an interesting case of broken error handling: with
	exceptions we wouldn't have had this at all, and I also wonder if
	there is a GCC option to warn about these kinds of potential bugs.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET: removed unsed parameter Parameter "type" of function armv4_5_mmu_translate_va() is now not
	used.  Remove the parameter and the "enum" listing its values.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-12  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET/ARM920T: fix return value Function arm920t_write_memory() default return value should be
	ERROR_OK.  All cases of local errors are handled immediately and not
	further propagated.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-06-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: add error handling to get_flash_by_addr/name autoprobing can fail and this error has to be reported up the call
	stack.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: fix error propagation any read/write operation to memory can fail.  block write algorithm error propagation was broken in that it would
	continue after an error was reported writing data to ram or the
	algorithm failing.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: add error message if image is too big for flash replaced assert() w/error message if the image is too big.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix optimisation gaffe DCC optimisation was broken on targets w/multiple TAP's.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: fix GDB keep alive bug Long running CFI writes could cause GDB timeout.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-07  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb-server: fix error reporting bugs GDB and OpenOCD has two different error number spaces and no mapping
	exists between them.  If a specific error number is to be reported to GDB then this has to
	be done at the calling site, rather than as a generic routine that
	tries to map "retval" to GDB error number speak.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-06-01  gcembed <gcembed@gmail.com>

	* : stm32 : change returned value of mass_erase function Hello, "stm32x mass_erase" return ERROR_OK even if something goes
	wrong.  Here is a summary of changes : * in stm32x_mass_erase : return ERROR_FLASH_OPERATION_FAILED when
	error detected in FLASH_SR register; * in COMMAND_HANDLER(stm32x_handle_mass_erase_command) : return the
	returned value of stm32x_mass_erase().  I don't know if there is reason to always return ERROR_OK ? Gaëtan

2010-05-31  Jon Povey <jon.povey@racelogic.co.uk>

	* : etm: print something when trace buffer empty ETM analyze produced no output when the trace buffer was empty.
	This patch provides users with a clue.  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: virtual driver update for get_flash_bank_by_name_noprobe Make sure we do not probe a flash when getting info.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-24  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: add pic32 virtual banks make use of the new virtual bank flash driver.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: fix memory leak; check malloc return value Every time command "flash probe #" is executed, memory structures
	are re-allocated without preventive free() of former areas, causing
	memory leak.  Also, memory allocation does not check return value,
	determining segmentation fault in case of out of memory.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Freddie Chopin <freddie_chopin@op.pl>

	* : All LPC2xxx chips are little endian and that cannot be changed -
	update config scripts Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Freddie Chopin <freddie_chopin@op.pl>

	* : Update "flash bank" helper comments for LPC2xxx chips Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : at91sam9260: use RCLK It might be possible to get this target going without RCLK, but it
	would require more careful analysis and usage of the reset events.  Enable fast memory accesses.  Tested on an at91sam9260 custom board w/external DRAM and flash.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-21  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : arm_adi_v5: correct ahbap_debugport_init mem-ap id (bug #23) We request a id register read at the end of ahbap_debugport_init but
	we never actually run the queue. In some cases this causes a
	segfault.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-20  gcembed <gcembed@gmail.com>

	* : nand : Add Freescale iMX27 nand flash controller support This patch add support of iMX27 nand flash controller. This is based
	on driver for imx31 nand flash controller.  OOB functionality is not
	fully working. As in mx31 controller, mx2 NFC has a bug that swap
	two bytes between SPARE and MAIN buffer.  I used this driver for
	several months and no problems appear.

2010-05-18  Gary Carlson <gcarlson@carlson-minot.com>

	* : target: slow targets could cause GDB to time out This second half of the patch is proposed to clean up some GDB keep
	alive issues on arm7_9 targets that start up with very slow clocks.
	If an attempt is made to write to key registers on the processor
	with a slow jtag speed, GDB timeout warnings appear on the console
	(at least mine) when "reset halt" or "reset init" commands are
	issued from the gdb client: *** BEFORE PATCH *** (gdb) monitor reset init fast memory access is disabled 2 kHz
	keep_alive() was not invoked in the 1000ms timelimit. GDB alive
	packet not sent! (1026). Workaround: increase "set remotetimeout" in
	GDB JTAG tap: at91sam9g20.cpu tap/device found: 0x0792603f (mfg:
	0x01f, part: 0x7926, ver: 0x0) target state: halted target halted in
	ARM state due to breakpoint, current mode: Supervisor cpsr:
	0x000000d3 pc: 0x00000000 MMU: disabled, D-Cache: disabled, I-Cache:
	disabled keep_alive() was not invoked in the 1000ms timelimit. GDB
	alive packet not sent! (1027). Workaround: increase "set
	remotetimeout" in GDB keep_alive() was not invoked in the 1000ms
	timelimit. GDB alive packet not sent! (1006). Workaround: increase
	"set remotetimeout" in GDB keep_alive() was not invoked in the
	1000ms timelimit. GDB alive packet not sent! (1006). Workaround:
	increase "set remotetimeout" in GDB keep_alive() was not invoked in
	the 1000ms timelimit. GDB alive packet not sent! (1006). Workaround:
	increase "set remotetimeout" in GDB keep_alive() was not invoked in
	the 1000ms timelimit. GDB alive packet not sent! (1004). Workaround:
	increase "set remotetimeout" in GDB RCLK - adaptive dcc downloads
	are enabled fast memory access is enabled NAND flash device 'NAND
	256MiB 3,3V 8-bit' found (gdb) I added additional keep alive steps in areas that troubleshooting
	revealed were causing problems.  I only did this however for
	non-fast write memory accesses.  I don't think most people would be
	using fast memory accesses to write to memory when the jtag and
	system clocks are slow anyway.  If you disagree with my feeling, think there is a more elegant way
	to handle the problem, or think the patch will cause other
	unforeseen problems with other targets, let me know.  As you can see
	below, the patch does eliminate the problem on my development
	station and I suspect that it will benefit others.  *** AFTER PATCH *** (gdb) monitor reset init fast memory access is disabled 2 kHz JTAG
	tap: at91sam9g20.cpu tap/device found: 0x0792603f (mfg: 0x01f, part:
	0x7926, ver: 0x0) target state: halted target halted in ARM state
	due to breakpoint, current mode: Supervisor cpsr: 0x000000d3 pc:
	0x00000000 MMU: disabled, D-Cache: disabled, I-Cache: disabled RCLK
	- adaptive dcc downloads are enabled fast memory access is enabled
	NAND flash device 'NAND 256MiB 3,3V 8-bit' found (gdb) Gary Carlson Gary Carlson, MSEE Principal Engineer Carlson-Minot Inc.

2010-05-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix false positive warning about unitialized local
	variable Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-17  Jon Povey <jon.povey@racelogic.co.uk>

	* : NAND/davinci: Fix segfault for hwecc4_infix reads Page reads using hwecc4_infix layout segfaulted for check_bad_blocks
	because the read assumed a valid data buffer, which check_bad_blocks
	does not use (it only passes a 6 byte buffer for the start of OOB).  This version copes with undersized or missing data or oob buffers
	and uses random read commands within the page to skip unwanted areas
	of data/OOB for speed.  NOTE: Running check_bad_blocks with this layout will be reading
	infix OOB locations, not manufacturer bad block markers. This means
	that if you check blocks written in infix layout they will appear
	good, but manufacturer- marked bad blocks may also appear good.  If
	you want to scan for manufactuer-marked bad blocks, you need to
	enable raw_access before running check_bad_blocks, or use the
	non-infix layout.  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> CC: David
	Brownell <dbrownell@users.sourceforge.net>

2010-05-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : gdbserver: gdb cmds returning failure on success The gdb_memory_map cmd for example fell through and returned
	ERROR_COMMAND_SYNTAX_ERROR on success - behaviour is now as
	expected.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: minor code cleanup Remove few LOG_DEBUG() messages, together with code and variables
	required to build such messages.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR: add read() callback to struct flash_driver Final target is to force bus_width size during CFI flash read.  In
	this first step I need to replace default flash read with flash
	specific implementation.  This patch introduces: - flash_driver_read() layer; - default_flash_read(), backward compatible; - read() callback in struct flash_driver; - proper initialization in every flash_driver instance.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR: fix comment for Doxygen Either bus_width and chip_width are in bytes.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-07  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: use bus_width for memory access in cfi_write() During cfi_write(), head and tail of destination area could be not
	aligned to bus_width.  Since write operation must be at bus_width
	size, source buffer size is extended and buffer padded with current
	values read from flash.  Force using bus_width to read current value from flash.  Do not use
	cfi_add_byte() anymore, to allow removing this function later on.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-20  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: identify memory accesses not using "bus_width".  Since NOR flash devices does not handle "byte enable lanes", each
	read/write access involves the whole "chip_width".  When multiple
	devices are in parallel, usually all chips are enabled during each
	access.  All such cases are compatible with flash accesses at
	"bus_width" size.  Access at "bus_width" size is mandatory for write access to avoid
	transferring of garbage values to flash.  During read access the
	flash controller should take care, and discard unneeded bytes.
	Anyway, it is good practice to use "bus_width" size also for read.  Every memory access that does not respect "bus_width" size is marked
	with a "FIXME" comment.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-16  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: check "flash bank" command arguments Arguments chip_width and bus_width of command "flash bank" are not
	fully checked.  While bus_width is later on redundantly checked in
	several other parts (e.g. in cfi_command_val()) and generates
	run-time error, chip_width is never checked, nor related to actual
	bus_width value.  Added check to avoid: - (chip_width == 0), that would mean no memory chip at all,   avoiding also division by zero e.g. in cfi_get_u8(); - (bus_width == 0), that would mean no bus at all; - unsupported cases of chip_width or bus_width value not power   of 2; - unsupported case of chip width wider than bus.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-05-14  Jun Ma <sync.jma@gmail.com>

	* : missing pointer's declaration when enable macro
	-D_DEBUG_GDB_IO_.  reproducable when "./configure --enable-maintainer-mode
	CFLAGS=-D_DEBUG_GDB_IO_" Signed-off-by: Jun Ma <sync.jma@gmail.com> Signed-off-by: Øyvind
	Harboe <oyvind.harboe@zylin.com>

2010-05-13  Jon Povey <jon.povey@racelogic.co.uk>

	* : NAND: fix off-by-one error in erase command argument range The last_block argument to nand_erase() is checked against
	nand->num_blocks, but the highest valid block number is (total - 1),
	the test for invalid should be ">=" rather than ">".  Signed-off-by: Jon Povey <jon.povey@racelogic.co.uk> Signed-off-by:
	Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-12  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : flash: require unique flash bank name Make sure the flash bank name is unique Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000.cfg: gdb connect will fail first time without gdb-attach gdb-attach does a reset init to make sure that the CFI probe will
	succeed upon first gdb connect.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-10  Karl Kurbjun <kkurbjun@gmail.com>

	* : Fujitsu MBM29SL800TE flash support Hi, This is my first post to the list.  First, I would like to thank
	everyone for their work on OpenOCD, it is a great tool to work with.
	I have been using it to debug code on hardware for the Rockbox
	project (www.rockbox.org).  The target that I primarily work with has a Spansion/Fujitsu NOR
	flash (MBM29SL800TE).  I attached a patch that adds support for this
	flash.  I hope it can be included in the main repository.  If there
	is something that needs to be changed with the patch before
	inclusion please let me know.  -Karl Kurbjun

2010-05-11  Marc Pignat <marc.pignat@hevs.ch>

	* : Documentation : arm920t implements armv4 There is a small typo in the cpu list, arm920t is armv4.

2010-05-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : armv7m: 20 second timeout/megabyte for CRC check There was a fixed 20 second timeout which is too little for large,
	slow timeout checks.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-07  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : cfg: add stm32eval board configs Increase working area for stm3210e_eval.cfg.  Add new configs for
	the following boards: STM321000B-EVAL, STM32100C-EVAL,
	STM32100B-EVAL Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: stop caching protection state There are a million reasons why cached protection state might be
	stale: power cycling of target, reset, code executing on the target,
	etc.  The "flash protect_check" command is now gone. This is *always*
	executed when running a "flash info".  As a bonus for more a more robust approach, lots of code could be
	deleted.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cfi: fix error handling for protect fn No error was propagated.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: connect will now fail if flash autoprobe fails This stops GDB from launching with an empty memory map, making gdb
	load w/flashing fail for no obvious reason.  The error message points in the direction of the gdb-attach event
	that can be set up to issue a halt or "reset init" which will put
	GDB in a well defined stated upon attach and thus have a robust
	flash autoprobe.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-03  Matthias Bode <papabaer.embedded@googlemail.com>

	* : Fixed bug in tcl-server No segmentationfault when sending commands to tcl-server.  	modified:   src/server/server.c 	modified:   src/server/tcl_server.c 	modified:   src/server/tcl_server.h

2010-05-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: more flash write_image bugfixes Remove/fix lots of bugs in handling of non-contigious sections and
	out of order sections.  Fix a gaffe introduced in previous commit to src/flash/nor/core.c Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-05  Marc Pignat <marc.pignat@hevs.ch>

	* : documentation typo Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : str71x: fix previous commit fix build issue with 70226c221f5879bb6126ff3f2ec9ae64c68d80d6 commit Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-05-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : str7x: fix bogus error messages Remove bogus error messages when trying to allocate a large chunk of
	target memory and then falling back to a smaller one.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-05-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: wait for srst to deassert make wait for srst deassert more long latency friendly (JTAG over
	TCP/IP), print actual time if it was more than 1ms.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-30  Tobias Ringström <tobias@ringis.se>

	* : STM32 flash erase timeout fix The current timeout for STM32 flash block erase and flash mass erase
	is 10 (ms), which is too tight, and fails around 50% of the time for
	me.  The data sheet for STM32F107VC specifies a maximum erase time
	of 40 ms (for both operations).  I'd also consider it a bug that the code does not detect a timeout,
	but just assumes that the operation has completed.  The attached
	patch does not address this bug.  The attached patch increases the timeouts from 10 to 100 ms.  Please
	apply.  /Tobias

2010-04-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: write_image would fail for certain images Fix a bug where write_image would fail if the sections in the image
	were not in ascending order. This has previously been fixed in gdb
	load.  Solved by sorting the image sections before running flash
	write_image erase unlock foo.elf.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-28  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : nor: remove bogus output about padding sections padding of 0 bytes is actually no padding, do not output warning
	about padding in that case.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-26  Marek Vasut <marek.vasut@gmail.com>

	* : Add VPACLink interface definition This patch adds definition file for the Voipac VPACLink JTAG
	adaptor. The adaptor is combined JTAG/UART device.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>

2010-04-24  michal smulski <michal.smulski@ooma.com>

	* : telo: update configuration scripts to matched master branch Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-20  michal smulski <michal.smulski@ooma.com>

	* : docs: improve load_image docs add docs for missing args.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-17  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : stm32x: allow flash probe on a running target If the flash has not yet been probed and GDB connects while the
	target is running, the flash probe triggered by GDB's memory map
	read will fail. In that case the returned memory map will be empty,
	causing a subsequent load from within GDB to fail. There's not much
	you can do from GDB to recover, other than a restart; a 'mon reset
	init' and manual 'mon flash probe' won't help since GDB has already
	made up its mind about the memory map.  It seems there's no reason to require the target to be halted when
	probing the flash. Remove the check to let a valid memory map be
	provided to GDB even when connecting to a running target.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>

2010-04-14  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: remove redundant code Arguments for "flash bank" command are already parsed and put in
	"bank" struct.  Removed code to parse them again.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-13  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: fix analyze_trace for trace data collected in wrap mode This patch fixes the xscale_analyze_trace() function.  This function
	was defective for a trace collected in 'fill' mode (hiccups with
	repeated instructions) and completely broken when buffer overflowed
	in 'wrap' mode.  The reason for the latter case is that the
	checkpoint registers were interpreted incorrectly when two
	checkpoints are present in the trace (which will be true in 'wrap'
	mode once the buffer fills).  In this case, checkpoint1 register
	will contain the older entry, and checkpoint0 the newer.  The
	original code assumed the opposite.  I eventually gave up trying to
	understand all the logic of the function, and rewrote it.  I think
	it's much cleaner and understandable now.  I have been using and
	testing this for a few weeks now.  I'm confident it hasn't regressed
	in any way.  Also added capability to handle (as best as possible) the case where
	an instruction can not be read from the loaded trace image; e.g.,
	partial image.  This was a 'TODO' comment in the original
	xscale_analyze_trace().  Outside of xcsale_analyze_trace(), these (related) changes were
	made: - Remove pc_ok and current_pc elements from struct xscale_trace.
	  These elements and associated logic are useless clutter because the
	  very first entry placed in the trace buffer is always an indirect
	  jump to the address at which execution resumed.  This type of trace
	  entry includes the literal address in the trace buffer, so the
	  initial address of the trace is immediately determined from the
	  trace buffer contents and does not need to be recorded when trace is
	enabled.  - Added num_checkpoints to struct xscale_trace_data, which is
	  necessary in order to correctly interpret the checkpoint register
	contents.  - In xscale_read_trace()   - Fix potential array out-of-bounds condition.    - Eliminate partial address entries when parsing trace (can occur
	  in wrap mode).  - Count and record number of checkpoints in trace.  - Added small, inlined utility function xscale_display_instruction()
	  to help make the code more concise and clear.  TODO:  - Save processor state (arm or thumb) in struct xscale_trace when
	   trace is enabled so that trace can be analyzed correctly (currently
	 assumes arm mode).  - Add element to struct xscale_trace that records (when trace is
	   enabled) whether vector table is relocated high (to 0xffff0000) or
	   not, so that a branch to an exception vector is traced correctly
	   (curently assumes vectors at 0x0).

2010-04-14  Anton Fedotov <AD.Fedotov@gmail.com>

	* : cortex-a8: more MMU support + virt2phys() can now convert virtual address to real +
	read_memory() and write_memory() are renamed to read_phys_memory()
	and write_phys_memory() + new read_memory() and write_memory() try
	to resolve real address if mmu is enambled than perform real address
	   reading/writing + if address is bellow 0xc000000 than TTB0 is used
	for page table dereference, if above - than TTB1. Linux style of
	user/kernel address separation    + if above fails (i.e address is unspecified) than mode is
	   checked whether it is Supervisor (than TTB1) or User (than TTB0) - Software breakpoints doesn't work. You should invoke
	"gdb_breakpoint_override hard" before you start debugging +
	cortex_a8_mmu(), cortex_a8_enable_mmu_caches(),
	cortex_a8_disable_mmu_caches() are implemented Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/TMS470: review scope of symbols Add "static" qualifier to private functions and data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-11  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET/MIPS32_PRACC: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : HELPER/LOG: review unused symbols Remove unused functions: - log_catch - log_rethrow - log_try Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/CFI: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : OPENOCD: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : BINARYBUFFER: review scope of data and functions Add "static" qualifier to private data and functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/TCL: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/ARM_IO: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NAND/MX3: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/AVRF: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR/DRIVERS: review scope of functions Add "static" qualifier to private functions.  Remove unused "extern"
	in src/ecosboard.c Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : TCL: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : HELLO: review unused symbols Remove unused functions: - hello_register_commands Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : ADI_V5_JTAG: review scope of data Add "static" qualifier to private data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARM_JTAG: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARMV4_5_MMU: review unused symbols Remove unused data: - armv4_5_mmu_page_type_names Remove prototype of not existing
	function: - armv4mmu_translate_va Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : EMBEDDEDICE: review scope of functions Add "static" qualifier to private functions.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-10  Antonio Borneo <borneo.antonio@gmail.com>

	* : TARGET: review scope of functions Add "static" qualifier to private functions.  Remove unused "extern"
	in src/ecosboard.c Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-04-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Restore deleted '!' character I'm not sure what caused this significant character to get deleted.
	it may be related to intermittent Editor or terminal flakes  I've
	been seeing lately (sigh).  This fix is trivial.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-04-04  David Brownell <dbrownell@users.sourceforge.net>

	* : simplify and unconfuse target_run_algorithm() For some reason there are *two* schemes for interposing logic into
	the run_algorithm() code path...  One is a standard procedural
	wapper around the target method invocation.  the other (superfluous) one hacked the method table by splicing a
	second procedural wrapper into the method table.  Remove it: 	* Rename its  slightly-more-featureful wrapper so it becomes 	  the standard procedural wrapper, leaving its added logic 	  (where it should have been in the first place.            Also add a paranoia check, to report targets that don't 	  support algorithms without traversing a NULL pointer, and 	  tweak its code structure a bit so it's easier to modify.  	* Get rid of the superfluous/conusing method table hacks.  This is a net simplification, making it simpler to analyse what's
	going on, and then interpose logic . ... by ensuring there's only
	one natural place for it to live.  ------------ Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-28  Mike Dunn <mikedunn@newsguy.com>

	* : xscale: fix trace buffer functionality when resuming from a
	breakpoint Problem: halt at a breakpoint, enable trace buffer ('xscale
	trace_buffer enable fill'), then resume.  Wait for debug exception
	when trace buffer fills (if not sooner due to another breakpoint,
	vector catch, etc).  Instead, never halts.  When halted explicitly
	from OpenOCD and trace buffer dumped, it contains only one entry; a
	branch to the address of the original breakpoint.  If the above
	steps are repeated, except that the breakpoint is removed before
	resuming, the trace buffer fills and the debug exception is
	generated, as expected.  Cause: related to how a breakpoint is stepped over on resume.  The
	breakpoint is temporarily removed, and a hardware breakpoint is set
	on the next instruction that will execute.  xscale_debug_entry() is
	called when that breakpoint hits.  This function checks if the trace
	buffer is enabled, and if so reads the trace buffer from the target
	and then disables the trace (unless multiple trace buffers are
	specified by the user when trace is enabled).  Thus you only trace
	one instruction before it is disabled.  Solution: kind of a hack on top of a hack, but it's simple.
	Anything better would involve some refactoring.  This has been
	tested and trace now works as intended, except that the very first
	instruction is not part of the trace when resuming from a
	breakpoint.  TODO: still many issues with trace: doesn't work during
	single-stepping (trace buffer is flushed each step), 'xscale
	analyze_trace' works only marginally for a trace captured in 'fill'
	mode, and not at all for a trace captured in 'wrap' mode.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : NOR TCL: fix usage message The command "flash bank" has updated syntax.  Add the mandatory
	parameter <target> to the usage message that prints in case of
	error.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: dev tool first cut peek/poke over tcp/ip, used for debug/research purposes
	only. Long term JTAG over TCP/IP might be an offshoot. The
	performance is usable for development/testing purposes.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-25  Daniel Bäder <openocd@eh-oh.de>

	* : change %x and %d to PRIx32 and PRId32 where needed for cygwin

2010-03-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : telnet_server: review unused symbols Remove unused function Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-24  David Brownell <dbrownell@users.sourceforge.net>

	* : FT2232 Messaaging fix The init cleanup patch overlooked a message which was wrongly
	specific to the "usbjtag" layout.  Fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-24  Antonio Borneo <borneo.antonio@gmail.com>

	* : server: review scope of functions and data Add "static" qualifier to private functions and data.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2010-03-20  Mike Dunn <mikedunn@newsguy.com>

	* : fix software breakpoints on xscale This patch fixes xscale software breakpoints by cleaning the dcache
	and invalidating the icache after the bkpt instruction is inserted
	or removed.  The icache operation is necessary in order to flush the
	fetch buffers, even if the icache is disabled (see section 4.2.7 of
	the xscale core developer's manual).  The dcache is presumed to be
	enabled; no harm done if not.  The dcache is also invalidated after
	cleaning in order to safeguard against a future load of invalid
	data, in the event that cache_clean_address points to memory that is
	valid and in use.  Also corrected a confusing typo I noticed in a comment.  TODO (or not TODO...?): the xscale's 2K "mini dcache" is not
	cleaned.  This cache is not used unless the 'X' bit in the page
	table entry is set.  This is a proprietary xscale extension to the
	ARM architecture.  If a target's OS or executive makes use of this
	for memory regions holding code, the breakpoint problem will
	persist.  Flushing the mini dcache requires that 2K of valid
	cacheable memory (mapped with 'X' bit set) be designated by the user
	for this purpose.  The debug handler that gets downloaded to the
	target will also need to be extended.

2010-03-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ft2232 init mess cleanup In the ft2232 driver, initialization for many layouts punts to a
	routine called usbjtag_init(), instead of a routine specific to each
	layout.  That routine is  a mess  built around a "what type layout am I"
	core.  That's a bad design ... in this case, especially so, since it
	bypasses the layout-specific dispatch which was just done, and
	obfuscates the initialization which is at least somewhat generic,
	instead of being specific to the "usbjtag" layout.  Split and document out the generic parts of usbjtag_init(), and make
	the rest of those layouts have layout-specific init methods.  Also,
	rename usbjtag_reset() ... that also was not specific to the
	"usbjtag" layout, and thus contributed to the previous code
	structure confusion.  (Eventually, all layout-specific code (and method tables) should
	probably live in files specific to each layout.  These changes will
	facilitate those and other cleanups to this driver.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: make out_value const Tightens up the jtag_add_xxx_scan() API Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-19  David Brownell <dbrownell@users.sourceforge.net>

	* : FT2232 comment tweaks Note that the FT4232 chips have four channels not two, and Elaborate
	on uses of the additional channels.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix bug in end state of DCC writes Introduced in latest commits, found by code inspection & GCC
	warning.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: remove jtag_get_end_state() usage Code inspection indicated what constant end states to use.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: remove unecessary usage of jtag_get_end_state().  By code inspection.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Mike Dunn <mikedunn@newsguy.com>

	* : Fix underlying problem with xscale icache and dcache commands Fix problem with the xscale icache and dcache commands.  Both
	commands were enabling or disabling the mmu, not the caches I didn't look any further after my earlier patch fixed the trivial
	problem with command argument parsing.  Turns out the underlying
	code was broken.  The resolution is straightforward when you look at the arguments to
	xscale_enable_mmu_caches() and xscale_disable_mmu_caches().  I
	finally took a deeper look after dumping the cp15 control register
	(XSCALE_CTRL) and seeing that the cache bits weren't changing, but
	the mmu bit was (which caused all manner of grief, as you can
	imagine).  This has been tested and works OK now.   src/target/xscale.c |   17 +++++++++++------  1 files changed, 11 insertions(+), 6 deletions(-) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-18  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 52a788e008ecf0ca6156f02de08a0f062d49a236 Author: David
	Brownell <dbrownell@users.sourceforge.net> Date:   Thu Mar 18
	11:56:17 2010 -0700

2010-03-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: retire one instance of jtag_get_end_state() usage Less global variables....  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-18  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : DOCS: update flash bank examples  - include the $_FLASHNAME in all flash bank examples.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: remove unused arg from mips_ejtag_set_instr This arg was never used and was just taken from the arm jtag code.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : linker error: fix problem with duplicate fn A fn was copied instead of moved to a new file. The linker can
	discard exact copies of fn's without warning.  This is a C++'ism.  However on my Ubuntu 9.10 machine, it fails.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: long running "monitor mww" now works w/gdb invoke keep_alive() to make sure that the default 2000ms timeout
	does not trigger.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : target: mdX/mwX on target were badly broken - incorrect parsing of arguments - mdX didn't display arguments correctly I don't think anyone ever used that code path :-) Did you know that "target mdw" and mdw are very different? for {set i 0} {$i < 256} {set i [expr $i+1]} {mwb [expr
	0x2000000+$i] $i}  mdw 0x2000000 0x10 0x02000000: 03020100 07060504 0b0a0908 0f0e0d0c
	13121110 17161514 1b1a1918 1f1e1d1c 0x02000020: 23222120 27262524
	2b2a2928 2f2e2d2c 33323130 37363534 3b3a3938 3f3e3d3c > zy1000.cpu mdb 0x2000000 0x20 0x02000000 00 01 02 03 04 05 06 07
	08 09 0a 0b 0c 0d 0e 0f ................  0x02000010 10 11 12 13 14
	15 16 17 18 19 1a 1b 1c 1d 1e 1f ................  > zy1000.cpu mdh
	0x2000000 0x20 0x02000000 0100 0302 0504 0706 0908 0b0a 0d0c 0f0e
	................  0x02000010 1110 1312 1514 1716 1918 1b1a 1d1c 1f1e
	................  0x02000020 2120 2322 2524 2726 2928 2b2a 2d2c 2f2e
	!"#$%&'()*+,-./ 0x02000030 3130 3332 3534 3736 3938 3b3a 3d3c 3f3e
	0123456789:;<=>? > zy1000.cpu mdw 0x2000000 0x20 0x02000000 03020100
	07060504 0b0a0908 0f0e0d0c ................  0x02000010 13121110
	17161514 1b1a1918 1f1e1d1c ................  0x02000020 23222120
	27262524 2b2a2928 2f2e2d2c  !"#$%&'()*+,-./ 0x02000030 33323130
	37363534 3b3a3938 3f3e3d3c 0123456789:;<=>? 0x02000040 43424140
	47464544 4b4a4948 4f4e4d4c @ABCDEFGHIJKLMNO 0x02000050 53525150
	57565554 5b5a5958 5f5e5d5c PQRSTUVWXYZ[\]^_ 0x02000060 63626160
	67666564 6b6a6968 6f6e6d6c `abcdefghijklmno 0x02000070 73727170
	77767574 7b7a7978 7f7e7d7c pqrstuvwxyz{|}~.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PIC32: add software reset support The PIC32MX does not support the ejtag software reset - it is
	optional in the ejtag spec.  We perform the equivalent using the microchip specific MTAP cmd's.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb_server: improved gdb load performance by ack'ing memory writes immediately and reporting either at next
	memory write or stepi/continue time. GDB will then send off a new
	packet that is ready by the time the previous packet has been
	written to target memory.  On faster adapters this can be as much as 10% improvement.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm7/9: remove unused post_restore_context Unused. If something should happen after context restore, then the
	calling code can just do it afterwards.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : bitbang: add jtag_add_tms_seq support Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-16  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PIC32: add Microchip Explorer16 cfg - add Microchip Explorer16 cfg using PIC32MX360F512L PIM.   - remove reset config from PIC32 target cfg.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-15  Bradey Honsinger <bradeyh@gmail.com>

	* : image loading: fix problem with offsets > 0x80000000 Fixes bug that prevented users from specifying a base address of
	0x80000000 or higher in image commands (flash write_image, etm
	image, xscale trace_image).  image.base_address is an offset from the start address contained in
	the image file (if there is one), or from 0 (for binary files). As a
	signed 32-bit int, it couldn't be greater than 0x7fffffff, which is
	a problem when trying to write a binary file to flash above that
	address. Changing it to a 64-bit long long keeps it as a signed
	offset, but allows it to cover the entire 32-bit address space.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-15  David Brownell <dbrownell@users.sourceforge.net>

	* : rename jtag_nsrst_assert_width as adapter_nsrst_assert_width Globally rename "jtag_nsrst_assert_width" as
	"adapter_nsrst_assert_width", and move it out of the "jtag" command
	group ...  it needs to be used with non-JTAG transports Includes a migration aid (in jtag/startup.tcl) so that old user
	scripts won't break.  That aid should Sunset in about a year.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-15  David Brownell <dbrownell@users.sourceforge.net>

	* : rename jtag_khz as adapter_khz Globally rename "jtag_khz" as "adapter_khz", and move it out of the
	"jtag" command group ...  it needs to be used with non-JTAG
	transports Includes a migration aid (in jtag/startup.tcl) so that old user
	scripts won't break.  That aid should Sunset in about a year.  (We
	may want to update it to include a nag message too.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-15  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PIC32MX: update cfg script The default config script will now dynamically setup the BMX
	registers in the reset init script.  This will also work if the user
	overrides the default working area.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-14  David Brownell <dbrownell@users.sourceforge.net>

	* : FT2232: lookup and save layout just once Streamline use of the layout:  have the "ft2232_layout" command look
	it up and save the result, instead of having a few different chunks
	of code looking it up later, and saving just its name (which is
	already part of the layout).  This    - is cleaner    - reports errors sooner    - facilitates earlier adapter-specific setup    - removes unused "default to "usbjtag" logic Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-11  David Brownell <dbrownell@users.sourceforge.net>

	* : versaloon cleanup patch Remove undesirable  - backslashes at end-of-line;  - initializations of BSS data to zero/NULL;  - overlong lines (80+ characters)  - whitespace issues  - brackets around single-line statements And other minor issues reported by the Linux "checkpatch" utility Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-08  Michal Demin <michaldemin@gmail.com>

	* : Add support for Bus Pirate as a JTAG adapter.  This includes a driver and matching config file.  This support needs
	to be enabled through the initial "configure" (use
	"--enable-buspirate").  Signed-off-by: Michal Demin <michaldemin@gmail.com> Signed-off-by:
	David Brownell <dbrownell@users.sourceforge.net>

2010-03-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: make fixed code arrays static const Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PIC32: add flash algorithm support Add flash algorithm support for the PIC32MX.  Still a few things
	todo but this dramatically decreases the programing time, eg. approx
	 programming for 2.5k test file.  - without fastload: 60secs  - with fastload: 45secs  - with fastload and algorithm: 2secs.  Add new devices to supported list.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : STR7: flash loader cleanup - make algorithm array static const.   - increase algorithm buffer size to 32k.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ADUC702x: flash loader cleanup - make algorithm array static const.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-03-08  David Brownell <dbrownell@users.sourceforge.net>

	* : move a constant table to .rodata section The table of command registration functions shouldn't be in writable
	memory, where stray pointers can clobber it.  Also, it shouldn't be
	initialized at runtime; that just consumes needless code space.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: embedded ice dcc tweak How many bits to shift out before/after enabled tap not in bypass is
	calculated outside the loop. This is more of a demonstration of
	principle and to clarify code than a performance optimisation as
	such. Follows up a bit on the simplification work in jtag interface.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag: jtag_add_ir_scan() now takes a single field In the code a single field was all that was ever used. Makes
	jtag_add_ir_scan() simpler and leaves more complicated stuff to
	jtag_add_plain_ir_scan().  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-06  Antonio Borneo <borneo.antonio@gmail.com>

	* : CFI: review print of Voltage values JEDEC standard reports Vpp integer part encoded as 4 bit HEX value.
	To print it using decimal digits, %u is required.  Other voltage
	values are coded as BCD, so %x is appropriate.  Code already prints one nibble at a time, so no need for field width
	and precision in format string.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-05  David Brownell <dbrownell@users.sourceforge.net>

	* : README: update libftdi version The FT2232H really wants libftdi 0.17 or newer; some notable bugs
	got fixed in that version.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : minidriver: fix arm11 compilation problem Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-03  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: trim range in flash_driver_protect() When the beginning or end of the specified range of sectors already
	has the requested protection status, don't ask the flash driver to
	change those sectors.  This will among other things turn command sequences like this into
	the NOPs one would expect: 	flash protect_check 0 	flash info 0 		... reports everything as unprotected ...  	flash protect 0 0 1 off That speeds things up (by whatever work was just avoided).  Also, with Stellaris (which can't unprotect flash at  page level)
	this can eliminate some undesirable/false error reports.  (And
	finishes fixing a bug currently listed in our bug database...) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-03  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: stellaris message tweaks Give a more accurate failure message when trying to unprotect; don't
	complain about pages being write protected, just say that unprotect
	is not supported by the hardware ... referencing the new "recover"
	command, which is the way to achieve that.  Likewise, when trying to protect, talk about "pages" (matching
	hardware doc) not "sectors" (an concept that's alien to these
	chips).  Also make the helptext for the "recover" command mention that it
	also erases the device.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: use new DAP ops for AP read/write Make ADIv5 internals use the two new transport-neutral calls for
	reading and writing DP registers; and do the same for external
	callers.  Also, bugfix some of their call sites to handle the fault
	returns, instead of ignoring them.  Remove most of the JTAG-specific calls, using their code as the
	bodies of the JTAG-specific implementation for the new methods.  NOTE that there's a remaining issue:  mem_ap_read_buf_u32() makes
	calls which are JTAG-specific.  A later patch will need to remove
	those, so JTAG-specific operations can be removed from this file,
	and so that SWD support will be able to properly drop in as just a
	transport layer to the ADIv5 infrastructure.  (The way read results
	are posted may need some more attention in the transport-neutrality
	interface.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: use new dap_run() operation Make ADIv5 use one of the new transport-neutral interfaces: call
	dap_run(), not jtagdp_transaction_endcheck().  Also, make that old interface private; and bugfix some of its call
	sites to handle the fault returns, instead of ignoring them.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* : target_resume() doxygen Add doxygen for target_resume() ... referencing the still-unresolved
	confusion about what the "debug_execution" parameter means (not all
	CPU support code acts the same).  The 'handle_breakpoints" param seems to have resolved the main issue
	with its semantics, but it wasn't part of the function spec before.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: use right ID for Cortex-M3 ETM Correct a mistake made copying the ID of the Cortex-M3 ETM module
	from the TRM, so that "dap info" on a CM3 with an ETM will now
	correctly describe ROM table entries for such modules.  (They are
	included on LPC17xx and some other cores.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-03-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: faster jtag_add_ir_scan() Faster and simpler.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-03-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: add jtag_add_tms_seq support Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : armv4_5: remove core_type check in mcr/mrc cmd core_type check is not required as the core function will be null
	for cores that do not support the mcr/mrc functions.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : stellaris: recover_command use usleep rather than sleep windows api does not define a posix sleep, use usleep that has an
	openocd wrapper to the win32 native function.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : semihosting: add armv7m semihosting support do_semihosting and arm_semihosting now check the core type and use
	the generic arm structure.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : CortexM3: move disassemble cmd to arm cmd group Rather than using a Cortex disassemble cmd, we now use the arm
	generic version.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-13  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: add mips algorithm support  - add mips support for target algorithms.   - added handlers for target_checksum_memory and
	 target_blank_check_memory.  - clean up long lines Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-28  Mariano Alvira <mar@devl.org>

	* : Add board/redbee-usb.cfg The Redbee USB is a small form-factor usb stick from Redwire, LLC (www.redwirellc.com/store), built around a Freescale MC13224V
	ARM7TDMI + 802.15.4 radio (plus antenna).  It includes an FT2232H for debugging, with Channel B connected to
	the mc13224v's JTAG interface (unusual) and Channel A connected to
	UART1.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  Mariano Alvira <mar@devl.org>

	* : Add target/mc13224v.cfg The MC13224V is a FreeScale ARM7TDMI based IEEE802.15.4 platform for
	Zigbee and similar low-power wireless applications. Using PIP
	(Platform In Package) technology, it integrates: an RF balun and
	matching network; a buck converter (only an external inductor is
	necessary); 96KB of SRAM; and 128KB of non-volatile memory.  It has an integrated bootloader and can boot from a variety of
	sources: external SPI or I2C non-volatile memory, an image loaded
	over UART1, or the internal non-volatile memory. The image loaded
	from one of these sources is executed directly from SRAM starting at
	location 0x00400000.  Open source development code at http://mc1322x.devl.org Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5 DAP ops switching to JTAG or SWD modes Define two new DAP operations which use the new jtag_add_tms_seq()
	calls to put the DAP's transport into either SWD or JTAG mode, when
	the hardware allows.  Tested with the Stellaris 'Recovering a "Locked" Device' procedure,
	which loops five times over both of these.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-27  David Brownell <dbrownell@users.sourceforge.net>

	* : interface: define TMS sequence command For support of SWD we need to be able to clock out special bit
	sequences over TMS or SWDIO.  Create this as a generic operation,
	not yet called by anything, which is split as usual into:  - upper level abstraction ... here, jtag_add_tms_seq();  - midlayer implementation logic hooking that to the lowlevel code;  - lowlevel minidriver operation ... here, interface_add_tms_seq();  - message type for request queue, here JTAG_TMS.  This is done slightly differently than other operations: there's a
	flag saying whether the interface driver supports this request.  (In
	fact a flag *word* so upper layers can learn about other
	capabilities too ...  for example, supporting SWD operations.) That approach (flag) lets this method *eventually* be used to
	eliminate pathmove() and statemove() support from most adapter
	drivers, by moving all that logic into the mid-layer and increasing
	uniformity between the various drivers.  (Which will in turn reduce
	subtle bugginess.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADIv5 doxygen and cleanup Add doxygen for mem_ap_read_buf_u{8,16,32}() calls, and shrink a few
	overlong lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-23  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM ADIv5: rename more JTAG-specific routines Highlight more of the internal JTAG-specific utilities, so it's
	easier to identify code needing changes to become transport-neutral.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: allow minidrivers to implement inner loop of memory
	writes This allows minidrivers to e.g. hardware accelerate memory writes.  Same trick as is used for arm7/9 dcc writes.  Added error propagation for memory transfer failures in code
	rearrangement.  Also the JTAG end state is not updated until after the memory write
	run is complete.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ft2232 table init cleanup Use labeled initializers in the table of layouts instead of
	positional ones.  This ls cleaner and less error prone, plus it
	simplifies patches which add members to these structure.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: relocate memacess_tck cycles When using an AP to access a memory (or a memory-mapped register),
	some extra TCK (assuming JTAG) cycles should be added to ensure the
	AP has enugh time to complete that access before trying to collect
	the response.  The previous code was adding these cycles *before* trying to access
	(read or write) data to that address, not *after*.  Fix by putting
	the delays in the right location.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: ADIv5, deadcode cleanup I have no idea what the scan_inout_check() was *expecting* to
	achieve by issuing a read of the DP_RDBUFF register.  But in any
	case, that code was clearly never being called ("invalue" always
	NULL) ... so remove it, and the associated comment.  Also rename it as ap_write_check(), facilitating a cleanup of its
	single call site by removing constant parameters.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5 clean up AP fault handling Pass up fault codes from various routines, so their callers can
	clean up after failures, and remove the FIXME comments highlighting
	those previously goofy code paths.   dap_ap_{read,write}_reg_u32()  dap_ap_write_reg()  mem_ap_{read,write}_u32()  mem_ap_{read,write}_atomic_u32()  dap_setup_accessport() Make dap_ap_write_reg_u32() just wrap dap_ap_write_reg(), instead of
	cloning its core code (and broken fault handling).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: keep a handle to the PC Keep a handle to the PC in "struct arm", and use it.  This register
	is used a fair amount, so this is a net minor code shrink (other
	than some line length fixes), but mostly it's to make things more
	readable.  For XScale, fix a dodgy sequence while stepping.  It was
	initializing a variable to a non-NULL value, then updating it to
	handle the step-over-active-breakpoint case, and then later testing
	for non-NULL to see if it should reverse that step-over-active
	logic.  It should have done like ARM7/ARM9 does: init to NULL.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: per-core options should not be global Address some FIXME comments by getting rid of globals, moving
	per-core parameters in the existing per-core data structure.  This will matter most whenever there are multiple ARM11 cores, e.g.
	ARM11 MPcore chips, but in general is just cleanup.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : Open the merge window for the 0.5.0 release cycle.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-21  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide mentions OS-specific installation Specifically the Linux issue of needing "udev" rules, and MS-Windows
	needing driver configuration.  Also, update the existing udev note to use the correct name of that
	rules file in the source tree.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-20  David Brownell <dbrownell@users.sourceforge.net>

	* : CSB337 board cleanup (quasi-regression) Get rid of new nasty warning: NOTE! Severe performance degradation without fast memory access
	enabled...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-16  Marc Pignat <marc.pignat@hevs.ch>

	* : atm920t : fix breakpoints and data cache handling Breakpoints did not work because the data cache was not flushed
	properly.  As a bonus add capability to write to memory marked as read only by
	the MMU, which allows software breakpoints in such memory regions.

2010-02-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : gpl: fix GPL startup message Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-14  Mathias Kuester <mkdorg@users.sourceforge.net>

	* : fix crash with DSP563XX When a DSP563xx-aware GDB asks OpenOCD for target registers, the
	result should be a GDB with register data ... not an OpenOCD crash.  (Note that mainline GDB doesn't currently support this core, so for
	now, this requires a GDB with FreeScale patches.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-13  David Brownell <dbrownell@users.sourceforge.net>

	* : Restore "-dev" version suffix (0.4.0-rc2-dev) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-11  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : STR9xpec: issue warning when unlocking device Issue warning to user when unlocking or writing the option bytes.
	The new settings will not take effect until a target reset.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm720t: virt2phys callback added This is a copy and paste of arm926ejs. Not tested, but ready for
	testing at least. There is a good chance that it will work if the
	generic armv4_5 fn's are robust enough...  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-11  Viktar Palstsiuk <viktar.palstsiuk@promwad.com>

	* : target library: configuration files for openocd tested with
	Atmel SAM-ICE V6 JTAG.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: fix another infinite loop bug reset init would get stuck in an infinite loop when e.g. khz was too
	high. Added timeout. This is a copy of paste of a number of such
	bugfixes in the arm11 code.  Arm11 code reviewed for further such infinite loop bugs and I
	couldn't find any more. Xing fingers it's the last one...  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : target: add todo in target_write_memory() about alignment target_write_buffer() does not align "buffer" in host memory passed
	to target_write_memory().  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-06  David Brownell <dbrownell@users.sourceforge.net>

	* : Re-title Developer's Guide The Doxygen output was previously titled "OpenOCD Reference Manual",
	which was quite misleading ... the User's Guide is the reference
	manual which folk should consult about how to use the software.  Just rename it to match how it's been discussed previously, and to
	bring out its intended audience:  developers of this software.  As a
	rule, Doxygen is only for folk who work with the code it documents.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: complete zy1000_uart to jim command switch Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-02-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Documentation: mention bug database Have the User's Guide and BUG handling notes both reference the fact
	that we now have a bug database at SourceForge.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-04  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : CMD: duplicate cmd error msg When registering cmds we report duplicate attempts to register a cmd
	as a LOG_ERROR.  Some situations need this, such as when registering
	dual flash banks.

	http://www.mail-archive.com/openocd-development@lists.berlios.de/msg11152.htmlSigned-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-03  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : JTAG: fix bug when no interface connected  - fix coredump when OpenOCD is started without a jtag interface
	 connected.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-02-02  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: User's Guide updates Remove long-obsolete text about "erase_check" affecting "flash info"
	output.  Move parts of that text to "protect_check", where it's
	still relevant; and update the "flash info" description to mention
	the issue.  (This is still awkward.  It might be best to make "protect_check"
	mirror "erase_check" by dumping what it finds, so "flash info"
	doesn't dump any potentially-stale cache info.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-02-02  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : flash/str7x: After reset init the flash is unlocked The default state of the STR7 flash after a reset init is unlocked.
	The information in the flash driver now reflects this.  The information about the lock status cannot be read from the flash
	chip, so the user is informed that flash info might not contain
	accurate information.  [dbrownell@users.sourceforge.net: line length shrinkage] Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : Test cases ran on v0.4.0-rc1 Test cases ran on v0.4.0-rc1 for a number of targets: AT91FR40162
	LPC2148 SAM7 STR710 STR912 The goal of the testing session was to prove basic functionality of
	OpenOCD for different targets.  Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-01-31  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: more messaging cleanup, docs When the TAR cache was explicitly invalidated, don't bother printing
	it; the actual hardware status is more informative.  Provide some doxygen for the MEM-AP setup routine.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : telnet: fix strage blank spaces at beginning of telnet lines Sometimes we saw two strange blank spaces at the beginning of the
	telnet lines.  progress   ogress > This patch fixes this problem: progress progress > The code changes are *reasonably* clean, but perhaps it could be
	made a bit more elegant, but I didn't want to change things after I
	finished diagnosis/testing & submitting the patch.  The problem was that logging can send the text and the newline
	separately in two different requests and the telnet code would
	incorrectly remove the prompt from the end of a line.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-30  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5 error checking for Tcl commands Reject invalid AP numbers (256+) as Tcl operation parameters.
	Shrink one of the overlong lines.  Add my copyright to the ADIv5 code (multiple contributions).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  David Brownell <dbrownell@users.sourceforge.net>

	* : ADIv5: cleanup, rename swjdp_transaction_endcheck() Make messages reference "DAP" if they're actually
	transport-agnostic, or "JTAG-DP" when they're JTAG-specific.  Saying
	SWJ-DP is often wrong (on most Cortex-A8 chips) and is confusing
	even if correct (since we don't yet support SWD).  Rename a JTAG-specific routine to jtagdp_transaction_endcheck() to
	highlight that it's JTAG-specific, and that identify DAP clients
	undesirably depending on JTAG.  (They will all need to change for
	SWD support.) Shrink a few overlong lines of code.  Copy a comment from code
	removed in a previous patch (for the ARMv7-M "dap baseaddr"
	command).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-29  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: cleanup driver decls Fix goofy struct indents.  Function names *are* their addresses.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-28  David Brownell <dbrownell@users.sourceforge.net>

	* : doc clarifications for server flags The "-f" is a shortcut for "-c" ... and providing any "-c" options
	means the "openocd.cfg" file isn't implicitly used.  Both the User's
	Guide and the manual page were weak on these points, which has led
	to some confusion.  Also update the manual page to include highlights of the search path
	mechanism, including the facts that it exists and that "-s" adds to
	it.  Stop saying only the current directory is involved; the OpenOCD
	script library is quite significant.  (Missing: complete manpage coverage of the search path, including a
	FILES section listing all components and saying where the script
	library is found.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-28  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ARM semihosting: win32 and cygwin fixes Cygwin would fail to reopen a previously written file if the mode is
	not given.  Simplified converting the open flags and made sure the win32
	O_BINARY bit is set.  Added define for systems that do not support O_BINARY.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-27  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: report lockup, and recover ARMv7-M defines a "lockup" state that's entered in certain double
	fault sequences which can't be recovered from without external help.
	OpenOCD has previously ignored this.  Issue a diagnostic saying the chip has locked up, and force exit
	from this state by halting the core.  It's not clear this is the
	best way to handle lockup; but there should now be less confusion.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-27  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: debug messaging tweaks Make that "TODO" message say what needs to be done.  Say what part
	of examining failed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-26  David Brownell <dbrownell@users.sourceforge.net>

	* : cygwin buildfix isspace() parameter must be an integer, else a 'char' gets used as
	an array index (sigh).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-25  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : core arm11: Silence logs at level 3 if there is no activity If the target and openocd are idling, the log should normally be
	silent at level 3.  (Given no verbose logging options.) Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-22  David Brownell <dbrownell@users.sourceforge.net>

	* : EmbeddedICE - fix Feroceon/Dragonite message The breakpoint/watchpoint message was wrong for Feroceon and
	Dragonite, which have only one working watchpoint unit.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: fix breakpoints with GDB This fixes a bug whereby GDB's breakpoints weren't activated.  The
	root cause is a confused interface to resume().  Fix by almost
	ignoring the "handle breakpoints" parameter; it only seems related
	to the case of skipping breakpoint-at-PC.  Update a few coments to clarify what's happening.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide secton on target hardware setup Highlight the needs to properly jumper development boards; to make
	the OpenOCD configuration match the jumpering; and to have a usable
	"reset-init" method when debugging early boot code.  Specific mention of the "ATX Mode" that seems useful on many i.MX
	boards, forcing NAND boot.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : target: print reason why GDB halts If GDB halts unexpectedly, print reason: srst assert or power out
	detected.  If polling fails, then things are a bit trickier. We do not want to
	spam telnet or the log with polling failed messages.  Leave that
	case be w/a comment in a code for now.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-21  Edgar Grimberg <edgar.grimberg@zylin.com>

	* : target: Fixed format problem for mdh Fixed format problem for mdh. It needs to display 4 chars.  Signed-off-by: Edgar Grimberg <edgar.grimberg@zylin.com>

2010-01-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : ecos: add missing PRId8 definition Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-20  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3 vector_catch testing support The "cm3-ftest.cfg" can be used to verify that OpenOCD handles
	certain faults correctly:  - Test #1: it ignores faults that it wasn't told to catch  - Test #2: if vector_catch is told to catch, it catches The "fault.c" generates ASM code to trigger faults, while the config
	script loads and runs pre-compiled code.  This covers most, but not all, of the vector_catch options.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-20  David Brownell <dbrownell@users.sourceforge.net>

	* : gdb_server: correctly report flash sector sizes Report each region of same-size sectors separately, instead of
	incorrectly reporting that every sector has the same size.  This is a longstanding bug on NOR flash chips with non-uniform
	sector sizes.  It was largely hidden by other bugs in flash
	handling.  When some of those were recently fixed, this one was
	exposed as a regression on str710.  [oyvind.harboe@zylin.com: update the loop to behave on str7 ] Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : testing: fix str710 test case now builds Make the test case easily adjustable in size. str710 has very
	peculiar flash sector layout, nice for testing, but a larget
	test_rom.elf is required.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-19  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : ARMV7M: handle bkpt instruction on resume/step Skip over a bkpt instruction if found on resume/step.  Only software
	breakpoints known to OpenOCD are currently handled.  So this handles the special case of either a user added bkpt or
	library added, eg. semi-hosting support.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-19  David Brownell <dbrownell@users.sourceforge.net>

	* : gdb_server -- subroutinize memory map logic Put the memory map logic into its own subroutine.  This will make it
	a bit easier to package bugfixes, and simplifies the query packet
	handling.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-21  Andreas Fritiofson <andreas.fritiofson@gmail.com>

	* : update win32 script search path The default script search path on Windows is out of date with the
	current layout (from installation and documentation), which makes
	the standard script library not be found after a normal 	./configure && make && make install under msys/MinGW. The same should hold true for cygwin native builds
	(not verified).  Update search path to ../share/openocd/scripts not ../lib/openocd,
	relative to the openocd executable.  Signed-off-by: Andreas Fritiofson <andreas.fritiofson@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: flush jtag buffer before changing speed It is conceivable that there could be commands in the queue when a
	speed change request comes in. Flush the hw queue before changing
	speed. Not observed, found by inspection.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-19  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: add error messages upon incorrect arguments to flash
	iteration According to OpenOCD error handling rules the error is logged at
	where it occurs(same site where an exception would have been
	thrown).  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-18  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : commands: allow scan_chain command to be executed during config Adding taps and then dumping them is quite reasonable thing to do in
	a config script.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-16  richard vegh <vegh.ricsi@gmail.com>

	* : NAND: lpc3180 crashes on LPC3250 The LPC3180 NAND driver was crashing on some large page chips.  Fix:  - Crash and related functionality (don't memset too much OOB data)  - Some debug messages  - Command handling now works [dbrownell@users.sourceforge.net: whitespace/linelength/message
	cleanup] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-15  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM DPM: disable some nyet-ready breakpoint code Until we manage breakpoints at runtime (patches not ready for 0.4)
	the only way this code should touch them is to disable them at
	server startup (a previous debug session may have left them active).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-14  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag.h whitespace/comment cleanup Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-14  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7/ARM9: improved reset support Teach most remaining ARM cores how to use the "reset-assert" event.  Same model as elsewhere:  iff a handler is provided for that event,
	use that instead of trying to assert SRST (which may be unavailable,
	or inappropriate since it resets too much).  Else no change.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-14  Laurentiu Cocanu <laurentiu.cocanu@zylin.com>

	* : str9x.c: remove optimization when erasing the whole bank Using the erase bank command will cause a time out error. Replacing
	this with the erase sector bank will provide a slower but safer and
	stable method to erase the flash.  Signed-off-by: Laurentiu Cocanu <laurentiu.cocanu@zylin.com>
	Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-14  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : GDB: change gdb_breakpoint_override to COMMAND_ANY  - enable gdb_breakpoint_override to be used within config script.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-13  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: add optional "flash erase_address" sector padding Add a NOR flash mechanism where erase_address ranges can be padded
	out to sector boundaries, triggering a diagnostic:   > flash erase_address 0x0001f980 16   address range 0x0001f980 .. 0x0001f98f is not sector-aligned   Command handler execution failed   in procedure 'flash' called at file "command.c", line 647   called at file "command.c", line 361   >   > flash erase_address pad 0x0001f980 16   Adding extra erase range, 0x0001f800 to 0x0001f97f   Adding extra erase range, 0x0001f990 to 0x0001fbff   erased address 0x0001f980 (length 16) in 0.095975s (0.163 kb/s)   > This addresses what would otherwise be something of a functional
	regression.  An earlier version of the interface had a dangerous
	problem:  it would silently erase data outside the range it was told
	to erase.  Fixing that bug turned up some folk who relied on that
	unsafe behavior.  (The classic problem with interface bugs!) Now
	they can get that behavior again.  If they really need it, just
	specify "pad".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm7/9: enable check that DCC downloads have been enabled Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : target: add check_reset hook Allow targets to run checks post reset. Used to check that e.g. DCC
	downloads have been enabled.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : debug: make logging of commands terser one line / command instead of one line per argument.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Vladimir Zapolskiy <vzapolskiy@gmail.com>

	* : Added Openmoko USB JTAG interface config file.  Added interface config file for JTAG/RS232 debug board originally
	integrated to Neo 1973 and Neo FreeRunner phones.  Adapter was
	tested with i.MX31, S3C2410 and AT91SAM9260 processors.  Signed-off-by: Vladimir Zapolskiy <vzapolskiy@gmail.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : reset: better error messages Use correct tcl syntax to throw exception.  the syntax is "return -code error" not "return -error" Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-11  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: reset bugfix flush JTAG FIFO before reset. Fixes RCLK problems observed
	w/lpc2148, but really fixes a wider range of problems.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : shutdown: more graceful shutdown Shutdown is not an error condition, do not return error from main.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-10  David Brownell <dbrownell@users.sourceforge.net>

	* : FreeBSD build fixes Based on notes from Tomek Cedro <tomek.cedro@gmail.com> and Steve
	Franks <bahamasfranks@gmail.com>.  In the User's Guide, sort the list of operating systems reported
	through Tcl with $ocd_HOSTOS ... and include FreeBSD.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag/tcl help/usage fixups The usual: expand several helptexts to be more correct and to use
	full sentences; make the usage messages use the same EBNF as the
	User's Guide; use function names for their addresses.  Also add a comment about that odd jtag_command_handlers_to_move[]
	thing.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag: presto, parport help/usage updates Presto: add doxygen file comment.  Parport: note a couple gaps in layout config.  Both: use the uniform EBNF for usage, bugfix helptexts, use function
	name as its address not "&name".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : parport (mostly) doc fixes The "parport_port" commands generally don't *require* a port_number;
	they're of the "apply any parameter, then print result" variety.
	Update the User's Guide accordingly.  Some of those commands are intended to be write-once: parport_port,
	and parport_cable.  Say so.  Use proper EBNF for the parport_write_on_exit parameter.  Parport address 0xc8b8 is evidently mutant.  Say so in the
	"parport.cfg" file, to avoid breaking anyone with that mutant
	config.  But update the User's Guide to include a sane example for
	the LP2 port.  Finally document the "presto_serial" command.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : src/flash/nor: usage/help/doc updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace; shrink a few overlong
	lines; fix some bad indents.  Add TODO list entry re full support for NAND/NOR bank names.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-09  David Brownell <dbrownell@users.sourceforge.net>

	* : src/server: usage/help/doc updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Specifically for the port commands, clarify that the number is
	optional, and omitting it causes the current number to be displayed.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace; shrink a few overlong
	lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* : PLD: usage/help updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace, shrink a few overlong
	lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* : Doc/examples: clarify usage messages Update/bugfix the "hello" example; emphasize using EBNF syntax,
	matching the User's Guide.  Correct the Texinfo style guide to say
	EBNF, not BNF.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* : MFLASH: help/usage updates Make "usage" messages use the same EBNF as the User's Guide; no
	angle brackets.  Improve and correct various helptexts.  Don't use "&function"; a function's name is its address.  Remove a
	couple instances of pointless whitespace.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-08  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: add FIXMEs for writing ones It can invalidate ECC codes, and in general is not guaranteed to
	work.  (However on some chips it _appears_ to behave.)  Just don't
	do it; don't write in those cases.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM966: help/usage updates Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Fix the User's Guide to say where the magic CP15 bits are defined;
	and add comments in case someone provides mcr/mrc methods.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM720: help/usage updates Deprecate the "pass an instruction opcode" flavor of cp15 access in
	favor of the "arm mcr ..." and "arm mrc ..." commands, which offer
	fewer ways to break things.  Use the same EBNF syntax in the code as for the user's guide.  Update User's Guide to say where to find those magic values (which
	table in the ARM920 TRM).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: help/usage updates Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Uupdate some helptext to be more accurate.  Fix the User's Guide in a few places to be more consistent (mostly
	to use brackets not parentheses) and to recognize that parameter may
	be entirely optional (in which case the command just displays
	output, and changes nothing).  Also reference NXP, not Philips, for
	LPC chips.  Don't use "&function"; functions are like arrays, their address is
	their name.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7: help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate.  Usage syntax messages have the same EBNF as the User's Guide; there
	should be no angle brackets in either place.  Don't use "&function"; functions are like arrays, their address is
	their name.  Shrink some overlong lines, remove some empties.  Add a couple comments about things that should change:  those extra
	TCK cycles for MEM-AP reads are in the wrong place (that might
	explain some problems we've seen); the DAP command tables should be
	shared, not copied.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  David Brownell <dbrownell@users.sourceforge.net>

	* : target misc: help/usage updates Provide helptext which was sometimes missing; update some of it to
	be more accurate.  Usage syntax messages have the same EBNF as the User's Guide.  Don't use "&function"; functions are like arrays, their address is
	their name.  Shrink some overlong lines; remove some empties.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-07  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: change bulk_write_memory fallback msg to LOG_DEBUG Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-06  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : MIPS: fastdata bulk write fallback If fastdata access fails, then fallback to default
	mips_m4k_write_memory Remove unnecessary fastdata loader verify
	check Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-05  David Brownell <dbrownell@users.sourceforge.net>

	* : don't require 'openocd.cfg' to start Starting the daemon with with just a bare "openocd" I saw: 	Can't find openocd.cfg That's not an error; don't treat it as if it were.  There may be an
	error later -- like, "no interface set up" -- but let messages only
	report real errors, not fake ones.

2010-01-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: add comments re DAP assumptions I think some of these assumptions are not well-founded.  Related,
	that swjdp_transaction_endcheck() is a bit iffy.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : PIC32: enable ram execution add reset-init script to allow ram execution from reset, this is
	required for ejtag fastdata access.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-17  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : parport: output port as hex rather than dec Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2010-01-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb: fix regression in gdb_port command The gdb_port command can be invoked during normal execution to
	report the port used for gdb, whereas it was listed as CONFIG stage
	only, which caused an error when excuting it to return the reported
	error.  Also in line with the grander goal of making more commands available
	during all "modes" (perhaps retiring config mode), there is no
	particular reason to limit gdb_port to the config stage.  Regression was introduced in: b3bf1d12b2fdfba1c1cbee3e1afbfbb27cbd1a26 aka v0.4.0-rc1-32-gb3bf1d1 Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2010-01-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-M:  use AP_REG_* symbol Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG/drivers: ft2232 docs Add doxyegen description for this driver.  Correct the helptext (configures *or* displays based on #params),
	and usage (use the same BNF as the User's Guide).  Remove superfluous #include Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: Amontec JTAG accelerater "rtck" is back The command processing conversion a while back lost the "rtck"
	enable/disable command; restore it.  NOTE that having such a command is wrong; there's a standard way to
	enable adaptive clocking ("speed 0").  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-03  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG/drivers: amt_jtagaccel fixes + cleanup Build fixes:  it failed abysmally with PPDEV enabled.  Swapped a
	build-time error with a FIXME comment in the affected macros.  Cleanup: remove "&" before function pointers, and excess indent, for
	the interface struct declaration.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: dap info fix + tweaks Fix: don't print the BASE address except if it's a MEM-AP; that's an
	unlikely error, but there's no point getting it wrong.  Tweaks:
	comments, capitalization.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: ADIv5 symbol and comment cleanup Instead of magic numbers, use their AP_REG_* constants.  Rename the
	ROM address symbol as BASE to match ARM's documentation.  Comment various other symbols in the header; add some missing ones.
	Remove an unused struct.  Add some doxygen for stuff including the
	DAP structure and initialization.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-02  David Brownell <dbrownell@users.sourceforge.net>

	* : streamline and document helptext mode displays Most commands are usable only at runtime; so don't bother saying
	that, it's noise.  Moreover, tokens like EXEC are cryptic.  Be more
	clear: highlight only the commands which may (also) be used during
	the config stage, thus matching the docs more closely.  There are  - Configuration commands (per documentation)  - And also some commands that valid at *any* time.  Update the docs to note that "help" now shows this mode info.  This also highlighted a few mistakes in command configuration,
	mostly commands listed as "valid at any time" which shouldn't have
	been.  This just fixes ones I noted when sanity testing.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2010-01-01  Dean Glazeski <dnglaze@gmail.com>

	* : Add the current command to the command information I wanted to make it so I can be ignorant of a commands invocation
	string, so I tried to use CMD_CURRENT (aka cmd->current) which is
	supposed to house a pointer to the current command.  It turns out
	that this wasn't being set.  This patch adds the current command structure to the command
	invocation structure before sending it along to the command handler.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: warn about the forum Namely, that developers don't hang out; it's a users-only club.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARM7_9: Fix segfaults Handlers for commands  - arm7_9 semihosting <enable | disable>  - $_TARGETNAME arp_reset assert 1 didn't check if target has
	already been examined, and could segfault when using the NULL
	pointer "arm7_9->eice_cache".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-31  Antonio Borneo <borneo.antonio@gmail.com>

	* : ARM9TDMI: Fix segfault.  The handler for "arm9tdmi vector_catch ..." did not check if target
	has already been examined.  Without this fix it segfaults when using
	NULL pointer "arm7_9->eice_cache".  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: add zy1000_ prefix to uart command less polution of the general namespace(preventive action, no
	problems reported).  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-29  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: reconfigure FPGA upon reset instead of just the CPU Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-25  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: less warnings use inline for static functions in header files to avoid warnings
	about fn not being used.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-28  Piotr Esden-Tempski <piotr@esden.net>

	* : Added floss-jtag interface config file.

2009-12-28  Freddie Chopin <freddie_chopin@op.pl>

	* : stm32x commands get "usage" Add .usage fields to stm32x command_registration, so that "help
	stm32x" shows required parameters.  Signed-off-by: Freddie Chopin <freddie_chopin@op.pl> Signed-off-by:
	David Brownell <dbrownell@users.sourceforge.net>

2009-12-28  Piotr Esden-Tempski <piotr@esden.net>

	* : NOR: last_addr also needs correction when checking alignment Otherwise the new alignment checking algorithm thinks that the
	address is not aligned, because it is way beyond the last sector.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-27  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: make flash_write_unlock() pad to sector end Resolve a regression when using newish automagic "write_image"
	modes, by always padding to the end of affected sectors.  Also document some issues associated with those automagic options,
	in the User's Guide and also some related code comments.  We might need similar padding at the *beginning* of some sectors,
	but this is a minimalist fix for the problems which have currently
	been reported (plus doc updates).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  Dean Glazeski <dnglaze@gmail.com>

	* : Olimex SAM9-L9260 board configuration update.  This updates the board configuration for the SAM9-L9260 board with
	the configuration for the on-board NAND and dataflash.  Included are
	commands for configuring the AT91SAM9 NAND flash driver.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: update GDB info Advise leaving background polling enabled; fix broken URL; add
	simple program startup example.

2009-12-26  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: Allocate the right amount of memory Switch to calloc() to simplify review and initialization.

2009-12-26  Antonio Borneo <borneo.antonio@gmail.com>

	* : PARPORT code cleanup: Align elements in array.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>

2009-12-21  David Brownell <dbrownell@users.sourceforge.net>

	* : v0.4.0-rc1 milestone Winter Solstice, 2009.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  David Brownell <dbrownell@users.sourceforge.net>

	* : Packaging fix Don't forget to list target/arm_opcodes.h Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-20  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: cleanup Misc:  - Introduce some "struct reg" temporaries, for clarity  - Shorten lines  - Add some missing whitespace  - Clean up comments  - Add notes about some fault handling issues  - Most of these errata workarounds are for *OLD* chip revisions Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-21  Antonio Borneo <borneo.antonio@gmail.com>

	* : arm7_9: Support VINITHI signal Command "reset halt" checks if PC properly resets, issueing warning:
	"PC was not 0. Does this target need srst_pulls_trst?".  Checking PC
	against 0 is not always correct.  Removed PC value check, as suggested by Øyvind Harboe.  Signed-off-by: Antonio Borneo <borneo.antonio@gmail.com>
	Signed-off-by: U-PROPRIET-28D9DF\PROPRIETAIRE
	<PROPRIETAIRE@propriet-28d9df.(none)>

2009-12-09  Dean Glazeski <dnglaze@gmail.com>

	* : AT91SAM9 NAND flash driver.  This creates the TCL interface for configuring an AT91SAM9 NAND
	flash controller and implements the necessary functions to correctly
	work with a NAND flash device connected to the chip.  This includes
	updates to the driver list and the Makefile.am to support building
	the driver and also houses the documentation update in openocd.texi.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: add "etm trigger_debug" command In conjunction with manual register setup, this lets the ETM trigger
	cause entry to debug state.   It should make it easier to test and
	bugfix the ETM code, by enabling non-trace usage and isolating bugs
	specific to thef ETM support.  (One current issue being that trace
	data collection using the ETB doesn't yet behave.) For example, many ARM9 cores with an ETM should be able to implement
	four more (simple) breakpoints and two more (simple) watchpoints
	than the EmbeddedICE supports.  Or, they should be able to support
	complex breakpoints, incorporating ETM sequencer, counters, and/or
	subroutine entry/exit criteria int criteria used to trigger debug
	entry.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: start cleaning up ETM_CTRL bit handling Provide better comments for the ETM_CTRL bits; use the correct bit
	for half/full clock mode; and define a few more of the bits
	available from the earliest ETM versions.  The new bit defintions use ETM_CTRL_* names to match their register
	(instead of ETM_PORT_* or ETMV1_*).  For clarity, and better
	matching to docs, they are defined with bitshifting not pre-computed
	masks.  Stop abusing typdefs for ETM_CTRL values; such values are not
	limited to the enumerated set of individual bit values.  Rename etm->portmode to etm->control ... and start morphing it into
	a single generic shadow of ETM_CTRL.  Eventually etm->tracemode
	should vanish, so we can just write etm->control to ETM_CTRL.  Restore an "if" that somehow got dropped.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-19  David Brownell <dbrownell@users.sourceforge.net>

	* : NEWS: mention libftdi 0.17

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* : Subject: flash fill[bwh] should use bulk i/o It's currently allocating a big buffer but writing it out in units
	of sizeof(host's pointer) ... sub-optimal.  Plus fix a couple minor coding style goofs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: better {read,write}_phys() We can actually do the right thing if the MMU is off; save the error
	message for the phys-but-MMU-enabled path, which is what isn't yet
	supported.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-18  David Brownell <dbrownell@users.sourceforge.net>

	* : stellaris: update bulk flash writes Try to right-size the SRAM buffers, by not:  - using them for very small writes  - giving up when a large buffer isn't available  - allocating buffers much larger than their data Also don't:  - bother loading the code unless we allocate the writebuffer too  - be so verbose with messaging:     * be more concise     * reduce importance (e.g. DEBUG not WARNING)     * remove duplication The minimum buffer size is something of a guess.  It's eight times
	smaller than before, almost the same size as the code being
	downloaded.  It probably deserves some tuning.  Also, note an erratum affecting flash protection on some chips; and
	narrow many over-wide lines affected by the above changes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-17  Dean Glazeski <dnglaze@gmail.com>

	* : NAND read data page refactor.  Added a new function to encapsulate reading a page of data from a
	NAND device using either the read_block_data function of a NAND
	controller or to use direct reading of data from the NAND device.  This also adds some performance enhancements and uses the read_data
	function if the read_block_data function fails safely (because it
	can't allocate a buffer in the working area).  [dbrownell@users.sourceforge.net: fix fault handling, whitespace] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* : Remove duplicate Olimex-"tiny" interface We already have tcl/interface/olimex-jtag-tiny.cfg and don't need a
	clone of it.

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* : stellaris: comments Someday revisit various issues:  Tempest parts support writing more
	than one word at a time; for some target firmware it might be
	necessary to save and restore flash IRQ configuration.  (The safest
	policy is likely to always reset after flash updates.) Plus swap some undesirable TAB characters with SPACE.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* : stellaris: remove needless code No point in reading and discarding a status value when fetching part
	description data.  Or having that needless "#if 0" code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-16  David Brownell <dbrownell@users.sourceforge.net>

	* : NOR: bugfix "flash fill[bwh] ..." helptext These commands don't have a "bank" parameter.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : ecos: crisper implementation of timeval_ms() A crisper/faster implementation under eCos that makes profiling a
	tad easier.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-15  David Brownell <dbrownell@users.sourceforge.net>

	* : more tcl/{board,target} cleanup Remove more remnants of the old "jtag_device" syntax.  Don't [format "%s.cpu" $_CHIPNAME] ... it's needless complexity.  Remove various non-supported "-variant" target options; they're not
	needed often at all.  Flag some of the board files as needing to have and use target files
	for the TAP and target declarations.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: use all-ones for BYPASS, not five-ones PXA3xx has more than five bits in IR.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: keep up with command.h cleanup Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-15  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : imx31: move srst delay into config script reset init/run now works again.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: disassemble STM correctly There is no "STMMIDA" instruction.  There is however "STMDAMI".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  Yegor Yefremov <yegorslists@googlemail.com>

	* : Common target file for Stellaris chips Common target.cfg file for LM3S CPU family [dbrownell@users.sourceforge.net: rename, generalize more] Signed-off-by: Yegor Yefremov <yegorslists@googlemail.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-14  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag: add '-ignore-version' option Add a "-ignore-version" to "jtag newtap" which makes the IDCODE
	comparison logic optionally ignore version differences.  Update the "scan_chain" command to illustrate this by showing the
	"*" character instead of the (ignored) version nibble.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-13  David Brownell <dbrownell@users.sourceforge.net>

	* : target: further shrink Jim-awareness Don't include <helper/jim.h> from target.h ... not everything which
	touches targets needs to be able to talk to Jim.  Plus, most files
	include this header by another path.  Also, switch the affected files to use the classic sequence for
	#included files:  all <framework/headers.h> first, then the
	"local_headers.h".  This helps prevent growth of problematic
	layering, by minimizing entanglement.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: avoid pointless status returns For some routines that only returned ERROR_OK and where the caller
	never checked ... don't bother.  Remove some noise, and bugfix some
	comments.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-11  Zachary T Welch <zw@superlucidity.net>

	* : fix 'write_image' usage information The 'flash write_image' command erroneously listed the bank number,
	when it actually uses target addresses to do that lookup for the
	user.

2009-12-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: disassembly fixes for LDC/STC/MRRC/MCRR Properly detect all of these, including the "2" variants; and bugfix
	parameter display for LDC and STC.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-10  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : server: add server_preinit which is called before config file is
	parsed.  This fixes the issue under native win32 of the socket interface not
	being enabled (via WSAStartup) before init is called from a script.  Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-12-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : gdb_server: use more local variables in inner loop of fetching
	packetstiny refactoring to allow optimisation of inner loops Some profiling information for arm7 16MHz GDB load operation shows
	gdb_get_packet_inner() near the very top.  Each sample counts as 0.01 seconds.    %   cumulative   self              self     total  time   seconds   seconds    calls  Ts/call  Ts/call  name  52.91      2.27     2.27
	 embeddedice_write_dcc 11.89      2.78     0.51
	  gdb_get_packet_inner 8.86      3.16     0.38
	  memcpy 3.26      3.30     0.14
	  idle_thread_main(unsigned int) 3.03      3.43     0.13
	cyg_in_cksum Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : optimisation: tiny optimisation for embedded ice use two shift operations instead of three to set embedded ice
	register.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-10  David Brownell <dbrownell@users.sourceforge.net>

	* : anotyer cygwin compile fix Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: update arm_opcodes.h copyright I neglected to copy Magnus' copyright when I moved several
	declarations from the ARMv7-M header.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-09  David Brownell <dbrownell@users.sourceforge.net>

	* : Comment and doxygen fixes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-08  Rafael Campos Las Heras <methril@gmail.com>

	* : Fix compilation error with gcc 4.4.1 Signed-off-by: Rafael Campos Las Heras <methril@gmail.com>

2009-12-08  David Brownell <dbrownell@users.sourceforge.net>

	* : target: remove needless "extern"s Most of these happened to be in the target.h file.  Some of those are associated with symbols that could be removed at
	some point ... e.g. NVP_ASSERT/true and its sibling
	NVP_DEASSERT/false.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-08  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: cygwin complile fixes It's as if despite integers being 32-bits, GCC refuses to convert a
	"uint32_t" to one of them.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : minidriver: fix inline capability of minidriver Low latency low CPU processing power systems(embedded) will benefit
	greatly from being able to inline certain jtag_add_xxx() fn's. The
	trick is that this has to be done in such a way as to allow
	implementing an OpenOCD API with a shared library(eventually) on a
	PC hosted OpenOCD.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-05  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : build: add build/src to include path This allows including generated include files.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: list number of HW breakpoints/watchpoints When starting up, say how many hardware breakpoints and watchpoints
	are available on various targets.  This makes it easier to tell GDB how many of those resources exist.
	Its remote protocol currently has no way to ask OpenOCD for that
	information, so it must configured by hand (or not at all).  Update the docs to mention this; remove obsolete "don't do this"
	info.  Presentation of GDB setup information is still a mess, but at
	least it calls out the three components that need setup.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: don't clone arm_arch_state() code Have various ARM cores delegate to arm_arch_state() to display basic
	information, instead of duplicating that logic.  This shrinks the code, makes them all report when semihosting is
	active, and highlights which data are specific to this core.  (Like
	ARM720 not having separate instruction and data caches.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: use <target/arm.h> not armv4_5.h Move most declarations in <target/armv4_5.h> to <target/arm.h> and
	update users.  What's left in the older file is stuff that I think should be
	removed ... the old register cache access stuff, which makes it
	awkward to support microcontroller profile (Cortex-M) cores.  The armv4_5_run_algorithm() declaration was moved too, even though
	it's not yet as generic as it probably ought to be.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: move opcode macros to <target/arm_opcodes.h> Move the ARM opcode macros from <target/armv4_5.h>, and a few Thumb2
	ones from <target/armv7m.h>, to more appropriate homes in a new
	<target/arm_opcodes.h> file.  Removed duplicate opcodes from that v7m/Thumb2 set.  Protected a few
	macro argument references by adding missing parentheses.  Tightening up some of the line lengths turned up a curious artifact:
	the macros for the Thumb opcodes are all 32 bits wide, not 16 bits.
	There's currently no explanation for why it's done that way...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: disassemble two more v6+ instructions The SRS and RFE instructions speed exception entry/exit by making it
	easy to save and restore PC and SPSR.  This handles both ARM and
	Thumb2 encodings.  Fix minor PLD goofage; that "should never reach this point" can't
	happen, so remove it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-07  David Brownell <dbrownell@users.sourceforge.net>

	* : OMAP2420: define reset-assert event Behave like OMAP3530:  force global software reset.  Given the patch
	to teach ARM11 how to use these events, and use VCR to catch the
	reset vector, this works better than either the current reset logic
	or than using SRST.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-06  Zachary T Welch <zw@superlucidity.net>

	* : add 'flash list', rewrite 'flash banks' Rename the existing 'flash banks' implementation as 'flash list',
	and replace the broken 'flash_banks' TCL wrapper with a new command
	handler.  Adds documentation for the new 'flash list' command in the user
	guide.

2009-12-06  Zachary T Welch <zw@superlucidity.net>

	* : fix NOR flash regression When factoring the bank setup command into flash_bank_add(), I
	forgot to include a call to the new helper.

2009-12-05  Mathias Kuester <kesmtp@freenet.de>

	* : NOR: add 29LV400BC flash device Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-05  Nicolas Pitre <nico@fluxnic.net>

	* : ARM semihosting: work with both low and high vectors Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : move remaining nand helper files Move remaining NAND implementation files into src/flash/nand/.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : split NAND driver handling into nand/driver.[ch] This work parallels the NOR directory, encapsulating the NAND
	drivers into a separate file.  This takes an extra step by
	encapsulating the type of data structure used to manage the drivers,
	allowing it to be changed from an array to a dynamic list in the
	future.

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rename armv4_5_build_reg_cache() as arm_*() Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: misc generic cleanup Remove an undesirable use of the CPSR symbol ... it needs to vanish.
	Flag mode-to-number stuff as obsolete; say why ... should also
	vanish.  Get rid of no-longer-used mode and state typedefs.  Comment a few of the implicit ties to "classic ARM".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: switch target_to_armv4_5() to target_to_arm() And remove that old symbol.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rename armv4_5_mode_* AS arm_mode_* Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: rename ARMV4_5_STATE_* as ARM_STATE_* Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: basic watchpoint support Use the DPM watchpoint support; remove old incomplete stubs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : reorder build order of src directory Descend into the library modules in order, from bottom-to-top.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : split flash.h into into flash/nor/*.h Move the bulk of the flash.h file into flash/nor/core.h, leaving an
	empty husk that will be removed in the next patch.  The NOR driver structure is an implementation detail, so move it
	into its own private header file <flash/nor/driver.h> along with
	helper declaration for finding them by name.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : split NOR and NAND flash headers Moves common flash errors to <flash/common.h> to decouple these two
	mostly unrelated trees of code.

2009-12-04  Zachary T Welch <zw@superlucidity.net>

	* : add flash/nor/drivers.c Encapsulates access to the flash_drivers array, providing a base of
	operations for future dynamic driver module loading features.

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: semihosting entry cleanup Clean up arm_semihosting() entry a bit, comment some issues and just
	which SVC opcodes are getting intercepted.  Microcontroller profile
	cores will need a new entry, since they use BKPT instead (and don't
	have either SVC mode or an SPSR register).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: more semihosting info List it in the concept index, in the section about target software
	changes a project might want to consider, and in the section about
	debug messaging.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : add flash/nor/core.[ch] The newly moved flash TCL routines access the internals of the
	module too much.  Fix the layering issues by adding new core NOR
	flash APIs: <flash/nor/core.h>:   - flash_driver_find_by_name() - self-descriptive <flash/nor/imp.h>:   - flash_bank_add()            - encapsulates adding banks to bank
	  list - flash_bank_list()           - encapsulates retreiving bank list This allows the externs in flash/nor/imp.h to be removed, and these
	mechanisms may now be re-used by other flash module code.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : separate Jim from jtag/core.c After previous efforts, only one Jim routine remained in
	jtag/core.c, and moving it to jtag/tcl.c painlessly finishes
	separating these layers.  The headers need separating, but the
	implementation is clean.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : check top-level command registrations When calling module_register_commands, the return value needs to be
	checked for failures.  Instead of duplicating code, use an array of
	function pointers to the identical registration functions to iterate
	over during startup.

2009-12-04  David Brownell <dbrownell@users.sourceforge.net>

	* : target: cygwin build fixes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  Nicolas Pitre <nico@fluxnic.net>

	* : basic ARM semihosting support Semihosting enables code running on an ARM target to use the I/O
	facilities on the host computer. The target application must be
	linked against a library that forwards operation requests by using
	the SVC instruction that is trapped at the Supervisor Call vector by
	the debugger.  The "hosted" library version provided with
	CodeSourcery's Sourcery G++ Lite for ARM EABI is one example.  This is currently available for ARM9 processors, but any ARM variant
	should be able to support this with little additional work.  Tested using binaries compiled with Sourcery G++ Lite 2009q1-161 and
	ARM RVCT 3.0.  [dbrownell@users.sourceforge.net: doc tweaks, NEWS] Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* : Make ARM NAND I/O operations aware of last op Updates the ARM NAND I/O code to look at and update the op field of
	arm_nand_data to reflect the last operation performed.  It uses this
	field to copy the correct code to the target in the case where the
	struct is used for reads and writes.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  Dean Glazeski <dnglaze@gmail.com>

	* : NAND page command refactoring.  Created a new function that handles sending a command and the
	address information for pages to a NAND device.  [dbrownell@users.sourceforge.net: tweaked line lengths, name
	'oob_only'] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM DPM: share debug reason logic No point in both ARM11 and Cortex-A8 having private copies of the
	logic sorting out e.g. DBG_REASON_WATCHPOINT.  Add and use a shared routine for this ... there's actually a bunch
	more debug entry logic that could be shared, this is just a start on
	that.  Note that this routine fixes a bug observed in the ARM11
	code, where some abort mode quirks were displayed as being an
	unknown debug reason; and also silences needless ARM11 chatter.  Likewise with private copies of DSCR ... add one to the DPM struct.
	Save it as part of setting DBG_REASON_* so later patches can switch
	over to using that copy.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM DPM: make DSCR bit defs sharable Move the symbols for these bits from "armv7a.h" to "arm_dpm.h",
	where they can be seen and used not just by Cortex-A but also by the
	ARM11 (armv6) code.  Change them from bit numbers to bit masks ... this matches the usage
	in ARM11 code, and also makes it easier to read.  Rename DSCR_EXT_INT_EN as DSCR_ITR_EN to match the docs; it's
	enabling ITR functionality, not external interrupts, so this changes
	the name to be less misleading.  (There *IS* a bit affecting
	interrupts, and this isn't it.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : fix double 'init' regression To prevent regression in the behavior of 'init', we allow it to run
	in any mode.  If provided with -c init and with -c noinit, then the
	second init at startup caused a spurious mode failure.  Let 'init'
	handle it.

2009-12-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: include files have moved about now compiles again after include files were moved about to reduce -I
	usage and stop using quotes but rather angle brackets for include
	files.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "../hello.h" to "hello.h" Before we can -I the top-level src/ directory alone, references to
	"hello.h" must be updated.  This is an internal header, so it does
	not need angle brackets.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "svf.h" to <svf/svf.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "svf.h" the following form should be used.  	#include <svf/svf.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "telnet_server.h" to <server/telnet_server.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "telnet_server.h" the following form should be used.  	#include <server/telnet_server.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "httpd.h" to <server/httpd.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "httpd.h" the following form should be used.  	#include <server/httpd.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "s3c24xx_regs.h" to <flash/nand/s3c24xx_regs.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "s3c24xx_regs.h" the following form should be used.  	#include <flash/nand/s3c24xx_regs.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "nand.h" to <flash/nand.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "nand.h" the following form should be used.  	#include <flash/nand.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "flash.h" to <flash/flash.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "flash.h" the following form should be used.  	#include <flash/flash.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "trace.h" to <target/trace.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "trace.h" the following form should be used.  	#include <target/trace.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "target.h" to <target/target.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "target.h" the following form should be used.  	#include <target/target.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "mips_ejtag.h" to <target/mips_ejtag.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "mips_ejtag.h" the following form should be used.  	#include <target/mips_ejtag.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "mips32.h" to <target/mips32.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "mips32.h" the following form should be used.  	#include <target/mips32.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "etm.h" to <target/etm.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "etm.h" the following form should be used.  	#include <target/etm.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "breakpoints.h" to <target/breakpoints.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "breakpoints.h" the following form should be used.  	#include <target/breakpoints.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "armv7m.h" to <target/armv7m.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "armv7m.h" the following form should be used.  	#include <target/armv7m.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "armv4_5_mmu.h" to <target/armv4_5_mmu.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "armv4_5_mmu.h" the following form should be used.  	#include <target/armv4_5_mmu.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "armv4_5.h" to <target/armv4_5.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "armv4_5.h" the following form should be used.  	#include <target/armv4_5.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm_dpm.h" to <target/arm_dpm.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm_dpm.h" the following form should be used.  	#include <target/arm_dpm.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm9tdmi.h" to <target/arm9tdmi.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm9tdmi.h" the following form should be used.  	#include <target/arm9tdmi.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm7tdmi.h" to <target/arm7tdmi.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm7tdmi.h" the following form should be used.  	#include <target/arm7tdmi.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "arm11.h" to <target/arm11.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "arm11.h" the following form should be used.  	#include <target/arm11.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "minidriver.h" to <jtag/minidriver.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "minidriver.h" the following form should be used.  	#include <jtag/minidriver.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "interface.h" to <jtag/interface.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "interface.h" the following form should be used.  	#include <jtag/interface.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "types.h" to <helper/types.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "types.h" the following form should be used.  	#include <helper/types.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "replacements.h" to <helper/replacements.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "replacements.h" the following form should be used.  	#include <helper/replacements.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "log.h" to <helper/log.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "log.h" the following form should be used.  	#include <helper/log.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "ioutil.h" to <helper/ioutil.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "ioutil.h" the following form should be used.  	#include <helper/ioutil.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "configuration.h" to <helper/configuration.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "configuration.h" the following form should be used.  	#include <helper/configuration.h> The exception is from .c files in the same directory.

2009-12-03  Zachary T Welch <zw@superlucidity.net>

	* : change #include "binarybuffer.h" to <helper/binarybuffer.h> Changes from the flat namespace to heirarchical one.  Instead of
	writing: 	#include "binarybuffer.h" the following form should be used.  	#include <helper/binarybuffer.h> The exception is from .c files in the same directory.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : change autoconf #include in configure.in Updates "system.h" and "replacements.h" with <helpers/system.h> and
	<helpers/replacements.h> respectively.

2009-12-03  Nicolas Pitre <nico@fluxnic.net>

	* : feroceon.c should be part of ARM7_9_SRC The Feroceon and Dragonite cores are similar to the ARM926 and
	ARM966 cores respectively.  Signed-off-by: Nicolas Pitre <nico@marvell.com>

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* : move jtag drivers to src/jtag/drivers Moves JTAG interface drivers to src/jtag/drivers/, Adds
	src/jtag/drivers/Makefile.am.  Builds libocdjtagdrivers.la.  Flattens the rlink driver files into the drivers/ directory, adding
	the 'rlink_' prefix or '.rlink' suffix as appropriate.

2009-12-01  Zachary T Welch <zw@superlucidity.net>

	* : move nand drivers to src/flash/nand/ Moves NAND drivers to src/flash/nand/.  Adds
	src/flash/nand/Makefile.am.  Builds libocdflashnand.la.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: store a clean copy of DSCR Just store a clean copy of DSCR in the per-CPU struct, so we
	trivially pass a pointer to a recent copy.  This replaces the
	previous "last_dscr" and cleans up most of the related calling
	conventions ... but it doesn't remove the other DSCR copy.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: don't expose RDTR Don't expose the RDTR register through the register cache any more.
	If anyone wants Tcl scripts to be able to use DCC based
	communication with app code in the target, this wouldn't do it.  Bugfix:  don't trust the Tcl-accessible version of DSCR to flag
	whether RDTR needs to be restored when resuming.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: remove arm11->target Don't need/want arm11->target; we have arm11->arm.target instead.
	Also remove some unused watchpoint stuff.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* : fix configure problem when building w/o USB If building OpenOCD without any USB drivers, a warning would appear
	because $build_usb is never set to a sane default.  This fixes it.

2009-12-02  Zachary T Welch <zw@superlucidity.net>

	* : fix 'target init' command registration The command handler registration was put at the top level, rather
	than as a subcommand.  Move it to where it belongs.

2009-12-01  Zachary T Welch <zw@superlucidity.net>

	* : remove #if BUILD_HTTPD Add httpd_stubs.c to provide no-op implementations of httpd_start()
	and httpd_stop().  Allows these routines to be called unconditionally and ensures the
	libocdserver ABI remains unchanged regardless of whether this
	feature was built-in or not.  Prints a DEBUG message when the stub implementation is included.

2009-12-01  Zachary T Welch <zw@superlucidity.net>

	* : remove #if logic for openocd_sleep_*lude Adds server_stubs.c to hold these routines, using automake logic to
	ensure it gets included under the right conditions.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* : target: factor target_init() into pieces Moves body of target initialization loop into a helper function,
	cleaning up its visual flow in the process.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* : flash: factor init to 'flash init' Split flash initialiation into 'flash init', called from 'init'.

2009-11-30  Zachary T Welch <zw@superlucidity.net>

	* : nand: factor init to 'nand init' Split NAND initialization into 'nand init', which gets called from
	the main 'init' command.

2009-12-02  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7a/Cortex-A8: report watchpoint trigger insn Save and display the address of the instruction which triggered the
	watchpoint.  Because of pipelining, that's well behind the PC value
	when debug entry completes.  (Example in a subroutine that had been
	returned from...) Remove unused A8 stuff, mostly watchpoint hooks from the header.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: keep up with startup refactoring work.  keep up with server_init() introduction.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: core DPM support for watchpoints This is a NOP unless the underlying core exposes two new methods,
	and neither of the two cores using this (ARM11xx, Cortex-A8) do so
	yet.  This patch only updates those cores so they pass a flag saying
	whether or not to update breakpoint and watchpoint status before
	resuming; and removing some now-needless anti-segfault code from
	ARM11.  Cortex-A8 didn't have that code ... yes, it segfaulted when
	setting watchpoints.  NOTE:  this uses a slightly different strategy for setting/clearing
	breakpoints than the ARM7/ARM9/etc code uses.  It leaves them alone
	unless it's *got* to change something, to speed halt/resume cycles
	(including single stepping).  ALSO NOTE:  this under-delivers for Cortex-A8, where regions with
	size up to 2 GBytes can be watched ... it handles watchpoints which
	ARM11 can also handle (size 1/2/4 bytes).  Should get fixed later.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : Tcl and doc: update to match new 'arm mcr ...' etc Make them match the C code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: keep up with latest changes to command handling Keep up with Jim Tcl interpreter creation cleanup.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: remove previous mcr()/mrc() methods We don't need this code, now that the DPM code handles it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: implement mrc()/mcr() as DPM ops Instead of having separate ARM11 and Cortex-A8 implementations of
	this code, have one shared implementation which just builds on the
	existing "run instruction via R0" support.  This enables followup patches to remove that now-unused code from
	those two drivers.  (Patches to move the "mrc" and "mcr" code into
	"struct arm" are due too ... MIPS and other cores do not support
	those ARM-specific concepts.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-12-01  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-A: stop using CP15 ops The ARMv7-A code uses read_cp15() to access fault registers.
	Instead, use DPM operations directly, passing in the relevant MRC
	instructions.  This eliminates per-operation overhead (though it'll be hard to
	observe, this is uncommon) and helps eliminate read_cp15().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : main: invoke jtag_interface_quit() explicitly There is no particular reason to invoke jtag_interface_quit() on the
	atexit() handler, it just makes the code more obtuse and stops other
	legitimate usage of atexit().  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-30  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: restore_context() cleanup Clean up two aspects to this routine:  bad naming, since it doesn't
	restore the context, just the banked registers; and excess
	indentation for the bulk of the code.  Also make some of its call sites stash the function's return code;
	someday they should use it for error checking.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : remove interp global variable! Finish removing references to the 'interp' global variable from the
	command module, encapsulating all reference via command_context.  Eliminates use of the global entirely, so it can be removed.
	Hurrah!

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : do not extern 'interp' from command.c Adds 'interp' field to command_context, chasing the few remaining
	references to the global variable outside of the command module.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : jtag: avoid using interp global variable Adds 'interp' field to jtag_tap_event_action structure to avoid
	using the global variable of same name.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : make syntax errors respond with 'usage' The 'help' text will become more verbose, so its entire text will be
	far more than desired when you only borked your syntax.  The usage
	still allows the commands to be looked up for more help.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : improve command_done() API and docs command_done() does not need to return an error, but it needed
	Doxygen comment.  Provide some for copy_command_context as well.  Note: this audit revealed some potential bugs with the command
	context implementation.  There was a reason that commands were added
	at the end of the list.  Shallow copying of command_context means
	that the list is shared between them.  And commands added at the
	top-level before the pre-existing commands will not be available in
	the shared context as they were before.  Yikes! Fortunately, this does not seem to occur in general use, as
	'add_help_text' gets registered in startup.tcl and claims the first
	slot in my own test cases.  Thus, it seems that we have been masking
	the issue for now, but it shows the need for further architectural
	improvement in the core command module.

2009-11-29  Zachary T Welch <zw@superlucidity.net>

	* : allow deferal of init Adds 'noinit' command to prevent OpenOCD from running 'init' at the
	end up startup, allowing it to be given from telnet or TCL.  This
	provides the old behavior by default, and users can add this command
	to their scripts to get the new behavior.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : improve gdb_init() sequence Rework gdb_init to create flexible APIs (gdb_target_add_{one,all})
	and static helper (gdb_target_start) for starting GDB services.
	Eliminates duplicated code and provides general mechanisms for
	adding GDB services.  The 'init' command is updated to call the new
	API, and later patches can decouple its policy of adding all targets
	therein.  Provides the new capability to use both piped and TCP servers when
	multiple targets are defined.  The first target fills the pipe, and
	others will be started on TCP ports (unless disabled, i.e.
	gdb_port=0).

2009-11-29  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: clean up full_context() (#2) Streamline the loop by continuing as soon as we know there's no work
	to be done; this lets us un-indent almost everything.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale: debug entry uses new register mapping Use the new mapping interfaces in the debug entry path.  SPSR and
	the banked registers now have smaller and faster accessors ... use
	them.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-29  Marek Vasut <marek.vasut@gmail.com>

	* : XScale: initial PXA3xx support [dbrownell@users.sourceforge.net: user's guide; variant param is
	optional] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* : bugfix: 'init' changes state, not main() Code other than main() may invoke "init".  When it does so,
	customized handlers may need to run ... so make sure the command
	context state is updated before they do so.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: don't chain "struct arm" commands Those commands presume support for the "classic" set of CPU modes
	(FIQ, supervisor, IRQ, etc) ... which aren't supported by the
	ARMv7-M or ARMv6-M architectures.  They also presume a "struct arm"
	base type, which this code doesn't use.  We haven't cleaned up the register handling enough to be able to
	share any of those "base" methods.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  Zachary T Welch <zw@superlucidity.net>

	* : add more stub handlers to testee target Prevent everything from crashing when exercising various commands.

2009-11-25  Zachary T Welch <zw@superlucidity.net>

	* : split jim_target into multiple handlers The 'target' command group was implemented using its own command
	dispatching, which can be eliminated by using the new chained
	command registration mechanism.  This patch splits the jim_target()
	function into individual handlers, which makes them to be visible to
	the help and usage commands.  These one-trick handlers are much
	easier to understand.

2009-11-26  Zachary T Welch <zw@superlucidity.net>

	* : improve jtag_tap_configure Splits bulk of the jtag_tap_configure into jtag_tap_configure_event,
	removing three or four levels of indentation in the process.  The
	resulting code was stylistically improved in other ways, but it
	should be functionally identical.

2009-11-26  Zachary T Welch <zw@superlucidity.net>

	* : begin moving JTAG jim handlers/helpers Moves the tertiary jim handlers and required static helpers to the
	top of tcl.c, defining them in a new registration array that is
	chained in both the top-level context and under the jtag command.
	The top-level commands can be removed at some point in the future to
	reduce clutter.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : remove redundant 'rm' command handler Two 'rm' commands were implemented and registered.  This removes the
	version that would have never been called prior to refactoring the
	command registration.

2009-11-28  Zachary T Welch <zw@superlucidity.net>

	* : include mode information in help text.  Extends the help output to list the valid modes for each commands.
	Fixes a memory leak of the returned command_name() string.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : add command private data setter/accessor Presently, commands registration taks a static handler data pointer.
	This patch adds support for commands that require a dynamic pointer,
	such as those registered in a dynamic context (e.g. subcommands for
	a user-created 'foo.cpu' command).  The command_set_handler_data
	will update a command (group) to use a new context pointer, while
	the CMD_DATA macro allows command handlers to access the value.  Jim
	handlers should find this value in interp->cmdPrivData.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : remove unknown handler Updates command registration to provide top-level handlers for all
	commands, rather than falling back onto the 'unknown' command.
	Instead, that same handler is registered for placeholders, providing
	the same functionality under the root verb command name instead.
	This permits users to implement their own 'unknown' function, and it
	resolves some mind-bending breakage related to function object
	lookup while recursing.  Changes 'ocd_bounce' to call 'ocd_command' and 'ocd_help' from the
	wrapper directly, rather than bouncing through their wrappers. This
	prevents endless recursion caused by the above changes, whereby the
	'command' wrapper's type check would blow the stack to hell and
	gone.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : add 'command type' introspective handler Adds the 'command' group handler, with the 'type' command producing
	a string that tells whether the given command is 'native' (for
	Jim-based command handlers), 'simple' (for simple built-in
	commands), 'group' for command group placeholders, and 'unknown' if
	not found in the command registration tables (e.g. core built-ins
	functions).

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: fix dbgtap JTAG_DEBUG There is no DEBUG() macro; don't call one!  Always at least *parse*
	debug code, to help prevent such errors.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-28  David Brownell <dbrownell@users.sourceforge.net>

	* : target: remove unused TARGET_EVENT_OLD_* symbols Just two *_OLD_* symbols left...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* : omap3530.cfg: use new "reset-assert" event Replaces previous "reset-assert-pre" workaround.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  David Brownell <dbrownell@users.sourceforge.net>

	* : target: groundwork for "reset-assert" event This defines a "reset-assert" event and a supporting utility
	routine, and documents both how targets should implement it and how
	config scripts should use it.  Core-specific updates are needed to
	make this work.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : fix regression causing duplicated output The command refactoring caused subcommand handlers to produce
	duplicate output when run.  The problem was introduced by failing to
	ensure all such invocations went through a top-level "catcher"
	script, prefixing the command name with the 'ocd_' prefix and
	consuming its results.  The fix is to ensure such a top-level "catcher" script gets created
	for each top-level command, regardless of whether it has a handler.
	Indeed, this patch removes all command registrations for
	sub-commands, which would not have worked in the new registration
	scheme anyway.  For now, dispatch of subcommands continues to be handled by the new
	'unknown' command handler, which gets fixed here to strip the 'ocd_'
	prefix if searching for the top-level command name fails initially.
	Some Jim commands may be registered with this prefix, and that
	situation seems to require the current fallback approach.
	Otherwise, that prefix could be stripped unconditionally and the
	logic made a little simpler.  The same problem must be handled by
	the 'help' command handler too, so its lookup process works as
	intended.  Overall, the command dispatching remains more complicated than
	desired, but this patch fixes the immediate regressions.

2009-11-27  Zachary T Welch <zw@superlucidity.net>

	* : update minidummy interface driver command handling Changes the interface definition field reference from
	register_commands to commands, which allows the module to compile.

2009-11-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: keep up with changes to log_init() fn's and return value for log_init() changed to void.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* : ARM NAND I/O header documentation update.  Fixed the header file to properly specify the doxygen documentation
	for the items defined in it.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Dean Glazeski <dnglaze@gmail.com>

	* : ARM NAND I/O refactor code copying.  Created a function for copying code to the working area on a target.
	The NAND write and read functions are updated to include use of this
	function.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  Dean Glazeski <dnglaze@gmail.com>

	* : NAND Flash documentation update.  Updated doxygen comments for different interface structures for the
	NAND interface.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  Uwe Hermann <uwe@hermann-uwe.de>

	* : update bug reporting information The Berlios bug-tracker is disabled, bug reports go to the list.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-24  Uwe Hermann <uwe@hermann-uwe.de>

	* : fix typos in source files Correct some spelling errors in source comments and printed output.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-26  Eric Wetzel <thewetzel@gmail.com>

	* : fix 'flash protect' and 'flash erase_sector' Command upgrading introduced two off-by-one bugs in the flash
	commands.  This patch fixes the 'flash {protect,erase_sector}'
	commands to check that they have been passed the correct number of
	arguments.  Ammended during commit to fix help text for 'erase_address' too.

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* : target: target_get_name() --> target_type_name() There are two names that may matter on a per-target basis.  One is a
	per-instance name (for example, "at91sam7s.cpu").  The other is the
	name of its type (for example, "arm7tdmi"), which is shared among
	multiple targets.  Currently target_get_name() returns the type name, which is
	misleading and is rarely appropriate for target diagnostics.  Rename
	that as target_type_name().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: minor armv4/armv5 cleanup Lines of 300+ characters are still bad; debug tweaks.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-25  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7/9: shrink run_algorithm_inner() lines 300+ characters is unreasonable.  So is half that.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : update NEWS with recent developments Mention changes to flash bank command syntax, 'nand verify' command,
	command error handling and reporting, and help/usage command
	upgrades.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : support OPENOCD_DEBUG_LEVEL environment setting Detect the OPENOCD_DEBUG_LEVEL setting in log_init(), allowing the
	very early startup phases to be debugged.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : update command handler documentation Adds sections on command registration and chaining, giving an
	overview to developers that want to use these features.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : improve command handling examples Removes hello and foo commands from top-level registration.
	Instead, the dummy interface driver and faux flash driver have been
	augmented to register these commands as sub-commands.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : encapsulate and re-use log capture, retval setup Factors log capture while running script commands, eliminating
	duplicated code between script_command and jim_capture.  Factors
	setting a command's Jim "retval" into a new helper as well.  Using these new helpers in the new unknown command handler's fixes
	possible regressions caused by these bits being missing.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : improve usage and help command output Rewrite formatting code in C, removing last remenants of TCL help
	code.  Sinificantly improves the readability by using smarter indent
	and wrap.

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : httpd: use register_commands() Updates httpd_start() to use register_commands() for 'readform' and
	'writeform' commands.  Adds server/httpd.h to export the new
	signatures for this function (and httpd_stop), which allows removing
	the obsoleted declarations inside openocd.c.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : refactor command_new to use command_registration Save stack space: use a struct.  Makes it easier to add new
	parameters.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : remove target_type register_command callback Uses chaining of command_registration structures to eliminate all
	target_type register_callback routines.  Exports the command_handler
	registration arrays for those target types that are used by others.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : trace: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : target: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : etm_dummy: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : etb: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : cortex_a8: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : armv7a: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : arm9tdmi: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : arm926ejs: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : arm7_9_common: use register_commands()

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : arm11: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : remove flash_driver->register_callbacks Replace flash_driver callback with pointer to command_registration.
	Eliminates all related routines and allows drivers to omit commands.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : str9xpec: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : str7x: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : stellaris: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : nand: use register_commands() Eliminates 'nand_cmd' global variable.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : lpc3180_nand_controller: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : lpc2000: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : ecos: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : avrf: use register_commands()

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : at91sam3: use register_commands()

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : vsllink: use register_commands() Use register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : presto: use register_commands() Use register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : jlink: use register_commands() Use register_commands() with command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : ft2232: use register_commands() Use register_commands() with a command registration array.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : arm-jtag-ew: use register_commands() Uses register_commands() with command registration array.

2009-11-23  Zachary T Welch <zw@superlucidity.net>

	* : pld: use static registration instead of callback Remove register_callbacks from pld_device structure, using an array
	of command_registration records instead.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : {,x}svf: use register_commands() Use register_commands() for registering {,x}svf commands.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : log: use register_commands() Use register_commands() for logging callbacks.  Improve help and add
	proper usage.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : openocd: use register_commands() Use register_commands() for top-level version and init command.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : hello: use register_commands() Use new register_commands() with command registration table.

2009-11-22  Zachary T Welch <zw@superlucidity.net>

	* : add public API for locating commands Allow other modules to find a command, primarily for the purpose of
	registering and unregistering subcommands.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : add command registration chaining Adds the ability to chain registration structures.  Modules can
	define a command with the 'chain' and 'num_chain' fields defined in
	their registration table, and the register_commands() function will
	initialize these commands.  If the registration record creates a new
	command, then the chained commands are created under it; otherwise,
	they are created in the same context as the other commands (i.e. the
	parent argument).

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : command: use register_commands for handlers Use register_commands() to register low-level command handlers,
	adding a builtin_command_handlers declaration that is easy to
	understand.  Splits help and usage information into their
	appropriate fields.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : add register_commands for batch registration The register_commands API takes multiple commands in one call,
	allowing modules to declare and pass a much simpler (and more
	explicit) array of command_registration records.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : use COMMAND_REGISTER macro Replaces direct calls to register_command() with a macro, to allow
	its parameters to be changed and callers updated in phases.

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : improve startup tcl scripts Fix a couple of layering violations missed in the last round.  Add
	missing comment headers.

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: hook up DPM This replaces two versions of register access functions.  One was
	commented out, and seemed to have uncertain intent.  The other was
	fairly new, and helped motivate the DPM framework once I observed
	that the ARM11 was doing the very same ops.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: minor cleanup Make various functions static, add some comments, report vector
	catch as a flavor of DBG_REASON_BREAKPOINT, get rid of
	needless/undesirable ARMV4_5_CORE_REG_MODE, etc.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  Zachary T Welch <zw@superlucidity.net>

	* : fix doxygen build Update build rules to skip the PDF unless the TeX has been created.
	Also, fixes a warning regarding pattern rules being a GNU make
	trick.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : jlink: remove superfluous indentation Rewrite logic to remove indentation in jlink_usb_open, in prep for
	further surgery.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : rlink: eliminate spurious indentation Rework rlink_init to use less indentation.  Best viewed with diff
	-w.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : usbprog: use jtag_usb_open Rewrite usbprob_jtag_open to use jtag_usb_open helper.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : add jtag/usb_common.[ch] files Begins to consolidate code used by several USB JTAG interfaces.
	This first patch provides the required build system changes and a
	common jtag_usb_open routine, which will replace the guts for
	probing the busses and devices for possible VID/PID matches.  The
	following patches convert each driver to use it.

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: use standard run_algorithm() As with single stepping, the previous stuff was needed because the
	ARM11 code wasn't using the standard ARM base type and register
	access ... but now those mechanisms work, so we can switch out that
	special-purpose glue, in favor of the more thoroughly tested/capable
	"standard" code.  Fixes a bug in the resume() implementation:  it wasn't handling two
	of its arguments correctly, preventing the "flash erase_check"
	algorithm from working.  (This code needs a *subsequent* update for
	correct register handling, though... removing the confusion about
	which "r2", for example, to use.) This should resolve some "FIXME" comments too, for Thumb and
	processor mode support.  It also gets rid of a nasty exit() call;
	servers should only have *clean* shutdown paths.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: partial support for standard ARM register interfaces.  This provides "standard" ARM register support -- with twenty or more
	shadow registers on top of what this code now handles, but properly
	associated with the various core modes -- parallel to the current
	register code.  That is, the current code is stilil managing the
	"current" registers; the new code shadows them.  You can see all the registers with "arm reg", modify the shadows
	like "r8_fiq" or "sp_abt" with "reg", and see them get properly
	written back when you step.  (Just don't do that with any of the
	registers managed by the "old" code ...) It also switches to using more standard code, relying on those
	standard registers, in two places:  (a) the poll status display,
	which now shows core state (ARM/Thumb/...) and mode (Supervisor,
	IRQ, etc); and (b) GDB register access.  So it's not a full migration, there are warts -- every place that
	touches the old register cache is a potential bug -- but it's a
	small more-or-less-comprehensible step that's even somewhat useful.
	Later patches complete the migration.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: implement provider for new DPM interface This is a very thin layer over some of the current ARM11 debug TAP
	utilities.  The layer isn't yet hooked up.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-24  David Brownell <dbrownell@users.sourceforge.net>

	* : target: cope with *any* error setting a breakpoint It's wrong to map unrecognized failure codes to success.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-23  Jerry Ling <jerry_ling@draytek.com>

	* : mips: fix gaffe when removing dynamic array allocation Classic sizeof() gaffe.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm926ejs: retire cp15 commands, handled by mrc/mcr.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: macro cleanup Make this code look more like the rest of the OpenOCD code.   - Use calloc() directly, not NEW() ... and fix some potential    memory leaks while we're at it.   - Remove FNC_INFO ... it's a NOP that just clutters things,    and it's trivial for developers to add tracing as needed.   - Replace FNC_INFO_NOTIMPLEMENTED with LOG_WARNING calls;    ditto.  And stop having those call sites wrongly succeed!  - Waste less space with the CHECK_RETVAL() macro.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mips: use const for code sequences This will allow data to be allocated in read only memory instead of
	on the stack. Speeds things up and reduces stack usage.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm926ejs: fix warnings buf_set_u32() operated on an uninitialized stack variable with
	non-byte boundaries, which led to warnings about reading
	uninitialized stack.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: use arm_reg_current() Start using the arm_reg_current() call.  This shrinks and speeds the
	affected code.  It can also prevent some coredumps coming from
	invalid CPSR values ... the ARMV4_5_CORE_REG_MODE() macro returns
	bogus registers if e.g. "Secure Monitor" mode isn't supported by the
	current CPU.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : target: make register flags "bool" Mostly for clarity, but it also saves code and data space.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : flash: dynamically allocate working storage Allocate working memory rather than using stack.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : todo: add tip on how to identify excessive stack usage Use dynamic allocations for working memory rather than stack.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : embedded: reduce stack usage Allocate working structures on stack to avoid issues with path
	lengths + reduce stack usage.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : embedded: save stack and also do not recaluate the crc32_table upon every invocation.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : build: fix breakage in building bin2char bin2char build relied on $(builddir) which is not defined for
	arm-elf X builds at least.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: define two register utilities Define arm_reg_current() ... returning handle to a given register,
	and encapsulating the current mode's register shadowing.  It's got
	one current use, for reporting the current register set to GDB.
	This will let later patches clean up much ARMV4_5_CORE_REG_MODE()
	nastiness, saving a bit of code.  Define and use arm_set_cpsr() ... initially it updates the cached
	CPSR and sets up state used by arm_reg_current(), plus any SPSR
	handle.   (Later: can also set up for T and J bits.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: remove disabled register hooks Minor cleanup of ARM11 register handling:  remove disabled register
	hooks.  This should all be handled by shared code, and this stuff is
	just clutter.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-21  Zachary T Welch <zw@superlucidity.net>

	* : allow jtag interfaces to lack commands Allow JTAG interface drivers to skip registering an
	register_commands callback when it will just be empty.

2009-11-20  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: pass 'struct reg *' to register r/w routines Implementations need to access the register struct they modify; make
	it easier and less error-prone to identify the instance.  (This
	removes over 10% of the ARMV4_5_CORE_REG_MODE nastiness...) Plus some minor fixes noted when making these updates:  ARM7/ARM9
	accessor methods should be static; don't leave CPSR wrongly marked
	"dirty"; note significant XScale omissions in register handling; and
	have armv4_5_build_reg_cache() record its result.  Rename "struct armv4_5_core_reg" as "struct arm_reg"; it's used for
	more than those older architecture generations.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : maintain command lists in sorted order Use insertion sort to the command link lists.  The only practical
	effect of this is to order the output of the new 'help' command.

2009-11-20  Zachary T Welch <zw@superlucidity.net>

	* : provide command context during cmd_init For the startup.tcl code to use built-in commands, the context must
	be associated with the interpreter temporarily.  This will be
	required to add help text.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : factor help script command into parts Creates a helper function, cmd_help, which displays the help string
	for a single command.  Presently, it is called from the loop in
	help.  The routine has been extended to allow indentation of command
	groups, so an improved help command can improve the display of
	information.

2009-11-19  Zachary T Welch <zw@superlucidity.net>

	* : change command_find helper interface Avoid requiring double pointers where a single would suffice.

2009-11-20  David Brownell <dbrownell@users.sourceforge.net>

	* : target.cfg: TAP id for Hilscher netX 500 Based on email from "Martin Kaul <martin.kaul@leuze.de>".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: better context restore The previous version never wrote dirty registers for non-current CPU
	modes ... fix that.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : target: create/use register_cache_invalidate() Create a generic register_cache_invalidate(), and use it to replace
	three all-but-identical core-specific routines:  - armv4_5_invalidate_core_regs()  - armv7m_invalidate_core_regs  - mips32_invalidate_core_regs() too.  Make cache->num_regs be unsigned, avoiding various errors.  Net code shrink and simplification.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : document new flash syntax Updates the user documentation with the new syntax for defining
	flash and nand banks.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : add support for naming NAND banks Requires users to name their nand banks, allowing them to be used
	instead of bank numbers in script commands.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : update 'flash bank' usage in scripts Sets $_FLASHNAME to "$_CHIPNAME.flash" and passes it as the first
	argument to 'flash bank'.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : refactor handle_flash_bank_command Move variables to point of first use, reducing their scope.  Add
	driver_name temporary to help arguments be changed later.  Eliminates the useless 'found' variable, changing the code to
	terminate the loop immediate and return its success.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : allow flash/nand banks commands to accept names Add get_flash_bank_by_name (and get_nand_device_by_name) helpers to
	retrieves struct flash_bank * (struct nand_device *) given a driver
	name and an (optional) driver-specific bank index.  These are used to extend flash_command_get_bank_by_num (and
	nand_command_get_device_by_num) to allow all flash (nand) commands
	to reference defined banks by name, not just by number.  To avoid some code duplication, add the flash/common.[ch] files to
	hold functionality common to both types driver.  The first two
	methods are helpers for the above routines to find a bank specified
	by a "name" or "name.index" string.  get_flash_name_index() finds
	the '.index' portion, while flash_driver_name_matches() performs the
	string portion matching.

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: streamline register init Combine register names with other per-register data into a single
	template structure.  This saves space, and makes it easier to change
	how registers get handled (by shrinking the number of places that
	care about cache indices).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  Dean Glazeski <dnglaze@gmail.com>

	* : nand_fileio_parse_args parses wrong param for size This changes the size parameter from argv[2] to argv[3], which is
	what it's supposed to be.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-19  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7-A: use standard ARM core_mode symbols The only way ARMv7-A modes differ from ARMv4/ARMv5 flavors is that
	v7-A is allowed to include "Secure monitor" support.  That's now
	handled by our standard top-level ARM code ... so phase out the
	stuff that's specific to ARMv7-A.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : remove fast command and jim_global_long Removing the fast command eliminates the fast_and_dangerous global,
	which was used only by arm7_9_common as an initializer.  The command
	is not called in the tree; instead, more explicit commands are used.  The jim_global_long function was not used anywhere in the tree.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : change all bool parsers to accept any value This patch changes the behavior of all boolean parsing callers to
	accept any one of "true/enable/on/yes/1" or
	"false/disable/off/no/0".  Since one particular pair will be most appropriate in any given
	situation, the specific macros should continue to be used in order
	to display the most informative error messages possible.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : use COMMAND_PARSE_ENABLE macro where appropriate Updates all command parsing of simple "enable" and "disable"
	arguments.  A few case in the tree use a tri-state or extended
	arguments, which cannot use this simple macro.  Simlifies the xscale icache/dcache command handler logic.

2009-11-18  Zachary T Welch <zw@superlucidity.net>

	* : add COMMAND_PARSE_BOOL macro and friends Adds several macros similar to COMMAND_PARSE_NUMBER, but for parsing
	boolean command arguments.  Two flavors are provided to provide
	drop-in compatibility with existing code, allow for the elimination
	of a lot of code bloat while improving the error checking and
	reporting.  COMMAND_PARSE_ON_OFF parses "on"/"off" command parameters.
	COMMAND_PARSE_ENABLE parses "enable"/"disable" command parameters.  Both print the error and return an error out of the calling
	function.

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: xPSR handling updates When we read the CPSR on debug entry, update the CPSR cache in all
	cases, not just when the current processor state is User or System.  Plus minor cleanup of how the (too-many) other registers' cache
	entries get updated.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: simplify ARMv7-A register handling ARMv7-A doesn't need to duplicate all the standard ARM code for
	register handling.   - Switch Cortex-A8 to use the standard register code  - Remove duplicated infrastructure from ARMv7-A  - Have ARMv7-A arch_state() show CPSR, like other ARMs Add comments to show where the Cortex-A8 isn't actually doing the
	right thing for register reads/writes, unless core happens to be in
	the right mode to start with.  (Looks like maybe there may be
	generic confusion between saved/current PSR values in all the ARM
	code ...) Make related ARMv7-A and Cortex-A8 symbols properly static.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-18  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: add "core_type" field to "struct arm" It's used to flag cores with the "TrustZone" extension, and is used
	in subsequent patches to set up support for the registers shadowed
	by its new secure monitor mode.  The ARM1176 and Cortex-A8 both support this new mode.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : pass startup_tcl to command_init Removes external linkage from helper module, making the startup code
	a parameter to a new command context's initialization routine.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : move startup.c to libopenocd Moves the creation of startup_tcl.c from src/helper/ to src/.
	Prepares to split the startup.tcl file into its per-module parts.

2009-11-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : jtag-api: get rid of unecessary buf_set_u23() that make code
	obtuse.  Also, this is on the path to increasing the word size for bit
	vectors from 8 to something wider(32? natural host machine width?) Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: add arm_mode_name() Add and use arm_mode_name() to map from PSR bits to user meaningful
	names.   It uses a new table which, later, can be used to hold other
	mode-coupled data.  Add definitions for the "Secure Monitor" mode, as seen on some ARM11
	cores (like ARM1176) and on Cortex-A8.  The previous mode name
	scheme didn't understand that mode.  Remove the old mechanism ... there were two copies, caused by
	Cortex-A8 needing to add "Secure Monitor" mode support.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : allow documentation to be configured Add --disable-doxygen-html and --enable-doxygen-pdf options to the
	configure script, allowing user to change the defaults.  These
	update the proess of munging the Doxygen configuration file to use
	the settings thusly provided.  Add options in README.

2009-11-17  Zachary T Welch <zw@superlucidity.net>

	* : update command_handler documentation Improve the developer manual and primer sections which talk about
	writing command handlers.  Notably, it documents the new CMD_*
	macros.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : add CMD_NAME variable in command_invocation Update CMD_NAME from its migratory home in CMD_ARGV[-1] to
	cmd->name.  Allows CMD_ARGV++ idiom to be used safely in command
	handlers.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : command_handler: change 'cmd_ctx' to CMD_CTX Convert all command handler 'cmd_ctx' parameter usage with CMD_CTX.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : command_handler: change to 'argc' to CMD_ARGC This patch converts all instances of 'argc' in COMMAND_HANDLER
	routines to use CMD_ARGC.

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* : target: simplify register get/set ops No need to indirect from registered integers to pointers.  Just
	stash the pointers directly in the register struct, and don't even
	bother registering.  This is a small code shrink, speeds register access just a smidgeon,
	and gets rid of another rude exit() path.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: revC UART forwarding Name of serial device differs between revB/C.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : zy1000: fix bug when running on non-arm CPU Shifting by more than 32 is undefined for 32 bit integers according
	to the C standard. Robust solution is conditional code.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM9TDMI: remove now-needless "struct arm9tdmi" And move the rest of the vector_catch stuff into the C file; it's
	not part of the module interface.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-17  David Brownell <dbrownell@users.sourceforge.net>

	* : target: remove some more duplicate includes Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: no exit() calls, add missing v7-A init Eventually there should be a v7a init routine, but for now all that
	is inlined here.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : MIPS: no exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv4/ARMv5: no exit() calls Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: don't exit() Get rid of undesirable and needless exit() calls from the Cortex-M3
	support.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: register (most) standard ARM commands Have ARM11 register the "standard" ARM commands.  For now, only
	disassembly really works.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: fix autoprobe failure.  Fix bug noted by Øyvind: terminate the IR length autoscan when the
	IR is too long, or otherwise broken.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : struct fileio: improve member types Add const keyword to file url and cast to free().  Make size an ssize_t and chase all format strings that use it.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : use Jim_CmdProc in jim_register The jim_register command just needed to use the type defined by
	jim.h.

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : make command line options const The getopt_long call allows a const struct option, so mark ours
	const too.

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : target: don't include "log.h" from "armv4_5.h" No point in multiple includes, and that file doesn't use its
	functions any more.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: no LOG_WARNING() for taps without IDCODE Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : "types.h" doxygen fix Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : move ARRAY_SIZE macro to types.h The ARRAY_SIZE macro was defined in several target files, so move it
	to types.h.  This patch also removes two other identical macros: DIM (from
	jtag.h) and asizeof (from arm11.h).

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : remove TAP_SCAN_BYTES macro Use DIV_ROUND_UP(n, 8) instead of TAP_SCAN_BYTES macro.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : move container_of to types.h The container_of macro is useful as a general solution.  It belongs
	in types.h, rather than target.h where it was introduced.  Requires
	the offsetof macro, which comes from <stddef.h> (moved as well).

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : flash_command_get_bank_by_num: make COMMAND_HELPER Use COMMAND_HELPER macro to declare flash_command_get_bank_by_num.
	This is required for COMMAND_PARSE_NUMBER macro.

2009-11-07  Zachary T Welch <zw@superlucidity.net>

	* : Add 'nand verify' command Add the 'nand verify' command to perform a dump and fake-write
	simultaneously, checking the read bits against those generated by
	the write process.  Appropriate user documentation for this command
	has been added to the user guide as well.  The algorithm presently makes a relatively naive comparison.  Some
	chips that use ECC may not verify correctly using this
	implementation, but the new documentation provides details about
	this limitation.

2009-11-05  Zachary T Welch <zw@superlucidity.net>

	* : Use nand_fileio_* in write/dump commands.  This patch eliminates duplicated code in the the NAND 'dump' and
	'write' by using the new static helper functions.  These changes also fix a possible memory leak in nand dump command,
	in the case that the dump file failed to open.  Overall, the changes should be functionally equivalent, but the
	resulting code will be easier to improve and extend further.

2009-11-16  Zachary T Welch <zw@superlucidity.net>

	* : binarybuffer: add API documentation Adds Doxygen documentation for a number of the binarybuffer APIs,
	including "unexpected" behavior exposed during review on the list.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : improve buf_set_buf helper Use void * and unsigned types for buffer and their sizes.  Allows it
	to be used with more than uint8_t * without casts.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : improve buf_cpy helper Use memcpy for bulk of copy, improve final byte handling.  Improve
	types by using void * for buffers and unsigned for size.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : improve str_to_buf and buf_to_str helpers Improve types: use void * and unsigned.  Move all variables to point
	of first use.  Move radix guessing logic to new str_radix_guess
	helper.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : binarybuffer: fix whitespace related issues Add inter-operator whitespace.  Improve existing documentation.

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : target: no implicit #includes of "register.h" Same deal:  "register.h" got needlessly included all over the place
	because of being in a few widely included headers.  So take it out of the header files which included it, and put it in
	files which use it ... reduce needless interdependencies.  Also, don't need that extra "types.h" inclusion.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-16  David Brownell <dbrownell@users.sourceforge.net>

	* : target: don't implicitly include "algorithm.h" Most files in the tree seem to have ended up including this, and
	*quite* needlessly ... only code implementing or using downloadable
	algorithms actually needs these declarations.  So take it out of the header files which included it, and put it in
	files which use it ... reduce needless interdependencies.  Also: "algorithm.h" doesn't need to include "types.h" again; it
	already comes from a different header.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: use now-generic memory utils Now the ARM11 cores can use the renamed arm_checksum_memory() and
	arm_blank_check_memory() routines ... do so.  Sanity checked with "flash erase_check" of both NOR banks on an
	OMAP2420 ... the algorithm code dumped four lines of of "poll"
	status after each of almost 520 blocks (yes, *very* annoying) but
	gave plausible results after producing that spam.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: memory utils aren't ARM7/ARM9 dependent The arm7_9_checksum_memory() and arm7_9_blank_check_memory()
	routines are not actually specific to the ARM7 and ARM9 core
	generations ... they can work for any core which can run algorithms
	using basic ARM (not Thumb) instructions.  Rename them; move the declarations to a more generic site; likewise
	move the code (and tidy it a bit in the process).  NOTE:  the blank_check() method falsely returned a success status
	(0) on one error path, when the algorithm failed.  Fixed this bug.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-15  Zachary T Welch <zw@superlucidity.net>

	* : arm-jtag-ew,jlink: switch to COMMAND_HANDLER These drivers were overlooked during the recent upgrade.  Convert
	them, moving their registration routines to eliminate their
	declarations.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : remove unused arm_jtag_buf_to_* helpers Removes unused arm_jtag_buf_* helpers from arm_jtag.[ch].  These
	could reappear if patches are provided to conver the tree to use
	them, but this code should not be in the master tree until that
	series is ready.

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : struct scan_field_s -> struct scan_field Remove obsolete suffix from struct scan_field.  Somehow, these
	definitions did not get updated but did not cause any errors.

2009-11-14  David Brownell <dbrownell@users.sourceforge.net>

	* : lpc2900.h -- remove from Makefile.am too Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-14  David Brownell <dbrownell@users.sourceforge.net>

	* : remove annoying $URL$ startup message It's completely unused; the obnoxious "DANGER!!!" comments don't
	even explain what it was doing (shorthand SVN magic).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-14  Zachary T Welch <zw@superlucidity.net>

	* : add openocd.h for top-level declarations Create src/openocd.h to hold declarations previously made internally
	by src/main.c and src/server/server.c.  This ensures all functions
	are verified to be in-sync at compile time (rather than at link),
	making it easier to track down bugs.

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM11: ETM + ETB support Kick in ETM (and ETB) support for ARM11.  Tested on OMAP 2420, so
	update that configuration.  (That's an ARM1136ejs, ETB, OpenGL
	ES1.1, C55x DSP, etc.) Also update the other ARM11 ETM + ETB targets in the tree to set up
	these modules.  (Not tested.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : iMX2* + ETB targets: hook up ETM and ETB ARM9 cores with an ETB will have a matching ETM.  Hook them both up
	by default.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: simplify ETM initialization code paths Return NULL from etm_build_reg_cache() not ERROR_OK; and share code
	on that fault path.  Let ETM code handle any tracking of its cache -- not callers.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : target: remove unused "bitfield" infrastructure We have too many different registers, and too many version and
	context dependent interpretations, for this type of bitfield
	management to be scalable.  (Anyone who really wants bitfield interpretation *can* do that in
	Tcl code...) There are ... quite a few copies of the same ARM dummy registers.
	There should eventually be one copy; this many is craziness.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7/9: rm arm7_9_get_arch_pointers() Remove the last external user of arm7_9_get_arch_pointers(), and
	that annoying downcast utility.  Add an is_arm7_9() predicate.  Stop returning specious success codes on various failure paths in
	the ARM7/ARM9 commands which used that downcast utility.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : command_t -> struct command Remove misleading typedef and redundant suffix from struct command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : remove rlink structure typedefs Remove useless typedefs from the rlink driver.  Improve whitespace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : nand_device_t -> struct nand_device Remove misleading typedef and redundant suffix from struct
	nand_device.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : reg_t -> struct reg Remove misleading typedef and redundant suffix from struct reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : improve mips32_pracc_context Use struct mips32_pracc_context instead of a typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv4_5_common_t -> struct arm Remove misleading typedef and just use struct arm.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : etb_t -> struct etb Remove misleading typedef and redundant suffix from struct etb.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : image_elf_t -> struct image_elf Remove misleading typedef and redundant suffix from struct
	image_elf.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cortex_m3_fp_comparator_t -> struct cortex_m3_fp_comparator Remove misleading typedef and redundant suffix from struct
	cortex_m3_fp_comparator.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cortex_a8_brp_t -> struct cortex_a8_brp Remove misleading typedef and redundant suffix from struct
	cortex_a8_brp.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : xscale_trace_t -> struct xscale_trace Remove misleading typedef and redundant suffix from struct
	xscale_trace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : target_event_action_t -> struct target_event_action Remove misleading typedef and redundant suffix from struct
	target_event_action.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm9tdmi_vector_t -> struct arm9tdmi_vector Remove misleading typedef and redundant suffix from struct
	arm9tdmi_vector.  Renames enum arm9tdmi_vector as enum arm9tdmi_vector_bit.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : xscale_common_t -> struct xscale_common Remove misleading typedef and redundant suffix from struct
	xscale_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : trace_point_t -> struct trace_point Remove misleading typedef and redundant suffix from struct
	trace_point.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : target_timer_callback_t -> struct target_timer_callback Remove misleading typedef and redundant suffix from struct
	target_timer_callback.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : working_area_t -> struct working_area Remove misleading typedef and redundant suffix from struct
	working_area.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : reg_cache_t -> struct reg_cache Remove misleading typedef and redundant suffix from struct
	reg_cache.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : oocd_trace_t -> struct oocd_trace Remove misleading typedef and redundant suffix from struct
	oocd_trace.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mips_ejtag_t -> struct mips_ejtag Remove misleading typedef and redundant suffix from struct
	mips_ejtag.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mips32_common_t -> struct mips32_common Remove misleading typedef and redundant suffix from struct
	mips32_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : image_mot_t -> struct image_mot Remove misleading typedef and redundant suffix from struct
	image_mot.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : image_ihex_t -> struct image_ihex Remove misleading typedef and redundant suffix from struct
	image_ihex.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : image_section_t -> struct image_section Remove misleading typedef and redundant suffix from struct
	image_section.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : etm_capture_driver_t -> struct etm_capture_driver Remove misleading typedef and redundant suffix from struct
	etm_capture_driver.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : etb_reg_t -> struct etb_reg Remove misleading typedef and redundant suffix from struct etb_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cortex_m3_common_t -> struct cortex_m3_common Remove misleading typedef and redundant suffix from struct
	cortex_m3_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : watchpoint_t -> struct watchpoint Remove misleading typedef and redundant suffix from struct
	watchpoint.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mcu_jtag_t -> struct mcu_jtag Remove misleading typedef and redundant suffix from struct mcu_jtag.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv7m_algorithm_t -> struct armv7m_algorithm Remove misleading typedef and redundant suffix from struct
	armv7m_algorithm.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv7a_core_reg_t -> struct armv7a_core_reg Remove misleading typedef and redundant suffix from struct
	armv7a_core_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv7a_common_t -> struct armv7a_common Remove misleading typedef and redundant suffix from struct
	armv7a_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv4_5_cache_common_t -> struct armv4_5_cache_common Remove misleading typedef and redundant suffix from struct
	armv4_5_cache_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : armv4_5_core_reg_t -> struct armv4_5_core_reg Remove misleading typedef and redundant suffix from struct
	armv4_5_core_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm_jtag_t -> struct arm_jtag Remove misleading typedef and redundant suffix from struct arm_jtag.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm_load_store_instr_t -> struct arm_load_store_instr Remove misleading typedef and redundant suffix from struct
	arm_load_store_instr.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm_b_bl_bx_blx_instr_t -> struct arm_b_bl_bx_blx_instr Remove misleading typedef and redundant suffix from struct
	arm_b_bl_bx_blx_instr.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : swjdp_reg_t -> struct swjdp_reg Remove misleading typedef and redundant suffix from struct
	swjdp_reg.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm966e_common_t -> struct arm966e_common Remove misleading typedef and redundant suffix from struct
	arm966e_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm920t_tlb_entry_t -> struct arm920t_tlb_entry Remove misleading typedef and redundant suffix from struct
	arm920t_tlb_entry.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm7tdmi_common_t -> struct arm7tdmi_common Remove misleading typedef and redundant suffix from struct
	arm7tdmi_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm720t_common_t -> struct arm720t_common Remove misleading typedef and redundant suffix from struct
	arm720t_common.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm11_reg_state_t -> struct arm11_reg_state Remove misleading typedef and redundant suffix from struct
	arm11_reg_state.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm11_reg_defs_t -> struct arm11_reg_defs Remove misleading typedef and redundant suffix from struct
	arm11_reg_defs.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mem_param_t -> struct mem_param Remove misleading typedef and redundant suffix from struct
	mem_param.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : arm11_register_history_t -> struct arm11_register_history Remove misleading typedef and redundant suffix from struct
	arm11_register_history.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : pld_device_t -> struct pld_device Remove misleading typedef and redundant suffix from struct
	pld_device.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : xilinx_bit_file_t -> struct xilinx_bit_file Remove misleading typedef and redundant suffix from struct
	xilinx_bit_file.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : connection_t -> struct connection Remove misleading typedef and redundant suffix from struct
	connection.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : tcl_connection_t -> struct tcl_connection Remove misleading typedef and redundant suffix from struct
	tcl_connection.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : telnet_service_t -> struct telnet_service Remove misleading typedef and redundant suffix from struct
	telnet_service.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : gdb_connection_t -> struct gdb_connection Remove misleading typedef and redundant suffix from struct
	gdb_connection.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : aduc702x_flash_bank_t -> struct aduc702x_flash_bank Remove misleading typedef and redundant suffix from struct
	aduc702x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : pic32mx_mem_layout_t -> struct pic32mx_mem_layout Remove misleading typedef and redundant suffix from struct
	pic32mx_mem_layout.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : nand_block_t -> struct nand_block Remove misleading typedef and redundant suffix from struct
	nand_block.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : str9x_flash_bank_t -> struct str9x_flash_bank Remove misleading typedef and redundant suffix from struct
	str9x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : str7x_flash_bank_t -> struct str7x_flash_bank Remove misleading typedef and redundant suffix from struct
	str7x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : stm32x_flash_bank_t -> struct stm32x_flash_bank Remove misleading typedef and redundant suffix from struct
	stm32x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : stellaris_flash_bank_t -> struct stellaris_flash_bank Remove misleading typedef and redundant suffix from struct
	stellaris_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : pic32mx_flash_bank_t -> struct pic32mx_flash_bank Remove misleading typedef and redundant suffix from struct
	pic32mx_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : ocl_priv_t -> struct ocl_priv Remove misleading typedef and redundant suffix from struct ocl_priv.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : nand_manufacturer_t -> struct nand_manufacturer Remove misleading typedef and redundant suffix from struct
	nand_manufacturer.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : nand_flash_controller_t -> struct nand_flash_controller Remove misleading typedef and redundant suffix from struct
	nand_flash_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mflash_bank_t -> struct mflash_bank Remove misleading typedef and redundant suffix from struct
	mflash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : mflash_gpio_drv_t -> struct mflash_gpio_drv Remove misleading typedef and redundant suffix from struct
	mflash_gpio_drv.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : lpc3180_nand_controller_t -> struct lpc3180_nand_controller Remove misleading typedef and redundant suffix from struct
	lpc3180_nand_controller.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : lpc288x_flash_bank_t -> struct lpc288x_flash_bank Remove misleading typedef and redundant suffix from struct
	lpc288x_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : flash_driver_t -> struct flash_driver Remove misleading typedef and redundant suffix from struct
	flash_driver.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : faux_flash_bank_t -> struct faux_flash_bank Remove misleading typedef and redundant suffix from struct
	faux_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cfi_fixup_t -> struct cfi_fixup Remove misleading typedef and redundant suffix from struct
	cfi_fixup.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cfi_spansion_pri_ext_t -> struct cfi_spansion_pri_ext Remove misleading typedef and redundant suffix from struct
	cfi_spansion_pri_ext.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cfi_intel_pri_ext_t -> struct cfi_intel_pri_ext Remove misleading typedef and redundant suffix from struct
	cfi_intel_pri_ext.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : avrf_flash_bank_t -> struct avrf_flash_bank Remove misleading typedef and redundant suffix from struct
	avrf_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : at91sam7_flash_bank_t -> struct at91sam7_flash_bank Remove misleading typedef and redundant suffix from struct
	at91sam7_flash_bank.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : jtag_command_container_t -> union jtag_command_container Remove misleading typedef from union jtag_container.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : end_state_command_t -> struct end_state_command Remove misleading typedef from struct end_state_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : stableclocks_command_t -> struct stableclocks_command Remove misleading typedef from struct stableclocks_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : pathmove_command_t -> struct pathmove_command Remove misleading typedef from struct pathmove_command.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : cmd_queue_page_t -> struct cmd_queue_page Remove misleading typedef from struct cmd_queue_page.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : more vsllink typedef cleanup Remove useless typedef for struct insert_insignification_operation.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : presto_t -> struct presto Remove useless typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : jlink_jtag_t -> struct jlink Remove misleading typedef and redundant suffix.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : pending_scan_result_t -> struct pending_scan_result Remove misleading typedef from struct struct pending_scan_result.
	Future patches need to remove these duplicated types and code.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : use struct jtag_tap_event_action Remove useless typedef and redundant suffix from
	jtag_tap_event_action.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : jtag_interface_t -> struct jtag_interface Remove useless typedef and redundant suffix from struct
	jtag_interface.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : bitq_interface_t -> struct biq_interface Remove useless typedef and redundant suffix.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : scan_field_t -> struct scan_field Remove useless structure typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : fileio_t -> struct fileio Remove useless structure typedef.

2009-11-13  Zachary T Welch <zw@superlucidity.net>

	* : remove accidental artifact Somehow I managed to slip a temporary build file into the tree.
	Remove it and update the .gitignore file so it doesn't happen again.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : add src/hello.c to augment new command tutorial The hello module provides the 'hello' command, printing a greetings
	to the command console.  It can grow to serve as pedagogical example
	of services that OpenOCD developers should use: a runnable style
	guide.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : command_handler_t: make args parameter const This patch prevents command handlers from modifying the strings
	passed in the 'args' array.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : command_handler_t: make argc unsigned The number of command arguments will always be 0 or more, so use the
	right type in handlers.  This has a cascading effect up through the
	layers, but the new COMMAND_HANDLER macros prevented total chaos.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : use CALL_COMMAND_HANDLER instead of direct calls By using CALL_COMMAND_HANDLER, parameters can be reordered, added,
	or even removed in inherited signatures, without requiring
	revisiting all of the various call sites.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : nand: add NAND_DEVICE_COMMAND_HANDLER macro Abstracts the extended NAND command handling to allow the function
	signature to be controlled by __COMMAND_HANDLER.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : add FLASH_BANK_COMMAND_HANDLER macro The FLASH_BANK_COMMAND_HANDLER provides an extended command handler
	using the __COMMAND_HANDLER macro, whereby changing that macro is
	sufficient to update flash handlers with the new signature.  It also
	enforces uniform style and scope when implementing this handler.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : arm_adi,armv7[am]: use COMMAND_HELPER for helpers Rewrites the dap_* command helpers to use the COMMAND_HELPER
	paradigm.  Uses CALL_COMMAND_HELPER to hide inherited calling
	conventions.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : use COMMAND_HANDLER macro to define all commands

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : add COMMAND_HANDLER and COMMAND_HELPER macros The COMMAND_HANDLER and COMMAND_HELPER macros allow commands to be
	defined in a manner that decouples them from the exact order and
	type of their parameters.  Once converted, incremental changes to
	the command handler type can be addressed in incremental patches
	that do not need to touch the entire tree.  These macros' implementation, __COMMAND_HANDLER, is used to define
	the new command_handler_t type, and additional patches will use it
	to derive new macros to define extended command types (e.g. flash,
	nand, pld).  The CALL_COMMAND_HANDLER provides a means of calling
	helpers or nested handlers from withing a command handler.  This patch uses C99 varadic macro expansion.  Please report
	compilers that cannot handle this code.

2009-11-13  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-A8: fix indent The "remove (forward) declarations" patch goofed indentation on the
	"cortexa8_target" struct; fix.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-12  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: start support for ETMv2+ ARM11 and newer cores include updated ETM modules.  Recognize their
	version codes and some key config differences.  Sanity checked on an
	OMAP2, with an ETM11RV r0p1 (ETMv3.1).  This still handles only scan chain 6, with at most 128 registers.
	Newer cores (mostly, Cortex) will need to use the DAP instead.  Note that the newer ETM modules don't quite fit the quirky config
	model of the older ones ... having more port widths is easy, but the
	modes aren't the same.  That still needs to change.  Fix a curious bug ... how did the register cache NOT get saved?? Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-12  Jonas Horberg <jhorberg@sauer-danfoss.com>

	* : parport: add support for the jtag_khz command.  Add the khz and speed_div functions to the parport interface driver.
	Add the parport_toggling_time function that tells the parport driver
	how long (in nanoseconds) it takes for the hardware to toggle TCK.  [dbrownell@users.sourceforge.net: tweak doc for clarity, mention
	multimeter, and whitespace fixes] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: use new toplevel ETM handle Make ETM itself use the new toplevel ETM handle, instead of the
	to-be-removed lower level one.  As of this patch, nothing should be
	using the old ARM7/ARM9-specific handle.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: update arm[79]tdmi_examine() Make ARM7 and ARM9 cores use the new toplevel ETM handle to trigger
	ETM setup, not the to-be-removed lower level one.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : fix 'jtag interface' behavior Without this patch, running "openocd -c 'jtag interface'" segfaults.
	Now, it returns the string "undefined" when the interface is unset.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : add help regardless of callback Add help for commands regardless of whether a handler is involved.
	With this, all sorts of new commands can be found in 'help' text.
	Hopefully, all of them have been documented....  Sadly, the lsort function appears to handle nested lists poorly,
	such that sub-commands do not group with their parents.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : add command_name helper The command_name function returns a malloced string for a given
	command and its parents.  This can be used to display a message to
	the user, but it is used internally to handle registration and
	syntax errors.  This helps permit arbitrary command nesting.

2009-11-11  Zachary T Welch <zw@superlucidity.net>

	* : remove obsolete doxygen comments Documenting command handler parameters is redundant and pointless.

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : cortex_a8: remove declarations, use static keyword

2009-11-10  Zachary T Welch <zw@superlucidity.net>

	* : change argv to args in command handlers Subsequent patches expect all command handlers to use a uniform
	parameter naming scheme.  In the entire tree, these two files used
	standard 'argv' instead of our non-standard 'args'.  This patch opts
	to reduces the noise required to unify the command handlers, using
	dominant 'args' form.  A future patch may be used to convert us back to the standard argv,
	but that requires coordination with all developers to minimize
	disruptions.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : command.c: make private routines static This patch also improves the signature of run_command function.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : time_support: improve use of types Update timeval_add_time to use long int; implement timeval_add with
	it.  Update timeval_ms to check gettimeofday return value, return
	int64_t.

2009-11-11  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM cleanup Various cleanups of ETM related code.   - Saner error return paths  - Simplify arm7_9 init ... no need for extra zeroing!  - Shrink some lines  - Tweak some diagnostics  - Use shorter name for ETM struct type.   - Don't exit() and similar.  The diagnostics look forward to having this ETM code
	work with more than just ARM7/ARM9.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM720: bugfix The "ARM720 uses the new inheritance/nesting scheme" patch wrongly
	scrubbed a calloc() from arm720t_target_create().  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* : target.cfg: (re)move some bogus reset_config lines General rule, this is all board-specific and doesn't belong in
	target config files.  Some of these were just cosmetic.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Michael Bruck <mbruck@digenius.de>

	* : arm11: add etmr/etmw registers to access ETM via DBGTAP scan
	chain First cut of these commands. Øyvind tinkered a bit with the number
	parsing to bring it up to speed + rebased it.  Ready for testing.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : telo.cfg: fix search paths Add the missing "target/" prefix for scripts in the target folder.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM920: implement basic MMU ops mmu() works; virt2phys() fails and logs an error.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  David Brownell <dbrownell@users.sourceforge.net>

	* : Target: fix bad error messages And shrink a few too-long lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-10  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : tcl: HostOs now picks up eCos as well during compile time Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : command.c: make commands static Removes useless declarations, moving the handler functions to appear
	before their use in the (much bigger) command registriation
	function.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : jtag: remove useless declarations Contrary to my previous assessment, some opportunities to remove
	forward declarations were overlooked.  Remove them by moving the
	definitions of the command registration and interface structure to
	the end of files.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : {pic32m,stm32}x.c: remove useless declarations Remove useless forward declarations.  Moves command registrations to
	end of files.  Moves flash structure definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : flash/<various>.c: remove useless declarations Remove useless forward declarations.  Moves flash structure
	definitions to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : flash/at91sam[37].c: remove useless declarations Remove useless forward declarations.  Moves command registration to
	end of file.  Moves flash structure definitions to end of files.  Changes a few references to global flash structure to local refs.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : flash/*nand*.c: remove useless declarations Remove useless forward declarations.  Moves command registration to
	end of files.  Moves flash structure definition to end of files.  Signed-off-by: Zachary T Welch <zw@superlucidity.net>

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* : Revert "target: add target->type->has_mmu fn" This patch introduced a bug preventing flash writes from working on
	Cortex-M3 targets like the STM32.  Moreover, it's the wrong approach
	for handling no-MMU targets.  The right way to handle no-MMU targets is to provide accessors for
	physical addresses, and use them everywhere; and any code which
	tries to work with virtual-to-physical mappings should use a
	identity mapping (which can be defaulted).  And ... we can tell if a target has an MMU by seeing if it's got an
	mmu() method.  No such methood means no MMU.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: Flash/NAND doc tweaks Rename the "Drivers, Options, and Commands" sections to be just
	"Driver List" matching the earlier reference.  Add an example of
	parallel CFI flash.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : target.h: remove extern keyword and wrap Removes 'extern' keyword from function prototypes and wraps long
	lines.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : src/flash: remove 'extern' and wrap headers Removes 'extern' keywords from function prototypes in the flash
	headers.  Wraps long lines to fit into 80 columns.  Adds multiple inclusion protection for s3c2xx_nand.h.

2009-11-09  Zachary T Welch <zw@superlucidity.net>

	* : src/helper: wrap and clean headers.  Remove all useless 'extern' keywords from function prototypes.
	Wraps long lines for readability.

2009-11-09  David Brownell <dbrownell@users.sourceforge.net>

	* : EmbeddedICE: minor cleanups Add comments (Doxygen and normal), remove unused code, shrink some
	overlong lines.  Get rid of a forward decl.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-06  Zachary T Welch <zw@superlucidity.net>

	* : Add private header for ARM11 internals.  Reduces confusion about location of associated routines and reduces
	clutter in the arm11 header.  Removes extra whitespace around the lines touched by these changes.

2009-11-08  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: minor simulator cleanup Make several functions be static.  Shrink some of the overlong
	lines.  Use pure tab indents in some places that mixed in spaces.
	This gives a minor object code shrink (about 2% on amd64).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-08  David Brownell <dbrownell@users.sourceforge.net>

	* : target.cfg: remove "-work-area-virt 0" The semantics of "-work-area-virt 0" (or phys) changed with the
	patch to require specifying physical or virtrual work area
	addresses.  Specifying zero was previously a NOP.  Now it means that
	address zero is valid.  This patch addresses three related issues:  - MMU-less processors should never specify work-area-virt;    remove those specifications.  Such processors include    ARM7TDMI, Cortex-M3, and ARM966.   - MMU-equipped processors *can* specify work-area-virt...     but zero won't be appropriate, except in mischievous    contexts (which hide null pointer exceptions).     Remove those specs from those processors too.  If any of    those mappings is valid, someone will need to submit a    patch adding it ... along with a comment saying what OS    provides the mapping, and in which context.  Example,    say "works with Linux 2.6.30+, in kernel mode".  (Note    that ARM Linux doesn't map kernel memory to zero ...)  - Clarify docs on that "-virt" and other work area stuff.  Seems to me work-area-virt is quite problematic; not every operating
	system provides such static mappings; if they do, they're not in
	every MMU context...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-06  David Brownell <dbrownell@users.sourceforge.net>

	* : commit a9abfa7d06dbcfded97b7fb41f50d3581c24fbae Author: David
	Brownell <dbrownell@users.sourceforge.net> Date:   Fri Nov 6
	14:57:21 2009 -0800

2009-11-05  Zachary T Welch <zw@superlucidity.net>

	* : Simplify nand indentation.  Removes check covered by new nand_command_get_device_by_num helper.
	Reverses logic of probe check to further reduce indentation.

2009-11-06  Zachary T Welch <zw@superlucidity.net>

	* : Fix arm11 vcr command parsing.

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM: other code uses the new inheritance/nesting scheme Remove most remaining uses of target->arch_info from ARM
	infrastructure, where it hasn't already been updated.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7TDMI uses the new inheritance/nesting scheme Use target_to_arm7_9(), replacing needless pointer traversals.  Also:  remove now-useless contents of arm7tdmi struct; it's almost
	ready to be removed.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : XScale uses the new inheritance/nesting scheme Use target_to_xscale(), replacing needless pointer traversals and
	simplifying a bunch of code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM966 uses the new inheritance/nesting scheme Use target_to_arm966(), replacing needless pointer traversals.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : FA526 uses the new inheritance/nesting scheme Replace needless pointer traversals, simplify.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: use the new inheritance/nesting scheme Use new target_to_cm3() and target_to_armv7m() inlines, instead of a
	series of x->arch_info conversions.  Remove arch_info, since nothing
	uses it.  Also fix an omission:  the Cortex-M3 commands didn't verify that
	they were operating on that kind of target.  Add comment about the
	ARMv7M version of that omission.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM7TDMI: remove forward decls The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Also shrink a few overly-long lines with function declarations or
	definitions;  get rid of arm7tdmi_register_commands(), it's not
	needed (just delegated); minor whitespace declutter.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : FA526: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	most functions static.  The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM966: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	most functions static.  The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  Also remove needless arm966e_init_target(), in favor of the arm9tdmi
	routine to which it delegates its work.  This saved over 100 bytes of code on x86_32.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM920: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Make
	most functions static.  Add a short header comment.  The forward decls are just code clutter; remove them, by moving
	their references after definitions.  This is another file which
	never needed even one internal forward declaration.  This saved almost 900 bytes of code on x86_32; it seems the compiler
	can leverage its knowledge that these functions are not called from
	the outside world...  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve str9x config command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve stm32x.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve pic32mx.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve lpc3180_nand_controller.c parsing.  This fixes a memory leak in lpc3180_nand_device_command by
	reordering the malloc to occur after all parsing has completed.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve lpc288x.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Improve cfi.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve orion_nand.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve at91sam7.c command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve nand.c command argument parsing.

2009-10-23  Zachary T Welch <zw@superlucidity.net>

	* : Add Flash/NAND bank command argument helpers.  This eliminates redundant code for parsing and retreiving the bank
	specified from a script command argument.  This patch was written to
	replace existing functionality; however, the parsing logic can be
	updated later to allow flash commands to accept bank names as well
	as their numbers.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve etm command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve arm_adi_v5 command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve xscale command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve arm966e command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve arm920t command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve arm7_9_common command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve armv7a command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Improve xscale command argument parsing.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Update all server port command to use new helper.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve target.c command argument parsing.  Passes cmd_ctx into parse_load_image_command_args for reporting the
	parsing errors therein.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Improve debug_level command argument parsing.

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Add stringify macros in src/helper/types.h.

2009-10-27  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : arm11: check if target is halted before executing mrc/mcr
	commands.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : target: check args to mrc/mcr.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : TODO: Wrote up list of remaining tasks for target->type->mrc/mcr Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-10-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : cortex_a8: add mrc mcr interface.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : watchpoint_add() cleanup Fail watchpoint_add() if it's the same address but the parameters
	are different ... don't just assume having the same address means
	the same watchpoint!  (Note that overlapping watchpoints aren't
	detected...) Handle unrecognized return codes more sanely; don't exit()! And
	describe command params right.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : Cortex-M3: minor cleanup There's no reason to read which interrupts are enabled from the
	NVIC; that state isn't used.  Plus, it's highly dynamic since
	firmware can change it at any time; remove the support for those
	state records.  Remove duplicate definition of DWT_CTRL address; shrink a line.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-05  David Brownell <dbrownell@users.sourceforge.net>

	* : ARMv7M: add docs, remove exports Add Doxygen for the exported ARMv7-M interfaces.  Make the non-exported stuff static.  Remove functions and data which
	are now observably unused.  Add comment about a small speedup that the run_algorithm() logic
	could use.  Shrink a few too-long lines.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-26  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Make default implementation of mdw/mmw phys return error 'not
	implemented'

2009-10-30  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : debug interface: get rid of unused pre_debug fn Removing unused code makes it much less mysterius.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : ft2232: cleanup Previous patch somehow made GCC lose some of its cookies; work
	around, zero-init that struct.  Clean up code from the previous patch.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : PXA255: support Intel "Lubbock" platform Config for Intel's "Lubbock" PXA255 development board.  Even more so
	than the PXA255 itself, this is obsolete.  AFAIK this was the first
	generally available development platform for PXA255.  Intel stopped
	providing these after other devel boards became available.  One interesting thing about this board from the OpenOCD perspective
	is probably its flash configuration.  Each bank is 32 bits wide,
	built from two 16-bit StrataFlash chips wired in parallel.  This
	doubles throughput ... it reads/writes 32 bits in the time a single
	chip takes to write just 16 bits.  This conf mostly works, given XScale bugfixes, but has some issues
	(notably: no access to the on-board SDRAM) flagged by FIXMEs.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Version 0.3.0 Remove -dev tag, remove -rc tag.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Doc: fix broken link Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Other files: stop referring to ChangeLog too The ChangeLog idiom is redundant given any decent SCM.  Time to
	phase it out here.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  David Brownell <dbrownell@users.sourceforge.net>

	* : Tweak release docs Contrast releases to git snapshot tarballs.  Mention that releases
	have some quality-improvement focus, with special non-"dev" version
	IDs.  Explain more about version IDs, using "openocd -v" to see
	them, etc; Make release milestone info be less specific about timing, and
	presume we have both a merge window and an RC stage.  Rework the release process information to match reality a bit more
	closely.  Reference the version.sh script (in one place the wrong
	script was referenced).  Bugfix branches get special treatment,
	while non-bugfix releases are more or less what *defines* being the
	mainline branch.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-04  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : configure: fix build problems with eCos Various include files require some other include files to be
	included first. Copied solution from net/if.h.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-03  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : target: 20 second timeout/megabyte for CRC check There was a fixed 20 second timeout which is too little for large,
	slow timeout checks.  Signed-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-02  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : target: require working area for physical/virtual addresses to
	be specified Fixed bug: if virtual address for working memory was not specified
	and MMU was enabled, then address 0 would be used.  Require working address to be specified for both MMU enabled and
	disabled case.  For some completely inexplicable reason this fixes the regression in
	svn 2646 for flash write in arm926ejs target. The logs showed that
	MMU was disabled in the case below:
	https://lists.berlios.de/pipermail/openocd-development/2009-November/011882.htmlSigned-off-by: Øyvind Harboe <oyvind.harboe@zylin.com>

2009-11-01  David Brownell <dbrownell@users.sourceforge.net>

	* : User's Guide: more init info, autoprobing, etc Mention the autoprobing as a tool that may be useful when figuring
	out how to set up; and add a section showing how to use that
	mechanism (with an example).  Strengthen the differences between config and run stage
	descriptions; add a section for the latter.  Mention Dragonite.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-11-01  Freddie Chopin <freddie_chopin@op.pl>

	* : remove "-ircapture 0x1 -irmask 0x1" from stm32.cfg Gets rid of the runtime warning "stm32.bs: nonstandard IR mask" [dbrownell@users.sourceforge.net: line lengths, note issue, section
	ref] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-29  Freddie Chopin <freddie_chopin@op.pl>

	* : target.cfg: use $_TARGETNAME for flash This gets rid of runtime warnings from the use of numbers.  STM32
	and LPC2103 were tested.  Other LPC updates are the same, and so are
	safe.  The CFI updates match other tested changes now in the tree.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-30  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM926: fix arm926ejs_mmu() reading from bad pointer I'm suspecting this code can never have worked, since the original
	commit (svn #335) in early 2008.  Fix is just copy/paste from another (working) function.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-29  Michael Roth <mroth@nessie.de>

	* : SVF: fix checking bit pattern against length The code works like follow (N = bit_len): 	N	-1	%4	2<<	-1	~ (binary) 	-------------------------------------------------- 	1	0	0	2	1	1111 1110 	2	1	1	4	3	1111 1100 	3	2	2	8	7	1111 1000 	4	3	3	16	15	1111 0000 	5	4	0	2	1	1111 1110 	6	5	1	4	3	1111 1100 	7	6	2	8	7	1111 1000 	8	7	3	16	15	1111 0000 	...	...	...	...	...	...  Addresses a bug reported by FangfangLi <ffli@syntest.com.cn>.  [dbrownell@users.sourceforge.net: fix spelling bug too] Signed-off-by: Michael Roth <mroth@nessie.de> Cc: FangfangLi
	<ffli@syntest.com.cn> Signed-off-by: David Brownell
	<dbrownell@users.sourceforge.net>

2009-10-29  David Brownell <dbrownell@users.sourceforge.net>

	* : XSVF: bugfix handling state paths Implement XSVF support for detailed state path transitions, by
	collecting sequences of XSTATE transitions into paths and then
	calling pathmove().  It seems that the Xilinx tools want to force state-by-state
	transitions instead of relying on the standardized SVF paths.  Like
	maybe there are XSVF tools not implementing SVF paths, which are all
	that we support using svf_statemove().  So from IRPAUSE, instead of just issuing "XSTATE DRPAUSE" they will
	issue XSTATES for each intermediate state: first IREXIT2, then
	IRUPDATE, DRSELECT, DRCAPTURE, DREXIT1, and finally DRPAUSE.  This
	works now.  Handling of paths that go *through* reset is a trifle dodgey, but it
	should be safe.  Tested-by: Wookey <wookey@wookware.org> Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-28  Zachary T Welch <zw@superlucidity.net>

	* : The openocd 0.3.0-rc0 release.  Remove '-dev' version tag: 0.3.0-rc0-dev -> 0.3.0-rc0

2009-10-28  David Brownell <dbrownell@users.sourceforge.net>

	* : ARM926: remove exports and forward decls Unneeded exports cause confusion about the module interfaces.  Only
	the Feroceon code builds on this, so only routines it reuses should
	be public..  Make most remaining functions static, and fix some of
	the line-too-long issues.  The forward decls are just code clutter; move their references
	later, after the normal declarations.  Turns out we don't need even
	one forward declaration in this file.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  Zachary T Welch <zw@superlucidity.net>

	* : Add script to test the release process.  Runs the release.sh script in a freshly cloned repository, charting
	one hypothetical future of OpenOCD's lineage.

2009-10-20  Zachary T Welch <zw@superlucidity.net>

	* : Factor version munging capabilities out of release.sh.

2009-10-24  Zachary T Welch <zw@superlucidity.net>

	* : Add git2cl from repo.or.cz as a submodule in tools/git2cl.

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* : ARM: fix single-step of Thumb unconditional branch Only type 1 branch instruction has a condition code, not type 2.
	Currently they're both tagged with ARM_B which doesn't allow for the
	distinction.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Oleg Seiljus <oleg@signalyzer.com>

	* : Signalyzer: H2 and H4 support This patch includes partial support for these new JTAG adapters.
	More complete support will require updates to the libftdi code, for
	EEPROM access.  [dbrownell@users.sourceforge.net: fix whitespace, linelen, etc ] Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* : ARM: fix Thumb mode handling when single-stepping register based
	branch insns Currently, OpenOCD is always caching the PC value without the T bit.
	This means that assignment to the PC register must clear that bit
	and set the processor state to Thumb when it is set.  And when the
	PC register value is transferred to another register or stored into
	memory then the T bit must be restored.  Discussion: It is arguable if OpenOCd should have preserved the
	original PC value which would have greatly simplified this code.
	The processor state could then be obtained simply by getting at bit
	0 of the PC.  This however would require special handling elsewhere
	instead since the T bit is not always relevant (like when PC is used
	with ALU insns or as an index with some addressing modes).  It is
	unclear which way would be simpler in the end.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-27  Nicolas Pitre <nico@fluxnic.net>

	* : ARM: call thumb_pass_branch_condition() only for actual branch
	opcodes Calling it first with every opcodes and then testing if the opcode
	was indeed a branch instruction is wasteful and rather strange.  If
	ever thumb_pass_branch_condition() has side effects (say, like
	printing a debugging traces) then the result would be garbage for
	most Thumb instructions which have no condition code.  While at it, let's make the nearby code more readable by reducing
	some of the redundant brace noise and reworking the error handling
	construct.  Signed-off-by: Nicolas Pitre <nico@marvell.com> Signed-off-by: David
	Brownell <dbrownell@users.sourceforge.net>

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: "jtag newtap ..." cleanup Get rid of needless variable, improve and shrink diagnostic.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-26  David Brownell <dbrownell@users.sourceforge.net>

	* : omap3530: target reset/init improvements Now I can issue "reset halt" and have everything act smoothly; the
	vector_catch hardware is obviously not kicking in, but the rest of
	the reset sequence acts sanely.   - TAP "setup" event enables the DAP, not omap3_dbginit    (resolving a chicken/egg bug I noted a while back)  - Remove stuff from omap3_dbginit which should never be    used in event handlers  - Cope better with slow clocking during reset Also, stop hard-wiring the target name: use the input params in the
	standard way, and set up $_TARGETNAME as an output param.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-26  Spencer Oliver <ntfreak@users.sourceforge.net>

	* : Fix incorrect line endings Signed-off-by: Spencer Oliver <ntfreak@users.sourceforge.net>

2009-10-26  Wookey <wookey@wookware.org>

	* : balloon3 board base config This is the very basic board config for the balloon3 board cpu JTAG
	channel.  The rest of the config comprises another 14 .cfg files which I
	suspect openocd doesn't really want all of. I'm still not sure how
	to deal with this. I'll post another mail/patch to discuss.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-23  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Idea for adding watchpoint masks.

2009-10-25  David Brownell <dbrownell@users.sourceforge.net>

	* : minor fixes to TODO list

2009-10-25  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : check if mmu is enabled before using mmu code path

2009-10-25  David Brownell <dbrownell@users.sourceforge.net>

	* : JTAG: jtag_tap_init() bugfixes Stop allocating three bytes per IR bit, and cope somewhat better
	with IR lengths over 32 bits.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-24  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : vector_catch and watchpoint TODO items.

2009-10-23  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Improve help for arm9 vector_catch.

2009-10-23  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mcr/mrc interface work. Implemented for arm926ejs and arm720t.
	mcr/mrc commands added.

2009-10-23  David Brownell <dbrownell@users.sourceforge.net>

	* : jtag: clean up TAP state name handling Some cosmetic cleanup, and switch to a single table mapping between
	state names and symbols (vs two routines which only share that state
	with difficulty).  Get rid of TAP_NUM_STATES, and some related knowledge about how TAP
	numbers are assigned.  Later on, this will help us get rid of more
	such hardwired knowlege.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  Nicolas Pitre <nico@fluxnic.net>

	* : Ferocion: fix corruption of r0 when resuming Thumb mode The wrong variable (pc instead of r0) was used.  Furthermore,
	someone did cover this error by stupidly silencing the compiler
	warning that occurred before a dummy void reference to r0 was added
	to the code.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-22  David Brownell <dbrownell@users.sourceforge.net>

	* : ETM: rename registers, doc tweaks The register names are perversely not documented as zero-indexed, so
	rename them to match that convention.  Also switch to lowercase
	suffixes and infix numbering, matching ETB and EmbeddedICE usage.  Update docs to be a bit more accurate, especially regarding what the
	"trigger" event can cause; and to split the issues into a few more
	paragraphs, for clarity.  Make "configure" helptext point out that "oocd_trace" is prototype
	hardware, not anything "real".  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : mww_phys retired. Replaced by generic mww phys in target.c

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : retire obsolete mXY_phys commands. Handled by generic memory
	read/modify commands and target read/write physical memory
	callbacks.

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : add support for target_read/write_phys_memory callbacks.

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : commit 69a6037ce6e76dca4117689208358231dffa0929 Author: Øyvind
	Harboe <oyvind.harboe@zylin.com> Date:   Wed Oct 21 13:10:32 2009
	+0200

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Retire obsolete and superfluous implementations of virt2phys in
	each target. This is done in a polymorphic implementation in
	target.c

2009-10-21  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Defined target_write_memory() to be able to handle implementing
	breakpoints for read only ram(e.g. MMU write protected.

2009-10-20  David Brownell <dbrownell@users.sourceforge.net>

	* : XSVF: use svf_add_statemove() XSVF improvements:  - Layer parts of XSVF directly over SVF, calling
	   svf_add_statemove() instead of expecting jtag_add_statemove() to
	   conform to the SVF/XSVF requirements (which it doesn't).     This should improve XSTATE handling a lot; it removes most users
	   of jtag_add_statemove(), and the comments about how it should
	   really do what svf_add_statemove() does.   - Update XSTATE logic to be a closer match to the XSVF spec.  The
	   main open issue here is (still) that this implementation doesn't
	   know how to build and submit paths from single-state transitions ...
	   but now it will report that error case.   - Update the User's Guide to mention the two utility scripts for    working with XSVF, and to mention the five extension opcodes.  Handling of state transition paths is, overall, still a mess.  I
	think they should all be specified as paths not unlike SVF uses, and
	compiled to the bitstrings later ... so that we can actually make
	sense of the paths.  (And see the extra clocks, detours through RUN,
	etc.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Added the faux flash driver and target. Used for testing.

2009-10-20  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : More svn to git version string fixes.

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* : davinci: add watchdog reset method Lightly tested on dm365.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* : SVF/XSVF: comment and whitespace fixes SVF: comment the predefined/default paths; make them static const SVF, XSVF: whitespace fixes, mostly so copyrights display sanely Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-19  Redirect 'Slash' NIL <redirect.slash.nil@gmail.com>

	* : MinGW: always use "-D__USE_MINGW_ANSI_STDIO" This is unfortunately needed to make stdio work like OpenOCD expects
	-- matching the ANSI-C standard, instead of MS-Windows.  I tested it in both MinGW-W64 on Vista 64 and MinGW-W32 on XP, and I
	don't see any adverse effects to enabling it for all MinGW versions.

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* : Doc: jtag_init must validate scan chain too Same requirement as like init_reset, and for the same reason: we
	need to start with a known and working state.

2009-10-19  David Brownell <dbrownell@users.sourceforge.net>

	* : Ignore openocd.exe for "git status"

2009-10-19  oyvind <oyvind@titan.(none)>

	* : Sync with official Jim Tcl repository.

2009-10-18  Dean Glazeski <dnglaze@gmail.com>

	* : SDRAM and clock configuration for the SAM9-L9260 board from
	Olimex

2009-10-17  David Brownell <dbrownell@users.sourceforge.net>

	* : Ignore two more generated files On Windows the name is "bin2char.exe".  All operating systems now
	have "xscale_handler.h".

2009-10-17  Redirect \"Slash\" NIL <redirect.slash.nil@gmail.com>

	* : jim-eventloop for MinGW-w64 Use JIM_WIDE_MODIFIER for the sscanf format, and apply it for
	MINGW32 as well as other Windows environments.  (Microsoft doesn't
	conform to the C99 standard, and uses "%I64d" not "%lld" for "long
	long".) NB: __MINGW32__ should work on both w32 and w64,.

2009-10-16  David Brownell <dbrownell@users.sourceforge.net>

	* : xscale: better fix for debug_handler.bin Generate a C struct with the data, and use that, instead of an
	assembly language file.  The assembly language causes issues on
	Darwin and MS-Windows, which don't necessarily use GNU AS; or if
	they do, don't necessarily use its ELF syntax.  It's also better in two other ways:  fewer global symbols; and the
	init-time size check gets optimized away at compile time.  (Unless
	it fails, in which case bigger chunks of the file vanish.) Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-14  David Brownell <dbrownell@users.sourceforge.net>

	* : portability updates Based on some patches from <redirect.slash.nil@gmail.com> for
	preliminary Win64 compilation.  More such updates are needed, but
	they need work.  Compile tested on 64 and 32 bit Linuxes, and
	Cygwin.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-14  Wookey <wookey@wookware.org>

	* : Fw: [PATCH] OpenRD board configuration Ofrwarded from Ron, who's not subscribed.  ----- Forwarded message from Ron <ron@debian.org> ----- From: Ron <ron@debian.org> Date: Wed, 14 Oct 2009 04:50:17 +1030 To:
	wookey@debian.org Subject: [PATCH] OpenRD board configuration
	X-Spam-Status: No, score=-3.6 required=4.5
		tests=BAYES_00,RCVD_IN_DNSWL_LOW autolearn=ham version=3.2.5 This piggybacks on the 'sheevaplug' layout which uses the same
	Kirkwood SoC.  Signed-off-by: Ron Lee <ron@debian.org>

2009-10-14  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Work in progress on arm11 reset. Assert srst.

2009-10-14  David Brownell <david-b@pacbell.net>

	* : Fix problems building xscale_debug.S

2009-10-13  Lennert Buytenhek <buytenh@wantstofly.org>

	* : fix detection of PLD instructions Signed-off-by: Lennert Buytenhek <buytenh@marvell.com>
	Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-13  David Brownell <dbrownell@users.sourceforge.net>

	* : cosmetic cleanup in TMS tables Cleanup comments and layout/whitespace in the TMS tables.  Table
	contents stayed the same (ignoring whitespace).  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-11  Yauheni Kaliuta <y.kaliuta@gmail.com>

	* : Do not replace virt2phys with the default one if it was assigned Signed-off-by: Yauheni Kaliuta <y.kaliuta@gmail.com>

2009-10-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Missing type for eCos.

2009-10-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Delete commented out code. Add a bit of error checking.

2009-10-13  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Propagate error from assert, deassert and halt on tcl target
	object.

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : More error propagation fixes.

2009-10-12  Wookey <wookey@wookware.org>

	* : Xilinx xcr3256.cfg basic config script

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Propagate wDTR/rDTR failure immediately, otherwise it's followed
	up by timeout errors.

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : burst writes work fine. clean up junk.

2009-10-12  David Brownell <dbrownell@users.sourceforge.net>

	* : simplify XScale debug handler installation Load the XScale debug handler from the read-only data section
	instead of from a separate file that can get lost or garbaged.  This
	eliminates installation and versioning issues, and also speeds up
	reset handling a bit.  Plus some minor bits of cleanup related to loading that handler:
	comments about just what this handler does, and check fault codes
	while writing it into the mini-icache.  The only behavioral changes should be cleaner failure modes after
	errors during handler loading, and being a bit faster.  NOTE:  presumes GNU assembly syntax, with ".incbin"; and ELF,
	because of the syntax of the ".size" directive.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Merge commit 'origin/master'

2009-10-12  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Supply default reset_config statement to make target scripts
	useful standalone and provide sensible default

2009-10-11  David Brownell <dbrownell@users.sourceforge.net>

	* : xscale.c cleanup Declare almost everything as static.  Move stuff to remove most
	forward references.  Remove most forward declarations.  Warn if the
	unimplemented register functions get called.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-11  David Brownell <dbrownell@users.sourceforge.net>

	* : xscale minor cleanup Add a header comment referencing useful XScale specs.  Make most
	data static, and the tables readonly.  Scrub extra blank lines.
	Return fault codes from one routine.  Remove a needless NOP methood.  (BUGFIX) When we update R0, mark R0 as dirty/valid ... not R15/PC! Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-10  Wookey <wookey@wookware.org>

	* : Fix reset delays and tinker with ID's

2009-10-09  David Brownell <dbrownell@users.sourceforge.net>

	* : add documentation about reset customization We added two overridable procedures; document them, and the two jtag
	arp_* operations they necessarily expose.  Update the comment about the jtag_init_reset() routine; it's been
	obsolete for as long as it's had SRST support.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : ARM11 error checking

2009-10-09  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Added tip in documentation on how to translate quirky syntax

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* : add overridable Tcl "init_reset" This abstracts the "jtag arp_init-reset" call into a method called
	from OpenOCD startup and reset processing.  Platforms which have different requirements for how such hard resets
	must be performed can now override "init_reset" instead of needing
	to rebuild custom hacked versions of the server.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  Rabeeh Khoury <rabeeh@marvell.com>

	* : Function to flash SheevaPlug u-boot sectors This function is used by the SheevaPlug installer to flash the erase
	and re-flash the U-Boot environment in the NAND Flash.

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* : prevent abort via polling during jtag_reset Observed:   openocd: core.c:318: jtag_checks: Assertion `jtag_trst == 0'
	  failed.  The issue was that nothing disabled background polling during calls
	from the TCL shell to "jtag_reset 1 1".  Fix by moving the existing
	poll-disable mechanism to the JTAG layer where it belongs, and then
	augmenting it to always pay attention to TRST and SRST.  Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-08  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 4aacf01e194d09fb55dc759fc42ac42c8432c015 Author: Øyvind
	Harboe <oyvind.harboe@zylin.com> Date:   Thu Oct 8 15:43:51 2009
	+0200

2009-10-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Add .project to .gitignore

2009-10-08  Øyvind Harboe <oyvind.harboe@zylin.com>

	* : Update copyright statements. Make it easier to sync with Jim Tcl

2009-10-07  John Rigby <jcrigby@gmail.com>

	* : iMX25 target support Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

2009-10-07  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 03c9e48f88fa8b681b77c6c35d6da0a0e838a7e8 Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Thu Oct 8 00:13:50 2009 +0000

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Force sane SRST and TRST initialization At least some FT2232 based adapters don't necessarily come up in the
	expected state, with SRST and TRST disabled.  Since other adapters
	could suffer the same problem, let's avoid needing to patch every
	driver and just force *all* adapters to initialize those values
	properly at server startup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2824
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove much #ifdeffery around _DEBUG_JTAG_IO_ usage.  Have
	DEBUG_JTAG_IO() always trigger necessary warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2822
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  David Brownell <dbrownell@users.sourceforge.net>

	* : commit f8c8d8bc72b2a87d2b2e3d583a052d8f0e5d22ea Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Wed Oct 7 16:15:21 2009 +0000

2009-10-07  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Note bug in handling of variables through command line
	parameters.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2819
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : first stab at imx35 reset init script git-svn-id: svn://svn.berlios.de/openocd/trunk@2817
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add timeouts and fix syntax error handling of mrc/mcr commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2815
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : increase pause before reboot so web interface remains responsive
	when issuing a reboot of zy1000 git-svn-id: svn://svn.berlios.de/openocd/trunk@2813
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 1.55 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@2810
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 0da2f750a1d437b50b21ac7ee766188a47b37fad Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Tue Oct 6 22:56:52 2009 +0000

2009-10-06  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dragonite has the same EICE affliction as feroceon.  From: Nicolas Pitre <nico@fluxnic.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@2807
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-06  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 39b57471bfd92ef0d9a3aceb69f40c1335f5b62f Author: oharboe
	<oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:   Tue Oct 6
	08:10:57 2009 +0000

2009-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : stop using targetnum git-svn-id: svn://svn.berlios.de/openocd/trunk@2804
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 64ec7f66a896fc4de6b472cffb6ef5740a76f61d Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Mon Oct 5 23:45:14 2009 +0000

2009-10-05  David Brownell <dbrownell@users.sourceforge.net>

	* : commit 7a57c316196f93c7e31b7d00eb9b52177ae874c6 Author:
	dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60> Date:
	Mon Oct 5 08:23:33 2009 +0000

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add a new JTAG "setup" event; use for better DaVinci ICEpick
	support.  The model is that this fires after scanchain verification, when it's
	safe to call "jtag tapenable $TAPNAME".  So it will fire as part of
	non-error paths of "init" and "reset" command processing.  However
	it will *NOT* trigger during "jtag_reset" processing, which skips
	all scan chain verification, or after verification errors.  ALSO:  - switch DaVinci chips to use this new mechanism  - log TAP activation/deactivation, since their IDCODEs aren't
	 verified - unify "enum jtag_event" scripted event notifications  - remove duplicative JTAG_TAP_EVENT_POST_RESET git-svn-id: svn://svn.berlios.de/openocd/trunk@2800
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-05  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update the NEWS file to cover more of the user-visible changes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2798
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Updated reset event handling in omap3530 cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@2796
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make sure that DSCR_DTR_RX is not full before writing git-svn-id: svn://svn.berlios.de/openocd/trunk@2794
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added asser_reset and deassert_reset for cortex_a8 git-svn-id: svn://svn.berlios.de/openocd/trunk@2792
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-10-02  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Minor ETB and ETM bugfixes and doc updates  - ETB     * report _actual_ hardware status, not just expected status     * add a missing diagnostic on a potential ETB setup error     * prefix any diagnostics with "ETB"  - ETM     * make "etm status" show ETM hardware status too, instead of       just traceport status (which previously was fake, sigh)  - Docs     * flesh out "etm tracemode" docs a bit     * clarify "etm status" ... previously it was traceport status     * explain "etm trigger_percent" as a *traceport* option ETM+ETB tracing still isn't behaving, but now I can see that part of
	the reason is that the ETB turns itself off almost immediately after
	being enabled, and before collecting any data.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2790
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update release process documentation.  - Improve and clarify the wording of the introduction.  - Add section on version taggging.  - Some other minor corrections.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2788
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add numeric version tag support to release script.  The release process itself does not use this support yet, but it
	allows packagers to automate the process of managing their own tags,
	if they patch the source code before releasing binaries.  The
	release processes should be revised to incorporate this feature to
	support -rc packages.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2786
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add workaround to release script to update source code URL
	keyword.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2784
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix release script bugs after experience from 0.2.0: - The NEWS step failed due to an empty commit comment.  - The final release step would have failed, because the steps to
	  switch from the secure to insecure repository (and back again)
	  require both switch and a URL relocation steps git-svn-id: svn://svn.berlios.de/openocd/trunk@2782
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add DSCR_DTR_RX_FULL bit define git-svn-id: svn://svn.berlios.de/openocd/trunk@2780
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : michal smulski <michal.smulski@ooma.com> reset now works git-svn-id: svn://svn.berlios.de/openocd/trunk@2778
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ARM11 command handling fixes  - Commands were supposed to have been "arm11 memwrite ..."    not "memwrite ..."  - Get rid of obfuscatory macros  - Re-alphabetize  - Add docs for "arm11 vcr" git-svn-id: svn://svn.berlios.de/openocd/trunk@2776
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Doc updates:  add section on target software changes, minor
	fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2774
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ETB: cleanup needless symbol exports and forward decls.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2772
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reentry assert git-svn-id: svn://svn.berlios.de/openocd/trunk@2770
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added t/nsrst_assert_width commands git-svn-id: svn://svn.berlios.de/openocd/trunk@2768
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : spelling fix git-svn-id: svn://svn.berlios.de/openocd/trunk@2766
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-27  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add list of JTAG adapter drivers with TAP_RESET statemove bug.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2764
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-27  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Don't provide invalid OMAP5912 IR capture value/mask attributes git-svn-id: svn://svn.berlios.de/openocd/trunk@2762
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-26  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Diagnostics tweaks for jtag_examine_chain() failure paths.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2760
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-26  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Streamline Capture-IR handling and integrity test.  Change the handling of the "-ircapture" and "-irmask" parameters to
	be slightly more sensible, given that the JTAG spec describes what
	is required, and that we already require that conformance in one
	place.  IR scan returns some bitstring with LSBs "01".   - First, provide and use default values that satisfy the IEEE spec.     Existing TAP configs will override the defaults, but those parms    are no longer required.   - Second, warn if any TAP gets set up to violate the JTAG spec.     It's likely a bug, but maybe not; else this should be an error.     Improve the related diagnostics to say which TAP is affected.  And associated minor fixes/cleanups to comments and diagnostics.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2758
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Hasselberg <mh@open-engineering.de> target configuration
	files for Toshiba TX09 familiy git-svn-id: svn://svn.berlios.de/openocd/trunk@2756
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : When attaching GDB to OpenOCD, the target state is no longer
	affected.  Added gdb_sync feature that allows GDB to sync up to
	target state.  Issue "monitor gdb_sync" and the next stepi, will
	return immediately with updated register values to GDB.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2754
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : When setting up an ETM, cache its ETM_CONFIG register.  Then
	only expose the registers which are actually present.  They could be
	missing for two basic reasons:  - This version might not support them at all; e.g. ETMv1.1    doesn't have some control/status registers.  (My sample of    ARM9 boards shows all with ETMv1.3 support, FWIW.)  - The configuration on this chip may not populate as many    registers as possible; e.g. only two data value comparators    instead of eight.  Includes a bugfix in the "etm info" command:  only one of the two
	registers is missing on older silicon, so show the first one before
	bailing.  Update ETM usage docs to explain that those registers need to be
	written to configure what is traced, and that some ETM configs are
	not yet handled.  Also, give some examples of the kinds of
	constrained trace which could be arranged.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2752
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-23  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Initial ETM cleanups.  Most of these are cosmetic:  - Add a header comment  - Line up the ETM context struct, pack it a bit  - Remove unused context_id (this doesn't support ETMv2 yet)  - Make most functions static  - Remove unused string table and other needless lines of code  - Correct "tracemode" helptext Also provide and use an etm_reg_lookup() to find entries in the ETM
	register cache.  This will help cope with corrected contents of that
	cache, which doesn't include entires for non-existent registers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2750
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix build issue under win32 (cygwin/msys) from svn r2746 git-svn-id: svn://svn.berlios.de/openocd/trunk@2748
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-22  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make it easier to erase or protect through to the end of a (NOR)
	flash chip: allow passing "last" as an alias for the number of the
	last sector.  Improve several aspects of error checking while we're at it.  From: Johnny Halfmoon <jhalfmoon@milksnot.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@2746
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove annoying end-of-line whitespace from doc/* files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2744
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove annoying end-of-line whitespace from most src/* files;
	omitted src/httpd git-svn-id: svn://svn.berlios.de/openocd/trunk@2742
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-21  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ensure that DaVinci chips can't start with a too-fast JTAG
	clock.  It can be sped up later, once it's known the PLLs are
	active.  Note that modern tools from TI all use adaptive clocking; and that
	if that's done with OpenOCD, "too fast" is also a non-issue.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2740
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-20  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Enhancement: stm32 flash protection error message This patch modifies an error message which, in its original state, I
	find somewhat unhelpful. So a small hint was added.  Signed-off-by: Johnny Halfmoon <jhalfmoon at milksnot.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@2738
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-20  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Debug message updates:  - Shrink messaging during resets, primarily by getting rid of    "nothing happened" noise that hides *useful* information.   - Improve: the "no IDCODE" message by identifying which tap only    supports BYPASS; and the TAP event strings.  Related minor code updates:  - Remove two needless tests when examining the chain:  we know    we have a TAP, and that all TAPs have names.   - Clean up two loops, turning "while"s into "for"s which better    show what's actually being done.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2736
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added  CPUDBG_WCR_BASE define git-svn-id: svn://svn.berlios.de/openocd/trunk@2734
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Reduced sleep time after reset git-svn-id: svn://svn.berlios.de/openocd/trunk@2732
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-19  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Minor behavior fixes for the two JTAG reset events (C/internal,
	and Tcl/external):  - Reorder so *both* paths (TCK/TMS or TRST) can enable TAPs with    ICEpick ... first C code flags TAPs that got disabled, then call    any Tcl code that might want to re-enable them.   - Always call the C/internal handlers when JTAG operations can be    issued; previously that wasn't done when TRST was used.  Plus some small cleanups (whitespace, strings, better messaging
	during debug and on some errors) to reset-related code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2730
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-18  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move Cortex A8 debug access initialisation from omap3530.cfg to
	cortex_a8.c git-svn-id: svn://svn.berlios.de/openocd/trunk@2728
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-18  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Tweak TCL reset script ... mostly improving descriptions of the
	various steps, but also calling [target names] only once.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2726
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Minor fixes to NAND code and docs Erase logic:  - command invocation     + treat "nand erase N" (no offset/length) as "erase whole chip
	    N" + catch a few more bogus parameter cases, like length == 0
	 (sigh) - nand_erase() should be static  - on error     + say which block failed, and if it was a bad block     + don't give up after the first error; try to erase the rest  - on success, say which nand device was erased (name isn't unique) Device list ("nand list"):  - say how many blocks there are  - split summary into two lines  - give example in the docs Doc tweaks:  - Use @option{...} for DaVinci's supported hardware ECC options For the record, I've observed that _sometimes_ erasing bad blocks
	causes failure reports, and that manufacturer bad block markers
	aren't always erasable (even when erasing their blocks doesn't
	trigger an error report).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2724
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : michal smulski <michal.smulski@ooma.com> fix regression in
	jtag_add_pathmove() which broke arm11 in r1825. Other uses of
	jtag_add_pathmove are svn + xsvf + xscale...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2722
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : srst_gates_jtag option. at91sam9260 needs retesting, and
	possibly srst_gates_jtag added to reset_config. Could i.MX27 be a
	case where srst does not pull trst, but really srst gates jtag
	clock? git-svn-id: svn://svn.berlios.de/openocd/trunk@2720
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-17  dbrownell <dbrownell@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Doc update:  mention how ARM's WFI instruction affects JTAG
	clocking by gating the core clock, and workarounds.  Most details
	are with the "halt" command, which is one of the first places this
	issue will be noticed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2718
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-16  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use a variable armv7a->debug_base instead of hardedcoded
	OMAP3530_DEBUG_BASE git-svn-id: svn://svn.berlios.de/openocd/trunk@2716
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Define debug_base, debug_ap, memory_ap in armv7a_common_t git-svn-id: svn://svn.berlios.de/openocd/trunk@2714
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Definy symbolic values for VA to PA address translation
	operations git-svn-id: svn://svn.berlios.de/openocd/trunk@2712
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added embedded ice programming while srst is asserted todo item git-svn-id: svn://svn.berlios.de/openocd/trunk@2710
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cache invalidation when writing to memory git-svn-id: svn://svn.berlios.de/openocd/trunk@2708
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix email address git-svn-id: svn://svn.berlios.de/openocd/trunk@2706
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix warning git-svn-id: svn://svn.berlios.de/openocd/trunk@2704
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-13  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More CortexA8 debug register definitions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2702
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> document post TAP reset
	event git-svn-id: svn://svn.berlios.de/openocd/trunk@2700
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Cleanup some the downloaded
	ARM target algorithm code:  - Provide more complete disassembly of the DCC bulk write code  - Make code blocks "static const", in case GCC doesn't  - Fix some tabbing/layout issues  - Make some arm7_9_common.h flags be "bool" not "int"; and compact    the layout a bit (group most bools together) git-svn-id: svn://svn.berlios.de/openocd/trunk@2698
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tap post reset event added. Allows omap3530 to send 100 runtest
	idle tickle's after a TAP_RESET.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2696
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org> put feroceon target definition at
	the end so to avoid a bunch of useless forward declarations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2694
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : spelling mistake git-svn-id: svn://svn.berlios.de/openocd/trunk@2692
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : registering a target event twice caused infinite loop. Same bug
	as in jtag/core.c copy & pasted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2690
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alexei Babich <a.babich@rez.ru>  cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@2688
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : eol-style:native git-svn-id: svn://svn.berlios.de/openocd/trunk@2686
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alexei Babich <a.babich@rez.ru> fix problems with unecessary
	tailend byte accesses. Use 16 bit access on tailend of a memory read
	if possible.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2684
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rolf Meeser <rolfm_9dq@yahoo.de> This patch adds target
	algorithm support for those flash devices that do not support DQ5
	polling. So far they could only be programmed with host algorithm,
	but this was way too slow.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2682
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Optionally shave time off
	the armv4_5 run_algorithm() code:  let them terminate using software
	breakpoints, avoiding roundtrips to manage hardware ones.  Enable this by using BKPT to terminate execution instead of "branch
	to here" loops.  Then pass zero as the exit address, except when
	running on an ARMv4 core.  ARM7TDMI, ARM9TDMI, and derived cores now
	set a flag saying they're ARMv4.  Use that mechanism in arm_nandwrite(), for about 3% speedup on a
	DaVinci ARM926 core; not huge, but it helps.  Some other algorithms
	could use this too (mostly flavors of flash operation).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2680
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-08  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Report correct core instruction state for ARMv/A targets git-svn-id: svn://svn.berlios.de/openocd/trunk@2678
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Provide an "armv7a
	disassemble" command.  Current omissions include VFP (except as
	coprocessor instructions), Neon, and various Thumb2 opcodes that are
	not available in ARMv7-M processors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2676
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-07  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improved handling of instruction set state, helps for debugging
	Thumb state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2674
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use "armv4_5 core_state arm" instead of soft_reset_halt, fewer
	side effects git-svn-id: svn://svn.berlios.de/openocd/trunk@2672
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> Add default fall back
	freqency.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2670
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> This patch simply enables the halting
	debug mode.  By enabling this bit, the processor halts when a debug
	event such as breakpoint occurs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2668
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> Tidy up the bit-offset operation for
	DSCR register git-svn-id: svn://svn.berlios.de/openocd/trunk@2666
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Claffey <dnclaffey@gmail.com> get rid of reset recursion git-svn-id: svn://svn.berlios.de/openocd/trunk@2664
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Claffey <dnclaffey@gmail.com> tested with the Atheros
	reference design "PB44" git-svn-id: svn://svn.berlios.de/openocd/trunk@2662
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-09-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixes the incorrect info msg displayed during stellaris flash
	programming.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2660
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-31  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Warning fix git-svn-id: svn://svn.berlios.de/openocd/trunk@2658
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ferdinand Postema <ferdinand@postema.eu> config script for the
	MMnet1001 module from Propox.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2656
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> Fix typo in help text. It
	has to be 'production_test' instead of 'production' here.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2654
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Remove duplicate check for
	flash write status.  Via code review by Steve Grubb
	<sgrubb@redhat.com>  Also minor fixes for the message from "fill":  the byte count is
	unsigned, not signed; and more importantly, print the real number of
	bytes written git-svn-id: svn://svn.berlios.de/openocd/trunk@2652
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> start phasing out integers
	as target IDs git-svn-id: svn://svn.berlios.de/openocd/trunk@2650
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2648
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : restore ICE watchpoint registers when the *last* software
	breakpoint is removed git-svn-id: svn://svn.berlios.de/openocd/trunk@2646
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> ARM disassembly support for
	about five dozen non-Thumb instructions that were added after
	ARMv5TE was defined:  - ARMv5J "BXJ" (for Java/Jazelle)  - ARMv6 "media" instructions (for OMAP2420, i.MX31, etc) Compile-tested.  This might not set up the simulator right for the
	ARMv6 single step support; only BXJ branches though, and docs to
	support Jazelle branching are non-public (still, sigh).  ARMv6 instructions known to be mis-handled by this disassembler
	include:  UMAAL, LDREX, STREX, CPS, SETEND, RFE, SRS, MCRR2, MRRC2 git-svn-id: svn://svn.berlios.de/openocd/trunk@2644
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : arm11 single stepping wip - at least we know the next PC now git-svn-id: svn://svn.berlios.de/openocd/trunk@2642
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : refactor arm simulator to allow arm11 code to use it as well -
	no observable changes otherwise.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2640
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> and Holger Hans Peter Freyther
	<zecke@selfish.org>  cortex-a8: Wait for the CPU to be
	halted/started With DCCR we are asking the CPU to halt, we should wait until the
	CPU has halted before proceeding with the operation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2638
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> and Holger Hans Peter Freyther
	<zecke@selfish.org> Only dap_ap_select when we are going to do a
	memory access in the fast reg case.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2636
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> cortex_a8_exec_opcode is writing the
	ARM instruction into the ITR register but it will only be executed
	when the DSCR[13] bit is set. The documentation is a bit weird as it
	classifies the DSCR as read-only but the pseudo code is writing to
	it as well. This is working on a beagleboard.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2634
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Matt Hsu <matt@0xlab.org> and Holger Hans Peter Freyther
	<zecke@selfish.org> Before executing a new instruction wait for the
	previous instruction to be finished. This comes from the pseudo code
	of the cortex a8 trm.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2632
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added missing check on jtag_execute git-svn-id: svn://svn.berlios.de/openocd/trunk@2630
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reduce arm11 output noise git-svn-id: svn://svn.berlios.de/openocd/trunk@2628
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Clock updates/fixes for the
	Stellaris flash driver:  - Bugfixes:    * internal osc: it's *12* MHz (not 15 MHz) on _current_ chips       + except new Tempest parts where it's 16 MHz (and calibrated!)       + or some old Sandstorm ones, where 15 MHz was valid    * crystal config:       + read and use the crystal config, don't assume 6 MHz       + know when that field is 4 bits vs 5    * an RCC2 register may be overriding the original RCC       + more clock source options       + bigger dividers       + fractional dividers on Tempest (NYET handled)    * there's a 30 KHz osc on newer chips (for deep sleep)    * there's a 32768 Hz osc on newer chips (for hibernation)  - Cosmetic    * say "rev A0" not "vA.0", to match vendor docs    * don't always report master clock as an "estimate":       + give the error bound if it's approximate, like "±30%"       + else don't say anything    * fix whitespace and caps in some messages    * these are not AT91SAM chips!! Those clock issues might explain problems sometimes reported when
	writing to Stellaris flash banks; they affect write timings.  That 12-vs-15 MHz issue is problematic; there's no consolidated doc
	showing which chips (and revs!) have which internal oscillator
	speed.  It's clear that only older silicon had the
	faster-and-less-accurate flavor.  What's less clear is which chips
	are "old" like that.  Lightly tested, on a DustDevil part.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2626
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Tweak disassembly commands:  For ARMv4/ARMv5:   - better command parameter error checking   - don't require an instruction count; default to one   - recognize thumb function addresses   - make function static   - shorten some too-long lines  For Cortex-M3:   - don't require an instruction count; default to one With the relevant doc updates.  --- Nyet done:  invoke the thumb2
	disassembler on v4/v5, to better handle branch instructions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2624
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> More jtag_add_reset()
	cleanup: Unify the handling of the req_tlr_or_trst parameter.  Basically,
	JTAG TMS+TCK ops ("TLR") is always used ... unless TRST is a safe
	option in this system configuration.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2622
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Accomodate targets which
	don't support various target-specific reset operations.  Maybe they
	can't; or it's a "not yet" thing.  Note that the assert/deassert operations can't yet trigger for OMAP3
	because resets currently include JTAG reset in all cases, resetting
	the ICEpick and thus disabling the TAP for Cortex-A8.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2620
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix build warnings - add svn props to recently added files armv7a.[ch] git-svn-id: svn://svn.berlios.de/openocd/trunk@2618
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : strange.... the code build and links w/Linux GCC target but
	fails w/arm-elf. The code was clearly broken as it was missing two
	extern's in the .h file...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2616
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ferdinand Postema <ferdinand@postema.eu> increase reset delay to
	fix regression from 2600 to 2604 git-svn-id: svn://svn.berlios.de/openocd/trunk@2614
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audrius Urmanavičius <didele.deze@gmail.com> Latest source
	(R2606) does not compile under Windows+Cygwin - fails with error
	about possibly uninitialized use of variable 'ch'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2612
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use cortex_a8 instead of cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@2610
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell Subset of Cortex-A8 support from Magnus:  create
	an armv7a file and seed it with DAP access support using the current
	ADIv5 code.  (With tweaks and cleanup from Øyvind and Dave.) The ARMv7-AR architecture manual is not publicly available (even in
	subset form like the ARMv7-M spec), so it's hard to distinguish
	between the Cortex-A8 implementation and the ARMv7-A architecture.  The register set presumably is architectural, and so it's stored
	here; it's like earlier ARMs, with small additions.  Ditto the
	instruction set, though Thumb2 support is used (extending Thumb
	support from ARMv6 with more 32-bit instructions) and there's this
	ThumbEE thing too.  There is a new "debug monitor" mode, not yet
	fully addressed here, to support debugging in environments (like
	motor control) where halting debug mode is inadvisable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2608
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Steve Grubb <sgrubb@redhat.com> fix various and sundry leaks git-svn-id: svn://svn.berlios.de/openocd/trunk@2606
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pieter Conradie <Pieter.Conradie@psitek.com> shuffle things
	around to the right spots. Should have been done in previous commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2604
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pieter Conradie <Pieter.Conradie@psitek.com> Scripts for Atmel
	AT91SAM7S256 and AT91SAM9260 git-svn-id: svn://svn.berlios.de/openocd/trunk@2602
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Piotr Ziecik <kosmo@semihalf.com> This patch adds handling blank
	characters between hex digits in SVF file, making OpenOCD compatible
	with files generated by Altera Quatrus II 9.0.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2600
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>More Thumb2 disassembly:   ARMv7-M: A5.3.6 Load/store dual or exclusive, table branch GCC will generate the table branch instructions, usually with
	inlined tables that will confuse this disassembler.  LDREX and STREX
	are not issued by GCC without inline assembly.  This means all Thumb2 instructions implemented by Cortex-M3 can now
	be disassembled.  Cortex-A8 cores support more Thumb2 instructions,
	but most of those aren't yet publicly documented.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2598
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>Fix some command helptext:  - spell "address" right  - list bp/wp params as optional And make those source lines wrap at sane margins.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2596
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell [david-b@pacbell.net]: Simplify dumping of register lists by only printing cached values if
	they are marked as valid.  Most of the time, they are invalid; so
	printing *any* value is just misleading.  Note that for ARM7 and ARM9 most EmbeddedICE registers (except for
	debug status) could be cached most of the time; and their register
	cache isn't maintained properly (many accesses seem to bypass that
	cache code).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2594
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add cfg file for Amontec JTAGKey2 jtag interface git-svn-id: svn://svn.berlios.de/openocd/trunk@2592
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Jonas Horberg [jhorberg@sauer-danfoss.com] Change jtag_rclk
	behaviour so it can be called before the interface init function git-svn-id: svn://svn.berlios.de/openocd/trunk@2590
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Add "cortex_m3
	vector_catch" command and docs.  One minor issue with this is that
	the core debug support uses this mechanism, then trashes its state
	over reset.  Users can Work around that (for now) by re-assigning
	the desired config after reset.  Also fixes "target halted due to target-not-halted" goof.  When we
	can't describe the reason using OpenOCD's limited vocabulary, say
	"reason undefined" instead of saying it's not halted.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2588
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Several of the ARMv7M
	registers are 8 bits or less; don't display them as 32 bits unless
	that's their true size.  (Removes some confusion.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2586
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Xiaofan Chen <xiaofanc@gmail.com> Split LM3S811 config file into
	target file and board file git-svn-id: svn://svn.berlios.de/openocd/trunk@2584
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Xiaofan Chen <xiaofanc@gmail.com> Add config file for
	TI-Luminary LM3S1968 chip and EK-LM3S1968 board git-svn-id: svn://svn.berlios.de/openocd/trunk@2582
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added note w/reference to discussion on whether or not arm11
	code is broken or not.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2580
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Warn about anyone using
	"jtag_speed" commands; that command is obsolete, and will someday be
	removed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2578
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ferdinand Postema [ferdinand@postema.eu] - fix vector catch issues with certain ARM9 cores - AT91SAM9260 and
	STR9 git-svn-id: svn://svn.berlios.de/openocd/trunk@2576
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Gary Carlson [gcarlson@carlson-minot.com]: - revert patch from rev1507 as it was causing reset issues with arm9
	cores git-svn-id: svn://svn.berlios.de/openocd/trunk@2574
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-08-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : michal smulski <michal.smulski@ooma.com>: Fix ARM11 half-word bulk memory read and write.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2572
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix NPE in GDB_EVENT_END as logforwarding was not disabled early
	enough git-svn-id: svn://svn.berlios.de/openocd/trunk@2570
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> More testcase work:        A5.3.11 Data processing (shifted register) The usual kinds of problems; the most noteworthy were that the "S"et
	flags bit was mis-handled in these instructions.  --- This is the
	last patch from a quickie set of tests covering all encodings of the
	instructions with 32-bit opcodes.  There may be some corner cases
	left, plus the instructions that aren't yet handled, but the Thumb2
	disassembler is no longer just "lightly" tested with GCC output ...
	the new code paths have mostly been verified.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2568
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> More fixes from test cases:        A5.3.8 Load halfword, unallocated memory hints It's mostly the usual sort of bitmasking goofage and getting the
	width specs right.  In one case an older x86 GCC generated bad code
	unless I structred a conditional differently (sigh).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2566
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> More instruction decoding
	fixes based on test cases, covering ARMv7-M arch manual:  A5.3.1 Data processing (modified immediate)  A5.3.3 Data processing (plain binary immediate)  A5.3.4 Branches and miscellaneous control and other (immediate) encodings referenced there.  Several of these
	just tweak the new syntax ("Unified" ARM/Thumb: UAL) but there were
	a few bugs too.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2564
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Andreas Fritiofson <andreas.fritiofson@gmail.com> I noticed
	there are a few checks for (rt == 0xf) even though that case is
	handled with an early return at the top of the function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2562
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> thumb2 disassembly for Load
	byte, memory hints git-svn-id: svn://svn.berlios.de/openocd/trunk@2560
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2558
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Stefano Voulaz <s.voulaz@projecktstudio.com> first cut
	samsung_s3c2450 git-svn-id: svn://svn.berlios.de/openocd/trunk@2556
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Clean up treatment of registers in ARMv7-M and Cortex-M3.   - At the arch level:     * Just list registers and names; don't impose core-specific       policy about how they are accessed.      * Each register has a symbol.      * Remove the register mode field (irrelevant to debugger)  - At the core/implementation level:     * Just map the registers to their relevant access methods;       don't require the arch level to say how that should work       (cores other than Cortex-M3 could do it differently).      * Don't use undefined bits from register 20.      * Use register IDs that are part of the ARMv7-M interface.  In short, there's now a real distinction between the arch and core
	layers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2554
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Revert parts of the previous ARMv7-M register patch.  It turns out
	that part of the issue is a documentation problem for the Cortex-M3
	r1 parts. So for the rest, simpler fixes are possible (in followup
	patch).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2552
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : aduc flash problems have been resolved git-svn-id: svn://svn.berlios.de/openocd/trunk@2550
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added item to come up with slick new 32 bit jtag_add_xxx() API git-svn-id: svn://svn.berlios.de/openocd/trunk@2548
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : microscopic white space fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2546
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Magnus Lundin <lundin@mlu.mine.nu>, Oyvind Harboe
	<oyvind.harboe@zylin.com>, David Brownell <david-b@pacbell.net>: Move the dap command handler implementations to arm_adi_v5.c,
	leaving just thin wrappers in armv7m.c.  There should be no change
	in functionality here.  (From Magnus.) Minor style cleanup:  whitespace, line length, etc.  Update spec
	references to use docs which are currently available.  (From Dave.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2544
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: More 32-bit Thumb2 instruction decoding: 	A5.3.7 Load word git-svn-id: svn://svn.berlios.de/openocd/trunk@2542
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: More 32-bit instruction decoding: 	A5.3.11 Data processing (shifted register) git-svn-id: svn://svn.berlios.de/openocd/trunk@2540
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: More instructions decoded: 	A5.3.14 Multiply, and multiply accumulate 	A5.3.15 Long multiply, long multiply accumulate, divide The EABI requires *adjacent* register pairs, but the long multiply
	ops can use any pair of registers; interesting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2538
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Print old-style Thumb NOP instructions as such.  (GCC uses "mov r8,
	r8" instead of the architected NOP which is new in Thumb2.) git-svn-id: svn://svn.berlios.de/openocd/trunk@2536
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Make the Thumb2 disassembler handle more 32-bit instructions:   A5.3.3 Data processing (plain binary immediate) These use mostly twelve bit literals, but there are also bitfield
	and saturated add primitives.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2534
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Make the Thumb2 disassembler handle a bunch of 32-bit instructions:   A5.3.4 Branches and miscellaneous control Note that this shifts some responsabililty out of helper functions,
	making the code and layout simpler for 32-bit decoders:  they only
	need to know how to format the instruction and its parameters.  Also, technical note:  with this patch, Thumb1 decoders could now
	call the Thumb2 decoder if they wanted to get nicer treatment of the
	exiting 32-bit B/BLX instructions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2532
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Initial support for disassembling Thumb2 code.  This works only for
	Cortex-M3 cores so far.  Eventually other cores will also need
	Thumb2 support ... but they don't yet support any kind of
	disassembly.   - Update the 16-bit Thumb decoder:      * Understand CPS, REV*, SETEND, {U,S}XT{B,H} opcodes added        by ARMv6.  (It already seems to treat CPY as MOV.)      * Understand CB, CBNZ, WFI, IT, and other opcodes added by        in Thumb2.   - A new Thumb2 instruction decode routine is provided.       * This has a different signature:  pass the target, not the        instruction, so it can fetch a second halfword when needed.         The instruction size is likewise returned to the caller.       * 32-bit instructions are recognized but not yet decoded.   - Start using the current "UAL" syntax in some cases.  "SWI" is    renamed as "SVC"; "LDMIA" as "LDM"; "STMIA" as "STM".   - Define a new "cortex_m3 disassemble addr count" command to give    access to this disassembly.  Sanity checked against "objdump -d" output; a bunch of the new
	instructions checked out fine.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2530
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire Eclipse settings, charset will be set elsewhere.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2528
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> mention udev, and correct
	D2XX speed mentions git-svn-id: svn://svn.berlios.de/openocd/trunk@2526
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 1.54 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@2523
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Bump minor version and add tag: Bump minor package version
	number: 0.2.0 -> 0.3.0 Add '-in-development' version tag: 0.3.0 ->
	0.3.0-in-development git-svn-id: svn://svn.berlios.de/openocd/trunk@2521
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve the release script before 0.2.0: 1) Only archive NEWS file on major and minor relesae, not bug-fixes.  2) Switch back to correct development branch during final release
	step.  3) Add do_svn_switch helper to ensure package variables are
	reloaded.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2516
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make the parport-ppdev option enabled by default.  This may
	require giving --disable-parport-ppdev to configure on some
	platform(s).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2514
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Xiaofan Chen <xiaofanc@gmail.com> document my experiment with
	MinGW cross build.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2512
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Magnus Lundin  Thc cortex_m3_poll function does not identify
	that a target is running unless we transition from RESET.  This patch correctly identifies a running target.  Patch made a tad more palatable by David Brownell
	<david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@2510
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Mention how parallel clock
	voting implementations of RTCK work, and reference TI's free VHDL
	code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2508
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wrote up workaround for xscale/debug_handler.bin bug git-svn-id: svn://svn.berlios.de/openocd/trunk@2506
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> split EK board support out
	from the target CPU support .  git-svn-id: svn://svn.berlios.de/openocd/trunk@2504
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add section to provide some documentation for cross-compiling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2502
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add comments to top-level files to "excuse" their Doxygen
	markup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2500
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix formatting of xscale bug entry(learning every day) git-svn-id: svn://svn.berlios.de/openocd/trunk@2498
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : typo in comment git-svn-id: svn://svn.berlios.de/openocd/trunk@2496
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : i.MX27 reset problems fixed & update remaining reset problems
	notes git-svn-id: svn://svn.berlios.de/openocd/trunk@2494
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : srst pulls trst according to Freescale docs for i.mx27 git-svn-id: svn://svn.berlios.de/openocd/trunk@2492
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use reference to mailing list for known arm926ejs bugs rather
	fill The List with lots of details git-svn-id: svn://svn.berlios.de/openocd/trunk@2490
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix return value for "reset" and "runtest" command. Found by
	code inspection.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2488
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more arm926ejs bugs git-svn-id: svn://svn.berlios.de/openocd/trunk@2486
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Update docs to say that
	"arm7_9 dbgrq enable" is the default on ARM9 cores, and update the
	DaVinci config files so they no longer explicitly specify it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2484
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix build when using a cross compiler - do not try and run any
	host tools - add missing types.h when platform does not contain elf.h git-svn-id: svn://svn.berlios.de/openocd/trunk@2482
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : a bit more debug output for translation of invalid mode numbers git-svn-id: svn://svn.berlios.de/openocd/trunk@2480
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix regression in "step" command introduced in 2190 git-svn-id: svn://svn.berlios.de/openocd/trunk@2478
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update Release Script documentation to reflect current
	implementation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2476
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add NEWS file for the 0.2.0 release.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2474
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ferdinand Postema <ferdinand@postema.eu>: Updates to private TAP state tables in amtjtagaccel interface
	driver.  The first change is the neccesary one to correct a long-standing bug
	that caused the IDCODE to be shifted by one bit too many.  This was
	caused by an incorrect path from state RESET to state DRSHIFT.  The value of those 2 bytes were 0x8a and 0x04. This means that the
	bitstream to do this transition is 0b 00100 01010 (send LSB first).
	This will bring you from the reset state to the shift state;
	however, you enter the shift-state twice, which explains why the
	ID-CODE that will be read next will be shifted 1 bit.  The fix
	changes these to 0x05 and 0x00.  This will send the bitstream 0b
	00101 (send LSB first).  This will bring the TAP controller from the
	RESET state to the DRSHIFT state directly, without entering the
	DRSHIFT state twice.  After checking the whole table, two other transitions were found
	that could be optimized (5 bits in stead of 10 bits).  Summary off all changes:   From   To       Old values  Old Bitstream  New values  New
	  Bitstream  Remarks ----   -------  ----------  -------------
	  ----------  -------------  ------- RESET  DRSHIFT  0x8a 0x04
	  0b00100 01010  0x05 0x00   0b00101        1,2 IDLE   DRSHIFT  0x85
	  0x08   0b01000 00101  0x04 0x00   0b00100        2 IDLE   IRSHIFT
	0x8b 0x08   0b01000 01011  0x06 0x00   0b00110        2 [1] Fixes the IDCODE bug [2] Optimization git-svn-id: svn://svn.berlios.de/openocd/trunk@2472
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 10ms timeout check on cp15 read/write git-svn-id: svn://svn.berlios.de/openocd/trunk@2470
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix maintainer-clean target in doc directory.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2468
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added known problem w/line number's being off in syntax errors
	for target reset events git-svn-id: svn://svn.berlios.de/openocd/trunk@2466
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : human readable error message upon invalid arguments git-svn-id: svn://svn.berlios.de/openocd/trunk@2464
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Major update to release process documentation: - Provide overview of OpenOCD versioning schema.  - Outline responsibilities and authority of the release manager.  - Explain the need for flexibility in the release schedule.  - Add and refine the release process steps.  - Include tutorials for using new release script.  - Many more improvements, too numerous to list.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2462
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Xiaofan Chen <xiaofanc@gmail.com> With this patch, OpenOCD can
	talk to my Analog Device Eval-ADuC7060 eval board.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2459
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add AUTHORS for 0.2.0 release.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2457
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove vim editor commands from TCL files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2455
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Commit first draft of release process documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2453
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.53 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@2451
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: More minor improvements to README to help polish the 0.2.0 release: - Add note about Ubuntu 8.04 (in lieu of starting a README.Linux
	file).  - Fix introductory paragraph to Bulding OpenOCD - Remove some vestigial texinfo markup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2448
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Restore some whitespace that got clobbered by over-aggressive
	whitepace eradication patches a while back.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2446
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add missing copyright header to target_type.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2444
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update TODO list to relect 0.2.0 release.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2442
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-07-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add stm32 connectivity line tapid to stm32.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@2440
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove at91sam3.h from flash.c; use extern like other drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2438
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Provide some useful information in README file, rather than
	punting.  Add some text to introduce the project to new users.  Move packaging, configuration, and compilation of OpenOCD out of the
	User's Guide and into README, where it can be used by users before
	configuring and compiling the documentation.  Improve notes about required Subversion repository build steps.  Add
	reference to the standard GNU INSTALL file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2436
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove cygwin build warnings in at91sam3.c git-svn-id: svn://svn.berlios.de/openocd/trunk@2434
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove executable bits from at91sam3 configuration files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2432
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add svn:eol-style properties missed in last commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2430
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Add "jtag names" command, mirroring "target names" but returning TAP
	names instead of target names.  This starts letting TAPs be
	manipulated in scripts ... much like what works now for targets.  It's a bit limited just yet, since "jtag cget $TAPNAME" doesn't
	expose all TAP attributes.  "$TARGETNAME cget" is more functional.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2428
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix doxygen 'undocumented parameter' warnings in membuf.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2426
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix doxygen warning in jtag.h caused by a changed parameter
	name.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2424
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix @file documentation blocks in new interfaces source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2422
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix logger.pl script to avoid spurious empty line in some cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2420
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Minor bugfix ... previous version was tested *with* ICEpick active.
	The "-disable" can swap with "-enable"; but not with an empty
	string.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2418
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Improve the PXA255 target config:  move all that board-specific
	setup to the pxa255_sst board.cfg, to which it evidently belongs
	(it's the only PXA255 board now included).  Provide the PXA255 JTAG id from Intel docs, and add a comment about
	how this chip is now EOL'd (last orders taken).  Note that I still can't get my old PXA255 board to work.  There's
	something broken in the reset sequence, which is preventing the TAP
	from coming up at all.  Old mailing list posts suggest this is a
	longstanding bug...  git-svn-id: svn://svn.berlios.de/openocd/trunk@2416
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Minor fixup to the User's Guide, primarily related to the handful of
	commands defined in "startup.tcl"; "help" was not previously
	documented.  Also, be more consistent about "Config Command" definitions (and to
	be explicit about that doc convention).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2414
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> various missing commands git-svn-id: svn://svn.berlios.de/openocd/trunk@2412
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-28  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : A bit more log detail about connections comming and going git-svn-id: svn://svn.berlios.de/openocd/trunk@2410
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add Breakpoint/Watchpoint unique ID to help debug hardware debug
	register leakage git-svn-id: svn://svn.berlios.de/openocd/trunk@2408
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Switch to strotk() grr....  git-svn-id: svn://svn.berlios.de/openocd/trunk@2406
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Add a short chapter on
	boundary scan support, which currently just documents the SVF and
	XSVF commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2404
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Oleksandr Tymoshenko <gonzo@bluezbox.com> simple watchpoint
	support for MIPS32/EJTAG (no value comparation yet).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2402
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Fix formatting bug in
	at91sam7 doc added with the at91sam3 support; and some formatting
	issues with sam7 and stm32 keyword params.  Tweak at91sam3 docs.  Remove ninth nibble from flash bank addresses,
	clarify "at91sam3 show" variants and that the flash bank layout is
	not needed as a parameter (unlike with sam7); formatting fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2400
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove whitespace at end of lines, step 2.  - Replace '\s*$' with ''.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2398
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove whitespace that occurs before ')'.  - Replace '[ \t]*[)]' with ')'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2396
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '[<>]' whitespace - Replace '\(\w\)\([<>]\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2394
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '+' whitespace - Replace '\(\w\)\(+\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2392
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '==' whitespace - Replace '\(\w\)\(==\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2390
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'switch(' with 'switch ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2388
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'if(' with 'if ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2386
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix end-of-line style properties on newly added files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2384
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add quick target - full cygwin builds take a long long long
	time, this shortens the edit/build/debug cycle git-svn-id: svn://svn.berlios.de/openocd/trunk@2382
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove whitespace at end of lines, step 2.  - Replace '\s*$' with ''.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2380
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace '){' with ') {'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2378
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove whitespace that occurs after '('.  - Replace '([ \t]*' with '('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2376
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '[|]' whitespace - Replace ')\([|]\)(' with ') \1 ('.  - Replace ')\([|]\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\([|]\)(' with '\1 \2 ('.  - Replace '\(\w\)\([|]\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2374
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '=' whitespace - Replace ')\(=\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(=\)(' with '\1 \2 ('.  - Replace '\(\w\)\(=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2372
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '<<' whitespace - Replace ')\(<<\)\(\w\)' with ') \1 \2'.  - Replace '\(\w\)\(<<\)(' with '\1 \2 ('.  - Replace '\(\w\)\(<<\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2370
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '<=' whitespace - Replace '\(\w\)\(<=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2368
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '&&' whitespace - Replace ')\(&&\)(' with ') \1 ('.  - Replace '\(\w\)\(&&\)(' with '\1 \2 ('.  - Replace '\(\w\)\(&&\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2366
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '[+]=' whitespace - Replace '\(\w\)\([+]=\)(' with '\1 \2 ('.  - Replace '\(\w\)\([+]=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2364
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixes '-=' whitespace - Replace '\(\w\)\(-=\)(' with '\1 \2 ('.  - Replace '\(\w\)\(-=\)\(\w\)' with '\1 \2 \3'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2362
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'for(' with 'for ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2360
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Replace 'while(' with 'while ('.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2358
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : update w/missing eCos definitions after latest round of compiler
	formatting warnings fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2356
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: This should be my last significant update of the User's Guide for
	this release.  Mostly it's a rework of the config file chapter's
	presentation of board and target config files.   - Give the new path for scripts!  - Move board-config material out of the target-config section  - Add more board-config info, notably for reset-init events  - Link out of the board-config section to NAND, NOR, and Reset
	 chapters - Emphasize target input vs. output naming conventions  - Other textual improvements Plus some other updates, like adding my copyright (now that I've
	basically rewritten much of this).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2354
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> Make the Hitex
	STM32-PerformanceStick board config behave better: source the STM32
	target config instead of using a private clone git-svn-id: svn://svn.berlios.de/openocd/trunk@2352
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix break caused by r2208 when using --pipe option - issue is gdb stdin buffer gets full before we redirect openocd
	output git-svn-id: svn://svn.berlios.de/openocd/trunk@2350
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Oleksandr Tymoshenko <gonzo@bluezbox.com>: Resume command works only if resume address is provided.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2348
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2346
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2344
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2342
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2340
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2338
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2336
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2334
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2332
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2330
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2328
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2326
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2324
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2322
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2320
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2318
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2316
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2314
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2312
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2310
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2308
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2306
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2304
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2302
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2300
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 printf() -Werror fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@2298
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-21  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : C99 Type updates, include inttypes.h - it is catagorically
	required git-svn-id: svn://svn.berlios.de/openocd/trunk@2296
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove editor preferences from source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2294
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Paulius Zaleckas <paulius.zaleckas@gmail.com>: This is minimal patch to support FA526 ARMv4 compatible core.  Since
	it is very similar to ARM920T I tried to reuse as much code as
	possible.  CPU and board configs will follow soon.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2292
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix jtag_add_callback() args. The first argument is nothing
	special, it's just another generic argument.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2290
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : less warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@2288
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Oyvind Harboe <oyvind.harboe@zylin.com>: Ecos uses sys/types.h not stdint.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2286
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update Style Guide documentation to explain basic type rules.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2284
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u64' to 'uint64_t' - Replace '\([^_]\)u64' with '\1uint64_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2282
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u32' to 'uint32_t' in src/flash.  - Replace '\([^_]\)u32' with '\1uint32_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2280
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u32' to 'uint32_t' in src/target/arm* - Replace '\([^_]\)u32' with '\1uint32_t'.  - Replace '^u32' with 'uint32_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2278
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u8' to 'uint8_t' - Replace '\([^_]\)u8' with '\1uint8_t'.  - Replace '^u8' with 'uint8_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2276
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Transform 'u8' to 'uint8_t' in src/target - Replace '\([^_]\)u8' with '\1uint8_t'.  - Replace '^u8' with 'uint8_t'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2274
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Clean up the PLD files:  - Get rid of some extraneous whitespace  - Make various functions static  - Wrap overlong lines git-svn-id: svn://svn.berlios.de/openocd/trunk@2272
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-18  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Take a whack at providing some texinfo style docs.  Mostly it's just
	basic "how 2 write sane dox" stuff.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2270
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : dummy driver now works under eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@2268
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Fix for a goofy "board" config ... reuse target/pxa270.cfg instead
	of using a private copy.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2266
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Let jtag_call_event_callbacks() behave when the callback removes
	itself.  Oddly, this crashed on x86_32 but not x86_64.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2264
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix compilation for Ubuntu 9.04 on x86-64 when using
	--enable-httpd.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2262
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Ensure range errors are reported only when errno indicates one
	occurred.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2260
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add argument parsing errors in command.h, use in parse_type
	routines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2258
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Convert core parse_type implementations to check for underflow
	errors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2256
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-17  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update parse_type macro definitions to allow re-use with signed
	types.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2254
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Fix a bug preventing ICEpick "enable that TAP" code from working:
	the "runtest" command wrongly finished with a JTAG reset, discarding
	the work the TAP enable handler just finished!  Instead, JTAG should
	stay in RUN/IDLE state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2252
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Tighten error handling on TAP enable/disable paths a bit:  - Don't enable/disable unless it's necessary.  Those event    handlers could have nasty side effects...   - Don't *succeed* enables/disables if there was no code which    could have implemented that action.  This prevents bugs like    wrongly acting as if the scan chain changed.   - Minor whitespace cleanup in enable/disable command code.  The big problem is still the lack of code to verify scan chains were
	actually updated as requested; this adds a comment on that.  I
	suspect the best we can do near term will be to verify IDCODE.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2250
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Distributing FTDI's "ftd2xx" library with OpenOCD violates the
	OpenOCD license (GNU GPLv2 with no exceptions).  Make that clear where that build option is presented, and don't
	describe the FTDI libraries as an option for any packager.  (It's
	fine for personal use, of course.) Plus some related clarifications:  libftdi version 0.16 for the new
	FT2232H chips (for RTCK and high speed USB); the Amontec drivers are
	just ftd2xx variants.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2248
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Doc update:  say "jtag newtap ... -disable" records the state after
	exiting the RESET state, matching the only implementation we're
	working with so far (TI ICEpick-C).  Matching code updates.  Now we can be sure that the "enabled" flag
	value is correct after JTAG resets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2246
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-16  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Minor jtag cleanup:  - remove hidden assumption about JTAG event numbering  - move function declarations to a header  - some end'o'line whitespace  - use "calloc" not "malloc + memset" git-svn-id: svn://svn.berlios.de/openocd/trunk@2244
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Add another board ... OMAP2420 "H4" board.  This won't be very
	widely used with OpenOCD, but with mainline support in both U-Boot
	and Linux it at least makes for a more complete set (and another
	testcase).  This is incomplete support in several respects.  The ARM11 support
	is not very deep yet; most registers aren't available, and the ETM
	can't be hooked up.  Plus, there's no script for OMAP-specific stuff
	like setting up the SDRAM controller.  Eventually the same NAND
	controller driver should work with OMAP2 and OMAP3.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2242
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: OpenOCD doesn't actually *need* to be keeping all TCP ports active
	... creating security issues in some network configs.  Instead, let config file specify e.g. "tcl_port 0" (or gdb_port,
	telnet_port) to disable that particular remote access method.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2240
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_profile_command argument parsing: - Use parse_uint to ensure timeout value parses properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2238
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup and improve handle_wp_command and handle_rwp_command: - Simplify argument parsing logic using switch statement.  - Use parse_u32 to ensure all values parse properly.  - Return syntax error when mode argument fails to parse.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2236
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_verify_image_command_internal command argument
	handling: - Use parse_u32 to ensure address parses properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2234
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_load_image_command argument parsing: - Use parse_u32 to ensure base/min/max addresses parse properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2232
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_md_command argument handling: - Use parse_u32 and parse_uint for address and count, respectively.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2230
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup and improve handle_halt_command: - Make argument check use parse_uint to ensure value parses
	properly.  - Move variable declarations to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2228
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use parse_uint in handle_reg_command to ensure reg number parses
	properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2226
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Currently the "debug_level 3" command tracing ignores commands that
	could return values to TCL scripts (by plugging in to a slightly
	lower level of the interpreter stack).  Fix that by abstracting the tracing command and starting to make
	some of those previously-untraced commands use this new mechanism.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2224
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Partial fix to the "long IR length" problems.   - Current code could handle up to 32 bit IR lengths with    full functionality, if it didn't just reject may of them    out of hand.  So only reject clear errors, where the IR    mask (or capture instruction) needs more than IrLen bits.   - Longer IR lengths can only be handled in BYPASS mode    for now.  Example:  TI's DSPs use 38-bit IR lengths.     So we can't issue their IDCODE instructions...  A more complete fix would be able to issue longer instructions; or
	minimally, would fail cleanly for the non-BYPASS case.  Note that this *could* make some currently broken scripts fail,
	since the previous code accepted garbage values so long as they
	didn't use more than 16 bits.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2222
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Further cleanup to MIPS target read/write memory function: - Move the mips32_..._read_mem calls to top-level of read_mem
	function.  - Change: Only perform mips_m4k_read_mem conversion when retval ==
	   ERROR_OK.  - Prevents pointless conversions of bogus read values after
	failures.  - Eliminate retval variable from mips_m4k_write_mem; return
	directly.  - Move declaration of retval variable to point of first use.  - Remove the now redundant switch statements testing size:   - argument sanitizing already covers these cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2220
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix unitialized use of cur_speed in handle_jtag_khz_command: - Use the default KHz speed setting, in case interface is not
	initialized.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2218
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_runtest_command: - Use parse_uint helper to ensure argument is parsed properly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2216
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve handle_irscan_command: - Use parse_u32 helper to ensure scan values are parsed properly.  - Clear the fields buffer to ensure partial cleanup occur correctly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2214
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use parse_uint helper to replace strtoul call in
	jtag_tap_by_string.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2212
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and improve amt_jtagaccel_handle_parport_port_command: - Show the port number to the user when asking for it or setting it.  - Print an error if the amt_jtagaccel_port has already been set.  - Use parse_u16 helper to ensure amt_jtagaccel_port string parses
	correctly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2210
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and improve handle_debug_level_comamnd: - Bug fix: Return a syntax error if more than one argument is given.  - Bug fix: Use new parse_uint helper ensure debug_level parses
	correctly.  - Change: Display the debug_level after it has been set.  - Simplify bounds checking of debug_level.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2208
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add new parse_uinttype wrappers for strtoul in
	src/helper/command.[ch].  - Used to improve command argument parsing of unsigned integers
	values.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2206
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Rework the "Simple Configuration Files" chapter so it's more of a
	quick-start "how to set up your project" tutorial:  - Say how to hook up the JTAG adapter.  This will help new    users, and in any case is worth spelling out somewhere.   - Streamline the previous rather haphazard presentation,    filling in some missing holes along the way:      * Suggest "project directory" structure      * Introduce new term, "user config" file (openocd.cfg)      * Talk about more options for openocd.cfg contents      * ... and about creating new config files      * Add new topic, project-specific utilities (+examples)  - Remove too-short, yet duplicative, chapter 19 Nudge packagers a bit more strongly to send patches (including
	config files) upstream.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2204
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix bug introduced during r1962 - Original patch submitted by David Claffey [dnclaffey@gmail.com].  git-svn-id: svn://svn.berlios.de/openocd/trunk@2202
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix ordering of arguments to fwrite() git-svn-id: svn://svn.berlios.de/openocd/trunk@2197
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factor target_timer_callbacks_check_time into pieces: - Add target_timer_callback_periodic_restart and
	target_call_timer_callback.  - Clean up and simplify logic that determines whether to call each
	callback.  - Move variable declarations to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2195
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and fix target handle_rwp_command routine: - Return syntax error unless exactly one argument is passed.  - Move variable declaration to point of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2193
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify handle_resume_command: - Eliminate redundant calls to target_resume with addr temp
	variable.  - Place variables at location of first use.  - Fix minor whitespace issues.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2191
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move jtag_get_flush_queue_count near jtag_execute_queue (fix its
	docs).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2189
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Group JTAG reset configuration and accessor APIs together in
	header file.  Remove unused reset_line_mode enumerated type.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2187
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Out-of-line jtag_tap_next_enabled and simplify its logic.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2185
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : disable polling continuous polling during reset git-svn-id: svn://svn.berlios.de/openocd/trunk@2183
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix texi/pdf issue created in svn r2039 git-svn-id: svn://svn.berlios.de/openocd/trunk@2181
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Tweak the csb337 code so that it doesn't enable alignment traps when
	it completes the "reset init" sequence.  It turns out that the
	current CFI code reliably triggers such traps.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2179
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve use of automake conditionals for FTDI-based JTAG
	drivers: - Remove once-used XXX_FTD2XX symbols; replace with XXX_DRIVER
	symbols.  - Enabled when either libftdi or FTD2xx driver should be built.  - Eliminates redundant DRIVERSFILE assignment in JTAG automake
	input.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2177
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rename jtag_driver.c as driver.c to remove duplicate name
	component.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2175
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reset to eol native for now. guess-rev.sh was broken by eol
	native, but it was a red herring that these two files were affected.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2173
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate the core jtag interface pointer: - Add new jtag_config_khz to increase encapsulation of jtag->khz
	call.  - Add new jtag_get_speed_readable to encapsulate of jtag->speed_div
	call.  - Make definition of jtag static in core.c, remove extern from
	tcl.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2171
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Continue encapsulation of JTAG event callback sub-API: - Move jtag_event_callbacks struct to core.c; it's an implementation
	detail.  - Move jtag_*_event_callbacks next to the definition of the new
	function type.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2169
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Expose jtag_unregister_event_callback with related API
	declarations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2167
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Properly encapsulate core hasKHZ variable.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2165
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add missing static keywords to a few variables in JTAG core
	module.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2163
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate jtag_reset_config using accessors: - Update handle_reset_config_command in tcl.c to use new helpers.  - Replace direct accesses in JTAG interface and target drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2161
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add get and set accessors for jtag_speed: - Setter calls the interface driver callback to improve core
	encapsulation.  - Use getter in standard JTAG interface drivers and ZY1000
	minidriver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2159
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate the jtag_trst and jtag_srst variables: - Add accessor functions to return their value.  - Use new SRST accessor in cortex_m3.c and mips_m4k.c git-svn-id: svn://svn.berlios.de/openocd/trunk@2157
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove superfluous extern of jtag_event_strings from jtag.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2155
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : removed native line end style - breaks cygwin git-svn-id: svn://svn.berlios.de/openocd/trunk@2153
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove accidental duplicate of hasKHz; fixes pre-init speed
	setup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2151
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Split main jtag.c file into two layers: - src/jtag/core.c: contains the low-level JTAG TAP and scanning
	routines.  - src/jtag/tcl.c: contains high-level JTAG TCL commands that use the
	core.  - Remove static keywords from routines in core.c, extern from tcl.c:   - jtag, jtag_interface global variables   - jtag_{examine,validate}_chain and jtag_tap_{init,free} functions - Added myself to the copyright header in both of these files.  - Used 'svn cp' to add files, so versioning was preserved for both.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2149
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move Doxygen documentation for IR/DR scan routines to header
	file.  - Move plain IR scan declaration closer to the other IR scan
	declarations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2147
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove non-existant jtag_tap_by_position API declaration.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2145
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup jtag_tap_by_abs_position: - Remove unused orig_n local variable.  - Merge variable declaration with first use.  - Update code to use current style guidelines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2143
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify and fix bug in jtag_tap_by_string: - Bug fix: Use unsigned type and strtoul when parsing for position
	number.  - Simplify logic by returning directly when a tap is found by name.  - Reduce scope: declare temporary variables with first use.  - Bring code up to current style guidelines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2141
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup jtag_tap_count_enabled.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2139
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Reduce scope or eliminate temporary variables in
	jtag_add_statemove: - Change types of tms_bits and tms_count to unsigned, eliminates a
	cast.  - Use moves[] only if needed; a single move can use goal_state
	directly.  - Declare loop induction variable inside its control statement.  - Remove retval in favor of direct returns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2137
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-09  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Revert changes from r2134 that snuck into the commit.  Mea
	culpa.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2135
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix eol-style on guess-rev.sh git-svn-id: svn://svn.berlios.de/openocd/trunk@2133
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch wrote a fix for configure problems under Cygwin.
	ltmain.sh is added to svn ignore git-svn-id: svn://svn.berlios.de/openocd/trunk@2131
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factor interface list to its own command: - Add handle_interface_list_command, used by
	handle_interface_command.  - Display output of new list to command console.  - Change first index of displayed drivers to 1; it's only cosmetic.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2129
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_sleep: - Add todo for removing keep_alive: is this a layering violation? - Use jtag_set_error instead of accessing jtag_error directly.  - Remove superfluous retval temporary variable and empty return.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2127
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_clocks: - Use jtag_set_error instead of accessing jtag_error directly.  - Improve error language and whitespace.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2125
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_pathmove: - Use jtag_set_error instead of accessing jtag_error directly.  - Eliminate superfluous retval temporary variable.  - Reduce scope of loop induction variable.  - Wrap to fit within 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2123
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_plain_dr_scan: - Use jtag_set_error instead of accessing jtag_error directly.  - Wrap function arguments to fit everything in 80 columns.  - Move retval variable to location of first use.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2121
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_add_plain_ir_scan: - Use jtag_set_error instead of accessing jtag_error directly.  - Wrap function arguments to fit everything in 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2119
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify jtag_execute_queue: - Add static inline jtag_error_clear helper to return and clear
	jtag_error.  - Use new helper to shrink body of function to two lines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2117
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cleanup handle_runtest_command: - Make command argument require exactly one argument; do not allow
	extras.  - Remove superfluous whitespace at end of function.  - Wrap function arguments to fit in 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2115
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Extend handle_jtag_n{s,t}rst_delay_command routines: - Add support to display the reset delays too, like the other
	commands.  - Always show the values, so users can see if they are being
	redundant.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2113
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update JTAG reset delay command handlers: - Fixes for error handling:   - Return a syntax error instead of calling exit(-1).    - Return error when more than one argument is provided too.  - Remove useless braces and indent after the if/return statements.  - Wrap function arguments to fit in 80 columns.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2111
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify logic in handle_jtag_speed_command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2109
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> - Don't let disabled TAPs be set as the current target  - Improve "targets" output:     * Remove undesirable "chain position" number; we discourage
	    using them * TAP and Target column updates:        + make them long enough for current usage        + improve labels, removing guesswork        + "TapName" label patches scan_chain output     * Highlight the "current" target     * Display "tap disabled" as a new pseudo-state     * Update docs accordingly git-svn-id: svn://svn.berlios.de/openocd/trunk@2107
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Reorder configure script macros: - Check for a compiler before looking for libraries or header files.  - Initialize automake before calling other AM_ macros.  - Disable libtool shared libraries by default.  - Remove checks for unused C++, Fortran, and Java compilers.  - Remove redundant AC_CANONICAL_HOST; called by AC_PROG_LIBTOOL.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2105
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move minidummy source file, as was supposed to happen in last
	commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2103
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix reference warning in JTAG primer, add another external
	reference.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2101
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Clarify docs for the evb_lm3s811 layout:  works in two modes, not
	just one.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2099
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Rework chapter 12 (CPU configuration) to use @deffn, match the code
	more closely, and present things more clearly.  Includes the *current* list of targets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2097
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire endstate command git-svn-id: svn://svn.berlios.de/openocd/trunk@2095
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix regressions in previous series of cleanp, caused by r2092.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2093
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Improve variable type: change device_count to unsigned.  - Improves jtag_tap_count_enabled() API too (now returns unsigned).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2091
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Factor TAP ID matching into new helper function.  - Simplifies the main jtag_examine_chain loop logic considerably.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2089
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Add helper to check for the terminating ID during
	jtag_examine_chain.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2087
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Factor output of accepted/incorrect/expected TAP IDs into static
	helper.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2085
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Factor JTAG chain examination into static helper function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2083
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Reduce indent: invert logic test for unexpected TAP (no IDs).  git-svn-id: svn://svn.berlios.de/openocd/trunk@2081
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Factoring of jtag_examine_chain for maintainability: - Move definition of maximum JTAG chain size closer to its only
	uses.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2079
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clean up handle_endstate_command(): - Merge declaration of state with first use.  - Unindent and remove unnecessary 'else' block.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2077
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove hacks no longer required to build OpenOCD w/eCos git-svn-id: svn://svn.berlios.de/openocd/trunk@2074
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unused include file: inttypes.h git-svn-id: svn://svn.berlios.de/openocd/trunk@2072
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_NextEnabledTap' as 'jtag_tap_next_enabled.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2069
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_NumTotalTaps' as 'jtag_tap_count.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2067
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_TapByString' as 'jtag_tap_by_string.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2065
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_TapByPosition' as 'jtag_tap_by_position.' git-svn-id: svn://svn.berlios.de/openocd/trunk@2063
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate MixedCaps symbol from public JTAG TAP API: - Purely mechanical transformations to the source files.  - Rename 'jtag_all_taps' as '__jtag_all_taps.' - Frees original symbol name to rename the accessor function.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2061
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-05  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add accessors for reset delays; use them in jim command
	handlers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2059
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_get_flush_queue_count accessor to help future
	factoring.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2057
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clean up the core JTAG TAP APIs: - Move jtag_tap_name to same location as other TAP functions; export
	it.  - Factor new jtag_tap_add() from jim_newtap_cmd(); appends TAP to
	global list.  - Move static chain position counter to global; use in
	jtag_NumTotalTaps().  - Use jtag_AllTaps for reading tap list, instead of accessing global
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2055
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add missing static keywords in JTAG source file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2053
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for different TAR autotincrement sizes as per ARM ADI
	spec.  - set TAR size to 12 bits for Cortex-M3.  - Original patch submitted by Magnus Lundin [lundin@mlu.mine.nu].  git-svn-id: svn://svn.berlios.de/openocd/trunk@2051
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Introduce jtag_get_end_state() fn to clarify code a bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2049
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : do not modify global end state from jtag_add_xxx() git-svn-id: svn://svn.berlios.de/openocd/trunk@2047
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : no longer use jtag_add_xxx() to set end state to TAP_DRPAUSE git-svn-id: svn://svn.berlios.de/openocd/trunk@2045
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use assert() to catch TAP_INVALID passed to jtag_add_xxx() fn's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2043
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jtag_add_end_state() now returns the value of the global
	variable and does not modify the global variable if passed
	TAP_INVALID. This patch has no effect on the current code and is
	just to prepare upcoming patches.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2041
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Update the "General Commands" (a.k.a. "random stuff") chapter, and
	associated chunks of other text:  - Switch to @deffn and review everything that's documented  - Improve descriptions of reset events, with reference to    the setup.tcl code which issues them.   - Move one zy1000-specific command to that driver's doc.   - There is no "script" command; remove its doc.  NOTE:  Some things missing from this bit of work are:  1- Reviewing the code to catch various *missing* functions,     mostly from "target.c"  2- Alphabetizing and organizing.  This chapter is a real     grab-bag with no evident focus or structural principle.   3- Hole-filling and bugfixing with respect to messaging/logging.      Example, what principle could possibly justify the tcl command     output going into the server output/log instead of just the     telnet session?  4- Not just for this chapter ... but there should be a section     with descriptions of all the supported image file formats,     so every image command can just reference that section.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2039
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Minor cleanup of FT2232:   - make Olimex glue warn about Olimex issues instead of JTAGkey
	  issues; - make some data static+const;   - don't export some internal symbols.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2037
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-04  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Convert the Interface/Dongle Config chapter's section on drivers to
	use the @deffn syntax, and integrate the presentation of the
	driver-specific commands with the relevant driver.  Alphabetize.  Cross-checked against the code ... several adapters were not listed,
	and a few commands weren't.  (Maintainers for the versaloon and zy1000 drivers would be good
	candidates to add the commands missing from those sections...) git-svn-id: svn://svn.berlios.de/openocd/trunk@2035
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use assert() for obscure check on illegal arguments upon trst
	being asserted while commands are queued git-svn-id: svn://svn.berlios.de/openocd/trunk@2033
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : catchup with jtag refactoring.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2031
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Finish JTAG header file modularization; command factoring
	follows.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2029
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move JTAG command APIs into new jtag/commands.h header file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2027
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve in-source documentation that was causing Doxygen
	warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2025
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improve logger script to expose warnings and errors in the
	output.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2023
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add draft of Patching Primer in The Manual; update primer page.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2021
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Enable or add doxygen comments to the public JTAG API.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2019
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove vestigal tap_transition type from public jtag API.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2017
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Expose tap_state_by_name TAP helper available in public API.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2015
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Rework the TAP creation documentation.   - Try to use "TAP" not "tap" everywhere; it's an acronym.   - Update the associated "target config files" section:      * reference the "TAP Creation" chapter for details      * simplify:  reference interesting multi-tap config files      * let's not forget CPU configuration (*before* workspace setup)      * streamline it a bit      * move that workspace-vs-mmu issue to a better location  - Clean up TAP creation doc mess      * switch to @deffn      * (re)organize the remaining stuff      * reference the "Config File Guidelines" chapter  - Tweak the "Target Configuration" chapter      * rename as "CPU configuration"; unconfuse vs. target/*.cfg      * bring out that it's not just there for GDB      * move TAP events to the TAP chapter, where they belong
	     (bugfix) git-svn-id: svn://svn.berlios.de/openocd/trunk@2013
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add missed accessor for checking the current TMS table.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2011
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make tap_state_by_name available in new JTAG interface API
	header.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2009
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Finish removing '#ifdef HAVE_JTAG_MINIDRIVER_H' from jtag.h: - Wraps JTAG callback API functions:   - Outlines jtag_add_callback() and jtag_add_callback4().    - Adds interface_ prefix to existing in-tree driver
	  implementation.  - Declare the driver interfaces routines in miniheader.h file.  This patch requires renaming the equivalent macros in out-of-tree
	jtag_minidriver.h implementations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2007
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - change signature for adi_jtag_dp_scan and adi_jtag_dp_scan_u32 to
	use swjdp_common_t *swjdp instead of arm_jtag_t *jtag_info - change SWJDP_IR/DR_APACC to DAP_IR/DR_APACC to conform with
	ARM_ADI docs.  - add swjdp->memaccess_tck field and code for extra tck clocks
	before accessing memory bus - Set default memaccess value to 8 for Cortex-M3.  - Add dap memaccess command.  - document all armv7 dap cmds.  - Original patch submitted by Magnus Lundin [lundin@mlu.mine.nu].  git-svn-id: svn://svn.berlios.de/openocd/trunk@2005
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unecessary #ifdef as file is only built when minidriver
	is enabled.  git-svn-id: svn://svn.berlios.de/openocd/trunk@2003
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more missing eCos types git-svn-id: svn://svn.berlios.de/openocd/trunk@2001
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move interface_jtag_add_scan_check_alloc implementations to
	their respective implementation files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1999
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove unused code, TAP_INVALID is never passed to drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1997
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More JTAG interface driver cleanup: - Moves references to global jtag interface to default core
	implementation.  - Missed this reference in the earlier "pointless" patch.  Mea
	culpa.  Important: this has a side-effect.  Previously, the error return
	inside the interface routine short-circuited the remainder of that
	function when 'init' has not been called.  With this patch, the
	command queue will be cleared in the case that 'init' has been
	called.  Since that case indicates a buggy script, this does not
	seem to be a problem.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1995
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More JTAG interface driver cleanup: - Make interface_jtag_execute_queue call new helper function.  - Add default_interface_jtag_execute_queue to wrap jtag interface
	access.  This patch may look useless on its own, but it helps to isolate the
	core JTAG variables from the interface_jtag_* routines, so the later
	can be moved into jtag_driver.c in a pending patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1993
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate JTAG command interfaces for moving to
	jtag_interface.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1991
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Start clean-up of JTAG driver interface: - Factor jtag_add_scan_check to call new jtag_add_scan_check_alloc
	helper.  - Use conditional logic to define two versions of the helper.  - These helpers will be moved to other files in future patches.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1989
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Whitespace fixes in jtag.c ... mostly end-of-line crap.  Flag
	"jtag_device" command as obsolete in its helptext.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1987
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: This is the missing half of the r1974 patch: OSK5912 board support,
	which was split out from the omap5912 target config.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1985
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Encapsulate JTAG minidriver functions, plan for new header file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1983
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Scrub final vestiges of in_handler from mips target APIs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1981
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix warning for a variable that GCC thought might be
	uninitialized(which it can't be).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1979
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Uplevel the arch commands to be a chapter; they really don't fit in
	the "general commands" category.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1977
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Various updates, mostly small/formatting changes:  * Small content tweaks:     - Re-title:  "OpenOCD User's Guide".      - For users, URLS for latest doc and SparkFun forum     - Mention GIT-SVN  * Fix some front-matter goofage, matching texinfo docs:     - "paragraphintent" location matters     - put release version/date description with the copyright  * Fix some other stuff matching texinfo docs:     - no tabs     - tweak some refs and anchors  * whitespace-at-end-o-line fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1975
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-06-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Whitespace fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1973
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Final step in isolating target_type_s structure: - Move definition of 'struct target_type_s' into new 'target_type.h'
	file.  - Forward delclaration remains in target.h, with comment pointing to
	new file.  - Replaces #define with #include in source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1971
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : First step in hiding target_type_s from public interface: - Add DEFINE_TARGET_TYPE_S symbol in files that need it defined.  - Forward declare 'struct target_type_s' only, unless that symbol is
	defined.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1969
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target breakpoint and watchpoint wrapper: - replaces all calls to
	target->type->{add,remove}_{break,watch}point.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1967
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_step wrapper: - replaces all calls to target->type->step.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1965
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_bulk_write_memory wrapper: - replaces all calls to target->type->bulk_write_memory.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1963
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_run_algorithm wrapper: - replaces all calls to target->type->run_algorithm.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1961
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add target_read_memory wrapper: - replaces all calls to target->type->read_memory.  - add documentation in target_s to warn not to invoke callback
	directly.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1959
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make nvp_target_event static; remove its external declaration.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1957
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-31  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Peter Denison <openwrt@marshadder.org>: The debugging code in jlink_tap_execute() called when
	_DEBUG_USB_COMMS_ is defined was using the entire cached scan length
	to print the results buffers, and not the correct length of each
	individual buffer.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1955
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Eliminate duplicated code in the handle_mw_command memory write
	loop.  - wordsize will always be 1, 2, or 4 due to preceeding switch
	statement.  - move call to keep_alive after successful writes, not upon failures git-svn-id: svn://svn.berlios.de/openocd/trunk@1953
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove unused jlink_execute_end_state (unreferenced after
	r1949).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1951
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove unused JTAG_END_STATE git-svn-id: svn://svn.berlios.de/openocd/trunk@1949
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more reset_config texts git-svn-id: svn://svn.berlios.de/openocd/trunk@1947
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Provide basic documentation on the ARM ETM and ETB trace commands.  Fix minor goofs in registration of the ETM commands; and whitespace
	issues in the proof-of-concept oocd_trace code.  (Plus include a ref
	to Dominic's email saying that it's just proof-of-concept code.) Note that I'm still not sure whether the ETM support works.  But
	documenting how it's expected to work should help sort out which
	behaviors are bugs, which will help get bugs patched.  ZW: whitespace changes were split out of this patch but will follow.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1945
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove error_handler_t type definition; it was unused in the
	tree.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1943
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Provide basic documentation for some of the other flash drivers.   avr ... looks incomplete, may work with one AVR8 microcontroller  ecosflash ... can't find docs  lpc288x ... an NXP part, driver seems lpc2888-specific  ocl ... some arm7/arm9 thing, can't find docs  pic32mx ... looks incomplete, for PIC32MX (MIPS 4K) devices  tms470 ... for TI TMS470 parts Still seems to be mostly arm7tdmi... several of these have no users
	in the current tree.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1941
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Start converting the architecture-specific commands to @deffn
	format, reviewing against the code.    * armv4_5 disassemble ... now documented; although Jazelle code     is not handled   * It's "armv4_5 core_state" not "core_mode"; although Jazelle
	    state is not handled   * arm7/9 "debug" commands ... now with other arm7_9 commands, no     longer in a separate section   * arm926ejs cp15 ... previous description was broken, it matched     the code for arm920t instead   * Have separate subsections for ARMv4/ARMv5, ARMv6, and ARMv7; the     latter are new   * Move core-specific descriptions into sub-subsections under those     architectures; XScale and ARM11 descriptions are new The new XScale and ARM11 command descriptions surely need
	elaboration and review.  ARM CP15 operation descriptions in general
	seem to be confused and incomplete.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1939
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-28  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Start updating the NOR flash coverage to use @deffn syntax, so the
	commands have more consistent presentation and formatting.  This
	reorganizes information and updates its presentation, except where
	the information didn't really match the code.  This patch updates most of the driver specific support, creating one
	new (and alphabetized!) section just for driver-specific data, where
	previously that data was split over up to three sections.  Of note:  - The at91sam7 docs were a bit out of date with respect to the
	 code.   - The "str9xpec" stuff still deserves some work.  For now, it sits    in its own subsection; pretty messy.   - Likewise the "mflash" stuff.  That's a parallel infrastructure,    and is now in a section of its own.   - The "mass_erase" commands for the Cortex M3 chips got turned into    footnotes.  IMO, they should vanish sometime; they're
	   superfluous.   - There are still a bunch of undocumented NOR drivers.  Examples:    avr(8), tms470, pic32mx, more.  Plus there are a handful of minor tweaks to the NAND docs (to help
	make the NOR and NAND presentations be parallel); the "Command
	Index" has been renamed as the "Command and Driver Index"; reference
	TI instead of Luminary Micro in several places.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1937
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix potentialyl unaligned memory accesses in mflash driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1935
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Nicolas Pitre <nico@cam.org> 	- Silence errors about keep_alive() not being called frequently
		enough unless a gdb session is active or debugging is enabled git-svn-id: svn://svn.berlios.de/openocd/trunk@1933
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unsik Kim <donari75@gmail.com>: Add large bank write/dump
	support in mflash driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1931
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unsik Kim <donari75@gmail.com>: Remove unused mflash driver
	'prove' field.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1929
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unsik Kim <donari75@gmail.com>: Change prefix of mflash driver
	routines to mg_.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1927
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for cortino jtag interface git-svn-id: svn://svn.berlios.de/openocd/trunk@1925
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Link new Primer pages into the main list of Primers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1923
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add draft of Autotools Primer to The Manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1921
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move TCL script files -- Step 2 of 2: - Move src/tcl to tcl/.  - Update top Makefile.am to use new path name.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1919
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-27  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add warning to generated Doxyfile to edit Doxyfile.in.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1917
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-26  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SimonQian <simonqian@SimonQian.com>, reported by R.Doss: This patch fixes a segfault when TDO was not received in XXR
	command: - allocate space for the value and mask anyway - clear the mask to zero to effectively skip the output comparison
	step git-svn-id: svn://svn.berlios.de/openocd/trunk@1915
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-26  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Update the "Reset Configuration" information in the User's guide:  - Convert to @deffn syntax  - Move tutorial text from command descriptions into new sections  - Describe several different types of JTAG-visible reset  - Expand descriptions of configuration tweaks for SRST and TRST  - Link to the "reset" command, and vice versa  - Bugfix the "reset_config" description (it didn't match the code) Plus, be more proscriptive:  do it in board config files, except for
	the oddball cases where that won't work. (Current target.cfg files
	seem to have much goofage there; several seem board-specific.) git-svn-id: svn://svn.berlios.de/openocd/trunk@1913
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-25  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Raúl Sánchez Siles <rsanchezs@infoglobal.es> - cfi flash_address coding style fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1911
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: Make startup for the various server ports be quiet, unless debugging
	is active:  don't emit needless scarey messages.  Update the
	relevant documentation and its references:  - For these port commands ... cover the default values;    convert to @deffn syntax; include their use outside of    the configuration stage; and alphabetize.  Similar updates to the rest of that small chapter:  - Highlight that there even *IS* a configuration stage, after    which some command functionality is no longer available.   - For GDB commands ... convert to @deffn syntax; alphabetize;    include a missing command (!); add missing helptext (!) for    one non-missing command; update relevant cross-references    and index entries.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1909
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: minor davinci_nand bugfix Fix a bug that joined us at the last minute, when an efficient
	alloca() call got swapped out for a more portable malloc().  Also log one error, to give a clue in case it appears "in the wild".  git-svn-id: svn://svn.berlios.de/openocd/trunk@1907
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org>: Update sheevaplug interface
	script: When the CPU is in the WFI state, the JTAG interface simply doesn't
	respond at all and initial tap examination simply fails.  Let's
	simply do it again when we come around to assert nSRST.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1905
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>: NAND support for DaVinci-family drivers, with HW ECC support.
	Declare the NAND chip on the DM355 EVM board.  Currently tested on DM355 for Linux interop using the standard large
	page (2KB) chip in the EVM socket; "hwecc1" and "hwecc4" work fine.
	(Using hwecc4 relies on patches that haven't quite made it through
	the Linux-MTD bottlenecks yet.) Not yet tested:  1-bit on small-page (although it's hard to see how
	that could fail); 4-bit on small page (picky layout issues); the
	"hwecc_infix" mode (primarily for older boot ROMs; testing there is
	blocked on having new bootloader code).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1903
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Properly fix doxygen out-of-tree build process: - move Doxyfile to Doxyfile.in: type 'make Doxyfile' to recreate it - create Doxyfile from Doxyfile.in with make rule:   - use sed substitution of $(srcdir) to location directories - delete all doxygen created files with 'make distclean' - include all required files (including logger.pl) in distribution git-svn-id: svn://svn.berlios.de/openocd/trunk@1901
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-24  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Freddie Chopin <freddie_chopin@op.pl>: - add reset delay settings for LPC2103, LPC2124, and LPC2129.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1899
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update main page of doxygen developer documentation: - Rewrite copy to give a better introduction and overview.  - Add subpages: The List, Style Guide, Patch Policies, and Bug
	Reporting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1897
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update user guide documentation: - Remove style guide from user guide; moved to doxygen manual.  - Replace with improved introduction for developers and packagers.  - Move introductory paragraph about the project under the About
	page.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1895
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Submitted by Magnus Lundin <lundin@mlu.mine.nu>: - Remove FTDI driver tap_set_state call; performed by
	jtag_add_reset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1893
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix make docs rule to work with out-of-tree builds.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1891
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Submitted by Magnus Lundin <lundin@mlu.mine.nu>: Updates to the J-Link interface driver to support more device
	versions: - Add capability detection:   - if capable, detect protocol version; otherwise, assume v2
	  protocol.  - if capable, detect buffer size; otherwise, assume minimal.  - Disable command result queries for devices using v2 protocol.  - Defined and use JTAG2 command with v2 protocol; JTAG3 is v3
	protocol.  - Add TCL command to allow explicit setting of J-Link protocol
	version.  With approval, I revised the patch to make the following changes: - add static keywords to new jlink-specific variables - factor calculation of major_version to be more readable - remove braces around simple one-line statements in if/else clauses - remove (rather than #if 0) duplicate reset code; it is in SVN - use &function to be clearer when passing function pointers - add symbols for EMU_CMD_GET_CAPS bits; do not hard-code constants! - almost renamed jlink_handle_jlink_hw_jtag_command  (seriously?!?!)   - rewrote that function using a switch statement.    - made version request processing easier to understand and modify - improve alternate endpoint detection:   - make code easier to read by using temporary variables   - eliminate extra level of indentation and redundant logging - use ternary conditional to select JTAG2 or JTAG3 command - reverse version test in jlink_usb_message to reduce indentation   - this had the biggest effect in cleaning up this patch - use C99's ability to declare new/changed variables with less scope - add spaces around binary operators in new/changed code - revert other superfluous whitespace/comment style changes git-svn-id: svn://svn.berlios.de/openocd/trunk@1889
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-23  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change doxygen configuration to show code comments in
	documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1887
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Raúl Sánchez Siles <rsanchezs@infoglobal.es> 	- Fix calculation of flash_address for x16 devices used as x8 git-svn-id: svn://svn.berlios.de/openocd/trunk@1885
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: David Brownell <david-b@pacbell.net> Remove un-implemented and dubious "nand copy" command.  Doing this efficiently would mean doing the copying on the target
	CPU, instead of back and forth through JTAG.  If anyone ever needs
	this functionality, that's what they should implement.  Also, update on-line "help" for "nand dump" to display its two
	optional flags; and for "nand write" to display a recently added
	flag.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1883
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Submitted by David Brownell <david-b@pacbell.net>: Improve support for the DM355 EVM board, and eventually other boards
	based on DaVinci chips:  - Provide generic "davinci.cfg" to hold utilities that can be
	   reused by different chips in this family.  Start with PINMUX, PSC,
	and PLL setup.   - DM355 chip support updates:  provide a dictionary with
	   chip-specific symbols, load those utilities.   - Create a new dm355evm board file, with a reset-init event handler    which uses those utilities to set up PLLs and clocks, configure
	   the pins, and improve the JTAG speed limit.  Also a minor tweak:  provide a virtual address for the work area,
	matching what the very latest kernels do.  It's probably unwise to
	use OpenOCD while the MMU is active though.  The DRAM isn't yet accessible, but NAND access is mostly ready.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1881
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-22  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Submitted by David Brownell <david-b@pacbell.net>: Add a "NAND Commands" section to to the TEXI docs, covering the
	basic commands except for those previously discussed as being due
	for removal ("nand copy") or switching to use byte offsets not block
	numbers.  This uses the "@deffn..." syntax for defining commands, as somewhat
	suggested by the TEXI documentation, and adds a new "Command Index".
	We might prefer to merge those indexes for the near term, but I
	think the "@deffn" approch is probably worth switching to.  Updates a few other bits to clarify that "flash" doesn't just mean
	NOR.  And to fix one niggling falsity:  the "reset-init" event *is*
	used, and in fact it's quite important.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1879
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix warning. Use %p for pointers git-svn-id: svn://svn.berlios.de/openocd/trunk@1877
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> Minor updates for OMAP3
	scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@1875
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>:  This patch adds
	annotations to the key command_*() helper functions, fixng the bugs
	that turned up.  Several of these bugs were from misuse of PRIi64; that's for 64-bit
	integers, NOT for "long long" or "u64" (which work best with %lld).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1873
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Thomas Kindler <mail@t-kindler.de> 	- Increase DTC status retry count to avoid problems with STM Primer git-svn-id: svn://svn.berlios.de/openocd/trunk@1871
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Holger Schurig <hs4233@mail.mn-solutions.de> 	-Prevent freezing of target when doing a 'shutdown'.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1869
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>    -jtag.c, interface_jtag_add_dr_out():         - use pointer 'field' instead of scan->fields[field_count]         - restructure the main loop to clearly separate the two
	          cases: TAP is not bypassed / TAP is bypassed (this is to
	        keep the function similar to interface_jtag_add_dr_scan()) - fix bug where only the first output field has its tap field set         - add asserts to verify that target_tap points to the one
	        not bypassed TAP git-svn-id: svn://svn.berlios.de/openocd/trunk@1867
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     -jtag.c, interface_jtag_add_ir_scan():         - use pointer 'field' instead of scan->fields[nth_tap]         - add assertion to ensure that input data has correct size
	        for TAP's IR git-svn-id: svn://svn.berlios.de/openocd/trunk@1865
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - jtag.c: remove unused variable 'nth_tap' from DR scan
	    functions git-svn-id: svn://svn.berlios.de/openocd/trunk@1863
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - jtag.c: consolidate all memory allocations in scan functions
	    in one block, add out_fields pointer to set stage for further
	    changes git-svn-id: svn://svn.berlios.de/openocd/trunk@1861
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-21  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - add doxygen comments to scan commands in jtag.c     - move jtag_add_dr_scan next to interface_jtag_add_dr_scan to
	    keep these function pairs together git-svn-id: svn://svn.berlios.de/openocd/trunk@1859
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add initial OpenOCD server documentation (Duane Ellis and
	myself).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1857
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move TCL overview from source tree to doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1855
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Move non-arm target overview from source tree to doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1853
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Spencer Oliver <spen@spen-soft.co.uk> use 7 tms out of reset git-svn-id: svn://svn.berlios.de/openocd/trunk@1851
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_plain_dr_scan() by adding
	    a local variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1849
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_dr_out() by adding a local
	    variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1847
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - simplify code in interface_jtag_add_dr_scan() by adding a
	    local variable 'scan' to hold the scan_command_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1845
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - move scan_size in interface_jtag_add_ir_scan() into the scope
	    of the inner loop and change it to unsigned git-svn-id: svn://svn.berlios.de/openocd/trunk@1843
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Author: Michael Bruck <mbruck@digenius.de>     - rename local variable x to num_taps in
	    interface_jtag_add_ir_scan git-svn-id: svn://svn.berlios.de/openocd/trunk@1841
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Wookey <wookey@wookware.org>: add user documentation for echo
	command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1839
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1837
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net>  NAND: update ids, "nand
	list" bugfix git-svn-id: svn://svn.berlios.de/openocd/trunk@1835
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use tap_get_tms_path_len() instead of fix # of 7. Not tested if
	this builds, but at least we're looking at a build error instead of
	a runtime error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1833
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use tap_get_tms_path_len() instead of fix # of 7.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1831
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : updated w/jtag_add_end_state() note.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1829
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Enable non-7-cycle state table for FT2232 and JLink git-svn-id: svn://svn.berlios.de/openocd/trunk@1827
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : FT2232 support for non-7-cycle state moves by Dick Hollenbeck
	<dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1825
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change last_comand_pointer to last_command_pointer by Michael
	Bruck <mbruck@digenius.de> git-svn-id: svn://svn.berlios.de/openocd/trunk@1823
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de>
	[7/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1821
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de>
	[5/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1819
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de>
	[3/8] git-svn-id: svn://svn.berlios.de/openocd/trunk@1817
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add jtag_queue_command() by Michael Bruck <mbruck@digenius.de> git-svn-id: svn://svn.berlios.de/openocd/trunk@1815
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : PATCHES updates from David Brownell <david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1813
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove unecessary(and poptentially harmful?) "" around arguments
	passed in to "eval" in command.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1811
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dean Glazeski <dnglaze@gmail.com> fixed bug in checking of
	clocked back data in arm7_9_execute_fast_sys_speed. Not reported.
	There is a chance that this bug hid a deeper problem since it only
	partially disabled the check(mask & value were equal).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1809
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> ARM11 cleanup stale
	dependencies with generic arm code; added comments and whitespace
	fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1807
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix logically inverted comment git-svn-id: svn://svn.berlios.de/openocd/trunk@1805
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-18  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ETM/ETB documentation from David Brownell <david-b@pacbell.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1803
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix array2mem/mem2array when used as a "method" on a target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1801
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix naming of at91sam7 driver git-svn-id: svn://svn.berlios.de/openocd/trunk@1799
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Initialize a more variables in jim.c to allow gcc-4.4 to build.
	Fix provided by Benjamin Schmidt <DeMonk@gmx.net>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1797
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix -fno-common/Mac build problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1795
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : revert to 1775. 1790 causes SEGFAULT w/Cygwin.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1793
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-15  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add current draft of The List of Pending and Open Tasks.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1791
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Several minor fixes for the new doxygen manual.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1789
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use TAP_INVALID enum instead of -1 git-svn-id: svn://svn.berlios.de/openocd/trunk@1787
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : dump_image now works for addresses not divisible by 4 git-svn-id: svn://svn.berlios.de/openocd/trunk@1785
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : selftest wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1783
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update configure script test for net/if.h to work on MacOS.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1781
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix bootstrap script to support MacOS glibtoolize oddity.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1779
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add JTAG Primer to doxygen manual, contributed by Strontium.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1776
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added verify_jtag command git-svn-id: svn://svn.berlios.de/openocd/trunk@1774
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : shuffled comments about for jtag_add_dr_out() fn.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1772
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : irscan now also works correctly in addition to not crashing :-) git-svn-id: svn://svn.berlios.de/openocd/trunk@1770
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 4-bit ECC support for Marvell Kirkwood SOC git-svn-id: svn://svn.berlios.de/openocd/trunk@1768
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : move eCos type definition to types.h where it belongs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1766
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix build issue when HAVE_ELF_H is not defined git-svn-id: svn://svn.berlios.de/openocd/trunk@1764
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Include project doxygen configuration with distribution
	tarballs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1762
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Make replacements.h private by including it from config.h
	autoheader.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1760
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and reduce #include directives in jim source files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1758
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove config.h from types.h; all .c files are required to
	include it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1756
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update rlink_make_speed_table.pl script to add config.h to its
	output.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1754
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added jtag_alloc_in_value32 - not used in this commit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1752
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-12  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Include assert.h in system.h to promote tree-wide use of
	assertions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1750
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : now builds on 64 and 32 bit systems git-svn-id: svn://svn.berlios.de/openocd/trunk@1748
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update jim helper files to use proper configure script support: - configure.in: Add AC_TYPE_LONG_LONG_INT to detect 'long long int'
	support.  - configure.in: Add AC_C_CONST to provide equivalent support as
	jim.h.  - jim*.c: include config.h when HAVE_CONFIG_H is defined.  - jim*.{h,c}: use HAVE_LONG_LONG_INT definition from config.h.  - jim.h: Remove hard-coded const and HAVE_LONG_LONG definitions.  - jim.h: -DJIM_NO_CONST has been obsoleted; -Dconst is equivalent.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1744
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : USB performance regression fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1742
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_dr_scan() from the synchronous version - USB
	performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1740
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_dr_scan_check() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1738
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : change jtag_add_callback API to be able to support
	check_value/mask git-svn-id: svn://svn.berlios.de/openocd/trunk@1735
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1733
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1731
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1729
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1727
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : switch to jtag_add_callback() - USB performance fix git-svn-id: svn://svn.berlios.de/openocd/trunk@1725
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : leave eCos include file issues alone for now.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1723
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : used by upcoming commits git-svn-id: svn://svn.berlios.de/openocd/trunk@1721
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Update Doxyfile configuration for doxygen 1.5.8: - Enable doxygen's C language optimizations.  - Use dot command (from graphviz package) to generate visual graphs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1719
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove redundant config.h from replacements.h, obtained from
	types.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1717
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives in other
	target files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1715
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives in core target
	files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1713
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives in src/flash
	headers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1711
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives from
	src/server.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1709
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audit and eliminate redundant #include directives from src/jtag.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1707
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Simplify #include directives in ioutil.c, use new header checks.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1705
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add --enable-malloc-logging configure option and update log.c to
	match.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1703
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Finish portability support for AC_HEADER_STDBOOL configure
	macro.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1701
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add configure check for sys/types.h; include in our types.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1699
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-11  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use AC_HEADER_STDBOOL macro instead of
	AC_CHEACK_HEADERS(stdbool.h).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1697
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Extend autotools build to create shared library libopenocd with
	libtool: - Add libtoolize step too bootstrap script; creates ltmain.sh
	script.  - Add AC_PROG_LIBTOOL to configure.in to add libtool support to
	build.  - Change Makefile.am library rules from static (_a) to libtool
	(_la).  - Install libopenocd.{la,so,a} in $(libdir); update openocd link
	rules.  - Extend MAINTAINERCLEANFILES in top-level Makefile.am to remove
	ltmain.sh.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1695
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Extend configure script to check for environ declaration in
	stdlib.h.  Patch contributed by Martin Thomas <mthomas@rhrk.uni-kl.de>.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1693
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Revive tclapi.c from r1650: * Remove superfluous #include directives.  * Fix warnings and API usage to cure its bit rot.  * Build into libhelper library (for now).  Add tclapi.h to export
	tclapi_register_commands().  Register tclapi commands in
	openocd.c:setup_command_handler().  git-svn-id: svn://svn.berlios.de/openocd/trunk@1691
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> whitespace fixes. Testing
	out on one file first...  git-svn-id: svn://svn.berlios.de/openocd/trunk@1689
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> use more const git-svn-id: svn://svn.berlios.de/openocd/trunk@1687
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> ARM11 C99 updates git-svn-id: svn://svn.berlios.de/openocd/trunk@1685
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : plugged bug w/irlen > 32 introduce in 1672 git-svn-id: svn://svn.berlios.de/openocd/trunk@1683
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Brownell <david-b@pacbell.net> DaVinci dm6446 git-svn-id: svn://svn.berlios.de/openocd/trunk@1680
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Fischer <fischermi@t-online.de> fix compile problems on
	Mac git-svn-id: svn://svn.berlios.de/openocd/trunk@1678
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : stm32 profiling wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1676
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : add flush_count jtag queue profiling feature git-svn-id: svn://svn.berlios.de/openocd/trunk@1674
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : in_handler in_check_mask and in_check_value now removed from
	field. Last big patch in the series of JTAG API cleanup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1672
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : use assert instead of adding code that always runs git-svn-id: svn://svn.berlios.de/openocd/trunk@1670
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire jtag_set_check_value git-svn-id: svn://svn.berlios.de/openocd/trunk@1668
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire jtag_set_check_value git-svn-id: svn://svn.berlios.de/openocd/trunk@1666
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : first jtag_check_value_mask usage. tested by using "arm7_9
	fast_memory_access enable" & "mdw 0 0x10" git-svn-id: svn://svn.berlios.de/openocd/trunk@1664
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix typo from hurrying the last commit.  Nothing to see here.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1662
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Re-order and extend header file tests in configure script.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1660
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-08  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix warnings in ioutil.c; improves loadFile inteface.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1658
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ouch - typo in last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1656
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : in_handler removal typo fixed git-svn-id: svn://svn.berlios.de/openocd/trunk@1654
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : refactor to be able to remove more in_handler stuff git-svn-id: svn://svn.berlios.de/openocd/trunk@1652
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix c99 compile errors git-svn-id: svn://svn.berlios.de/openocd/trunk@1650
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove usage of in_handler git-svn-id: svn://svn.berlios.de/openocd/trunk@1648
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1646
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1644
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1642
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1640
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jtag API error handling refactoring.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1638
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1636
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix line endings git-svn-id: svn://svn.berlios.de/openocd/trunk@1634
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Deleted at9sam7_old driver. Nobody has complained about the new
	one yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1632
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : another example of removing in_handler usage git-svn-id: svn://svn.berlios.de/openocd/trunk@1630
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix most pointer cast alignment warnings in arm11.c; fix u16
	memory reads..  git-svn-id: svn://svn.berlios.de/openocd/trunk@1628
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-07  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix stm32x and pic32mx flash pointer cast alignment warnings,
	simplify their last word handling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1626
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix pointer cast alignment warnings in target/image.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1624
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix pointer cast alignment issues in svf.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1622
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix pointer cast alignment warnings in jim.c.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1620
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> comments & 7 clock TMS reset
	for good measure git-svn-id: svn://svn.berlios.de/openocd/trunk@1618
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Small changes that might improve stability.  Implemented new
	jtag sequences tap_get_tms_path and tap_get_tms_path_len git-svn-id: svn://svn.berlios.de/openocd/trunk@1616
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> simplifies XSTATE handling,
	and protects against illegal state transitions that might be in an
	SVF file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1614
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix enviorn configure test failure message (thanks to Anders
	Montonen).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1612
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add autoconf check to determine where environ should be
	declared.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1610
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire out_mask - not used anywhere git-svn-id: svn://svn.berlios.de/openocd/trunk@1608
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : made warning about keep_alive() not being invoked more helpful git-svn-id: svn://svn.berlios.de/openocd/trunk@1606
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Gabor Juhos juhosg at openwrt.org  MIPS: fix a shift value in
	the MIPS32_R_INST macro git-svn-id: svn://svn.berlios.de/openocd/trunk@1604
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> Add minimalist Cortex A8
	file git-svn-id: svn://svn.berlios.de/openocd/trunk@1602
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Mariano Alvira <mar@devl.org> fixes warning as error about a
	signed vs. unsigned comparison by casting the local unsigned
	variable as (long long).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1600
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix embedded builds git-svn-id: svn://svn.berlios.de/openocd/trunk@1598
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix compilation when HAVE_UNISTD_H is not defined.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1596
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Piotr Esden-Tempski <piotr@esden.net> Mac OS X compile fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1594
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-02  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add configure check for usb.h; required by a USB drivers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1592
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> moved stuff into openocd.c -
	should never have been in main.c in the first place. DLL will now
	build.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1590
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove superflous spaces from new JTAG table to fix formatting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1588
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-05-01  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com>: move OPENOCD_VERSION to use
	config.h git-svn-id: svn://svn.berlios.de/openocd/trunk@1586
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de>: Make ICEbear look like other
	targets git-svn-id: svn://svn.berlios.de/openocd/trunk@1584
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : list board's as well as target config files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1581
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add static keywords to core target source file data and
	functions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1579
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix signed/unsigned comparison.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1577
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : flash fillX now has a verify stage git-svn-id: svn://svn.berlios.de/openocd/trunk@1575
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-30  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de>: sys/select.h must preceed
	windows.h.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1573
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clear FLASH_SR error flags after flash errors to avoid reset
	befor further flash operations.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1571
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More error logging for DAP errors git-svn-id: svn://svn.berlios.de/openocd/trunk@1569
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : comments and debug code git-svn-id: svn://svn.berlios.de/openocd/trunk@1567
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Sten <debian@sansys-electronic.com>: add support for ICEbear
	FDTI-based interface.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1565
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove vestigial last_tms variable from jlink driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1563
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix jlink for Debian/Ubuntu (by Ben Dooks
	<ben-openocd@fluff.org>).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1561
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-29  zwelch <zwelch@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add missing header files to fix C99 compatibility.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1559
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> and Jeff Williams
	tap_get_tms_path_len() git-svn-id: svn://svn.berlios.de/openocd/trunk@1557
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix win32 build git-svn-id: svn://svn.berlios.de/openocd/trunk@1555
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix gw16012 with
	--enable-parport_ppdev git-svn-id: svn://svn.berlios.de/openocd/trunk@1553
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> macros for error handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1551
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@1549
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added dap baseaddr and dap apid commands git-svn-id: svn://svn.berlios.de/openocd/trunk@1547
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SimonQian <simonqian@simonqian.com> patch for error compiling
	vsllink if --enable-verbose-jtag-io is set git-svn-id: svn://svn.berlios.de/openocd/trunk@1545
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more error handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1543
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SimonQian <simonqian@simonqian.com> AVR wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1540
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Deleted depreciated files ( new versions are arm_adi_v5.c/h ) git-svn-id: svn://svn.berlios.de/openocd/trunk@1538
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Changed armv7m and cortexm3 to use nev arm_adi_v5 instead of
	cortex_swjdp.  Added support for accessport ROM table
	identification, dap command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1536
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Philippe Vachon <philippe@cowpig.ca> 64 bit host fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1534
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> wrap _GNU_SOURCE defines git-svn-id: svn://svn.berlios.de/openocd/trunk@1532
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : R.Doss <doss@gmx.de> AT91SAM9260 git-svn-id: svn://svn.berlios.de/openocd/trunk@1530
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-25  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Corrected statement order git-svn-id: svn://svn.berlios.de/openocd/trunk@1528
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-25  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Break ft2232_execute_quie into smaller functions, follows
	restructure of jlink.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1526
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> add TAP_SCAN_BYTES macro (1 of
	2) git-svn-id: svn://svn.berlios.de/openocd/trunk@1524
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> Update udev file git-svn-id: svn://svn.berlios.de/openocd/trunk@1522
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org> update SheevaPlug interface cfg
	file git-svn-id: svn://svn.berlios.de/openocd/trunk@1520
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Remove warning git-svn-id: svn://svn.berlios.de/openocd/trunk@1518
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : stm32.cfg can expect one of 4 id's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1516
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1514
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck <mbruck@digenius.de> ARM11 various updates + fix
	formatting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1512
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck spotted a typo in help messages git-svn-id: svn://svn.berlios.de/openocd/trunk@1510
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> set speed in init git-svn-id: svn://svn.berlios.de/openocd/trunk@1508
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> reorder enum tap_state git-svn-id: svn://svn.berlios.de/openocd/trunk@1506
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Shrink JLink buffer sizes to specified 2KB courtesy of Jeff
	Williams <jeffw@gadgetworks.com> and Zach Welch
	<zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1504
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix use of wrong format conversion for size_t (%zu instead of
	%u) git-svn-id: svn://svn.berlios.de/openocd/trunk@1502
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-22  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : refactor jlink_execute_queue courtesy of Zach Welch
	<zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1500
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> refactor git-svn-id: svn://svn.berlios.de/openocd/trunk@1498
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  add --enable-verbose* options git-svn-id: svn://svn.berlios.de/openocd/trunk@1496
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nico Coesel <ncoesel@dealogic.nl> MIPS32 speedup patches git-svn-id: svn://svn.berlios.de/openocd/trunk@1494
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  factor jlink usb_bulk_*_ex
	functions git-svn-id: svn://svn.berlios.de/openocd/trunk@1492
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> improve Linux ftd2xx
	configure-time support git-svn-id: svn://svn.berlios.de/openocd/trunk@1490
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove environ warning under win32 build git-svn-id: svn://svn.berlios.de/openocd/trunk@1488
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  fix unused return value
	warnings (2 of 4) git-svn-id: svn://svn.berlios.de/openocd/trunk@1486
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix str9x type-punned pointer git-svn-id: svn://svn.berlios.de/openocd/trunk@1484
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>fix unused return value
	warnings (3 of 4) git-svn-id: svn://svn.berlios.de/openocd/trunk@1482
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Schwingen <rincewind@discworld.dascon.de> add non-CFI
	SST flashs git-svn-id: svn://svn.berlios.de/openocd/trunk@1480
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix at91rm9200 warning. Thanks Zach Welch <zw@superlucidity.net> - add missing svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1478
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix ft2232/presto warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1476
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> use ARM4_5_MODE_ANY instead of
	-1 git-svn-id: svn://svn.berlios.de/openocd/trunk@1474
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix -Werror warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1472
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added functionality to support jtag_khz for the jlink.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1470
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> add missing initializers in
	nand.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1468
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net> fix signed/unsigned
	comparisons git-svn-id: svn://svn.berlios.de/openocd/trunk@1466
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Zach Welch <zw@superlucidity.net>  use tap_state_t git-svn-id: svn://svn.berlios.de/openocd/trunk@1464
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-18  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : The following patches was applied: - openocd-flash-static-keyword-v3.patch - openocd-lpc2000-fix-erase-obo.patch - openocd-jlink-fix-sign-ptr-warn.patch - openocd-wextra-etm.patch - openocd-wextra-jtag.patch - openocd-add-new-tap-symbols-v6.patch Many thanks to  Zach Welch <zw(at)superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1462
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Piotr Esden-Tempski <piotr@esden.net> Corrected
	olimex_stm32_h103 board config git-svn-id: svn://svn.berlios.de/openocd/trunk@1460
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Freddie Chopin <freddie_chopin@op.pl> LPC2378 config file git-svn-id: svn://svn.berlios.de/openocd/trunk@1458
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-14  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improved (for humans) error reporting for flash programming
	errors.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1456
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add openocd coding style to texi git-svn-id: svn://svn.berlios.de/openocd/trunk@1454
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1452
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Piotr Esden-Tempski <piotr@esden.net> added a board file for the
	Olimex STM32-H103 eval board.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1450
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org list the new flag in the "nand
	write" help line.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1448
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org The ECC data is automatically
	computed and written to the OOB area when the oob_softecc option is
	passed to the "nand write" command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1446
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org software ECC computation for NAND
	flash git-svn-id: svn://svn.berlios.de/openocd/trunk@1444
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org Allocating a 6-byte memory
	location with malloc() is rather silly when this can be allocated on
	the stack.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1442
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> URL references git-svn-id: svn://svn.berlios.de/openocd/trunk@1439
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix keyword expansion git-svn-id: svn://svn.berlios.de/openocd/trunk@1437
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-30  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing usbprog config. patch from Uwe Hermann

	https://lists.berlios.de/pipermail/openocd-development/2009-March/005145.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1435
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix typo's in last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1433
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update str9 and stm32 comstick configs - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1431
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> Add new board configs: Olimex
	LPC-H2148, Keil MCB2140.  Both boards use an LPC2148, no external
	flash or RAM.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1429
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> eal _CPUTAPID entry for the
	LPC2148. I don't know if they're the same for all LPC214x, this
	number is from an Olimex LPC-H2148. The chip on that board is
	LPC2148FBD64.  Also fix a few cosmetic issues and comments in the file and add more
	docs and pointers to the datasheet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1427
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> typo git-svn-id: svn://svn.berlios.de/openocd/trunk@1425
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1423
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com>  adds support to
	i.MX35 processor.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1421
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix incorrect str9comstick cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1419
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hiroshi Ito <ito@mlb.co.jp> typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1417
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove build warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1415
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue with cortex_m3 reset run. Thanks Perry Hung -

	https://lists.berlios.de/pipermail/openocd-development/2009-March/005028.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@1413
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann <uwe@hermann-uwe.de> typos git-svn-id: svn://svn.berlios.de/openocd/trunk@1411
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-11  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added eol-style props git-svn-id: svn://svn.berlios.de/openocd/trunk@1409
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-11  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added -endstate to irscan and drscan to support beagleboard
	(omap3530) git-svn-id: svn://svn.berlios.de/openocd/trunk@1407
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1405
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-08  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added VID/PID pair to olimex-jtag-tiny-a the non-a version
	already has the vid pid git-svn-id: svn://svn.berlios.de/openocd/trunk@1403
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-07  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Accept/create both A and Non-A ft2232 based descriptions git-svn-id: svn://svn.berlios.de/openocd/trunk@1401
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Audrius Urmanavičius <didele.deze@gmail.com>  cleanup flash
	fill git-svn-id: svn://svn.berlios.de/openocd/trunk@1399
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre <nico@cam.org> making reset+halt on the SheevaPlug
	100% reliable (needs patch in target.c to fix "halt 0").  git-svn-id: svn://svn.berlios.de/openocd/trunk@1397
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from previous commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1395
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Kees Jongenburger <kees.jongenburger@gmail.com> rename
	description field of the jtag-tiny.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1393
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org  SheevaPlug board configuration git-svn-id: svn://svn.berlios.de/openocd/trunk@1391
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org add Feroceon target config file git-svn-id: svn://svn.berlios.de/openocd/trunk@1389
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org  support for NAND controllers
	without explicit busy signal git-svn-id: svn://svn.berlios.de/openocd/trunk@1387
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre nico at cam.org The code unconditionally writes
	into the oob area all the time.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1385
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stm32x flash driver - add support for stm32105/107 (connectivity
	line) git-svn-id: svn://svn.berlios.de/openocd/trunk@1383
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tinkered a bit with performance for Cortex flash programming.
	Mainly make it easier to profile as a start.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1380
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John Woods <johnrw@gmail.com> fix newtap gaffe + rename git-svn-id: svn://svn.berlios.de/openocd/trunk@1378
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Holger Schurig <hs4233@mail.mn-solutions.de> incorporate some
	comments from Rick git-svn-id: svn://svn.berlios.de/openocd/trunk@1376
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.49 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1374
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - guess-rev.sh now works as expected when build_dir is not the same
	as src_dir git-svn-id: svn://svn.berlios.de/openocd/trunk@1372
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-10  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Use C89/C99/C++ compliant boolean types git-svn-id: svn://svn.berlios.de/openocd/trunk@1370
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix native win32 build issues git-svn-id: svn://svn.berlios.de/openocd/trunk@1368
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-03  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Cable driver helper API courtesy of Dick Hollenbeck
	<dick@softplc.com> - Formatting changes from uncrustify git-svn-id: svn://svn.berlios.de/openocd/trunk@1366
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-02-03  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add uncrustify config file and helper script git-svn-id: svn://svn.berlios.de/openocd/trunk@1364
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : update symbols to match source file git-svn-id: svn://svn.berlios.de/openocd/trunk@1362
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : xvsf player fixes by Dick Hollenbeck <dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1360
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Search path fixes for MinGW builds.  Courtesy of Dimitar
	Dimitrov <dinuxbg@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1358
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-23  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : vsllink support for stable clocks by Simon Qian
	<simonqian@SimonQian.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1356
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix for incorrect filename in include for at91sam9260 in
	unknown-board-atmel-at91sam9260.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@1353
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add --enable-release to docs git-svn-id: svn://svn.berlios.de/openocd/trunk@1351
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add axm0432 interface config courtesy of Alan Carvalho de Assis
	<acassis@gmail.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1349
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix 'make maintainer-clean' courtesy of Zach Welch
	<zw@superlucidity.net> git-svn-id: svn://svn.berlios.de/openocd/trunk@1345
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-20  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix support for ADuC702x flash.  Courtesy of Michael Ashton
	<data@gtf.org> git-svn-id: svn://svn.berlios.de/openocd/trunk@1343
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove unused includes, fixes build issues under FreeBSD git-svn-id: svn://svn.berlios.de/openocd/trunk@1341
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-19  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SVF player courtesy of Simon Qian <simonqian@SimonQian.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1339
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-17  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix guess-rev.sh where the builtin echo doesn't support -n git-svn-id: svn://svn.berlios.de/openocd/trunk@1337
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - make guess-rev.sh work with msys git-svn-id: svn://svn.berlios.de/openocd/trunk@1333
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing bitq and rlink files to distribution git-svn-id: svn://svn.berlios.de/openocd/trunk@1331
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from 1323 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1324
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com> imx31pdk.cfg reset
	init event git-svn-id: svn://svn.berlios.de/openocd/trunk@1322
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1320
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com> cfg file to
	initialize the iMX27ADS board.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1318
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com> small fix to move us
	in the right direction.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1316
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix mips issues with newer versions of gdb - we simply add more dummy registers git-svn-id: svn://svn.berlios.de/openocd/trunk@1314
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1312
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : allow issuing reset_config on the fly. Faster turnaround times
	in testing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1310
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> adds jtag_add_clocks() and
	implements those in the bitbang and ft2232.c.   nearly a full
	rewrite of the xsvf.c. improved some messaging only affected by
	_DEBUG_JTAG_IO_ git-svn-id: svn://svn.berlios.de/openocd/trunk@1308
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - a few more docs tweaks git-svn-id: svn://svn.berlios.de/openocd/trunk@1306
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com>  SVF to XSVF converter and
	the XSVF dumper take #2 git-svn-id: svn://svn.berlios.de/openocd/trunk@1304
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-05  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from r1299 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1302
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> formatting fix of debug output git-svn-id: svn://svn.berlios.de/openocd/trunk@1300
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@1298
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> pic32mx flash wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1296
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2009-01-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add gdb pipe support to native win32 (--pipe option) git-svn-id: svn://svn.berlios.de/openocd/trunk@1294
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix missing/incorrect svn file props git-svn-id: svn://svn.berlios.de/openocd/trunk@1292
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added another test build configuration git-svn-id: svn://svn.berlios.de/openocd/trunk@1290
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Missed the svn add on earlier commit, duh git-svn-id: svn://svn.berlios.de/openocd/trunk@1288
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added note to user manual for packagers of OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@1286
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Some systems report linux as host, others linux-gnu... grrr git-svn-id: svn://svn.berlios.de/openocd/trunk@1284
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : From Lou.openocd012@fixit.nospammail.net git-svn-id: svn://svn.berlios.de/openocd/trunk@1282
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added dongle VSLLINK - from Simon Qian git-svn-id: svn://svn.berlios.de/openocd/trunk@1280
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : From Dirk Behme - Further docu fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1278
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-27  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Renamed build.tests to build.test1 git-svn-id: svn://svn.berlios.de/openocd/trunk@1276
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-24  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Typos found by miceal catudal git-svn-id: svn://svn.berlios.de/openocd/trunk@1274
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : httpd wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1272
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : httpd wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1269
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com>  Add missing tap-enable and tap-disable events to documentation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1267
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : bumped a LOG_INFO to LOG_DEBUG level to reduce excessive output
	for normal execution git-svn-id: svn://svn.berlios.de/openocd/trunk@1265
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> - This patch adds JTAG state
	tracking to dummy.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1263
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> better comments git-svn-id: svn://svn.berlios.de/openocd/trunk@1261
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dick Hollenbeck <dick@softplc.com> convert macros to inline
	fn's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1259
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : check syntax for init/version git-svn-id: svn://svn.berlios.de/openocd/trunk@1257
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : houskeeping git-svn-id: svn://svn.berlios.de/openocd/trunk@1255
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : work in progress to hook up libmicrohttpd + tcl integration git-svn-id: svn://svn.berlios.de/openocd/trunk@1251
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Dirk Behme <dirk.behme@googlemail.com> Fix some typos in
	documentation git-svn-id: svn://svn.berlios.de/openocd/trunk@1249
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : allow setting/reading gdb_port at any time git-svn-id: svn://svn.berlios.de/openocd/trunk@1247
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props from r1243 commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1245
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sync up to tap_xxx rename + add with-ioutil for standalone
	openocd implemetnations git-svn-id: svn://svn.berlios.de/openocd/trunk@1243
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fast_load profiling tool moved to target.c git-svn-id: svn://svn.berlios.de/openocd/trunk@1241
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Updates and fixes from Kees Jongenburger git-svn-id: svn://svn.berlios.de/openocd/trunk@1239
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Add JTAG tap events for enable/disable git-svn-id: svn://svn.berlios.de/openocd/trunk@1237
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-13  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Change tap_state naming to be consistent with SVF documentation.  Courtesy of Dick Hollenbeck <dick@softplc.com> git-svn-id: svn://svn.berlios.de/openocd/trunk@1232
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-12  kc8apf <kc8apf@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Allow -expected-id to be specified multiple times when creating
	a jtag tap git-svn-id: svn://svn.berlios.de/openocd/trunk@1229
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added Axiom AXM-0432 to texi - updated missing jtag dongle url's in texi - reformat and remove whitespace from last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@1227
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - typo with flash bank help command - typo with flash erase_sector in texi git-svn-id: svn://svn.berlios.de/openocd/trunk@1225
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-10  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : More fixes thanks to Kees Jongenburger git-svn-id: svn://svn.berlios.de/openocd/trunk@1223
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-10  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix from Kees Jongenburger git-svn-id: svn://svn.berlios.de/openocd/trunk@1221
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-06  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Test of commit email from duane git-svn-id: svn://svn.berlios.de/openocd/trunk@1219
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Karl Beldan <karl.beldan@gmail.com> - The ibcr count for hw
	instruction breakpoint registers was decremented with soft
	breakpoints and breakpoint length error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1215
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : zy1000 1.48 snapshot git-svn-id: svn://svn.berlios.de/openocd/trunk@1213
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : delete obsolete code git-svn-id: svn://svn.berlios.de/openocd/trunk@1211
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-04  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fix for Hiroshi Ito discovery of mis-aligned memory allocation git-svn-id: svn://svn.berlios.de/openocd/trunk@1205
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - incorrect str9 irmask used in config files git-svn-id: svn://svn.berlios.de/openocd/trunk@1203
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Kees Jongenburger <kees.jongenburger@gmail.com> - now compiles git-svn-id: svn://svn.berlios.de/openocd/trunk@1201
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : "Theodore A. Roth" <taroth@gmail.com> fixes to distcheck git-svn-id: svn://svn.berlios.de/openocd/trunk@1199
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : update zy1000 to svn head jtag api git-svn-id: svn://svn.berlios.de/openocd/trunk@1197
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-12-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1195
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-30  duane <duane@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Test checkin from commandline git-svn-id: svn://svn.berlios.de/openocd/trunk@1193
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue with luminary flash driver and tail bytes git-svn-id: svn://svn.berlios.de/openocd/trunk@1191
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stm32x flash driver: add support for low density devices git-svn-id: svn://svn.berlios.de/openocd/trunk@1189
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixes segfault using the targets cmd if multiple targets defined git-svn-id: svn://svn.berlios.de/openocd/trunk@1187
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : friendlier error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@1185
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add new cortex_m3 maskisr cmd git-svn-id: svn://svn.berlios.de/openocd/trunk@1181
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - preserve cortex_m3 C_MASKINTS during resume/step git-svn-id: svn://svn.berlios.de/openocd/trunk@1179
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : jtag_get_device() now returns NULL and reports error instead of
	invoking exit() git-svn-id: svn://svn.berlios.de/openocd/trunk@1176
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : big endian fix for GDB. Probably fixes a memory corruption(not
	reported) as well.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1174
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stops multiple calls to examine from allocating the breakpoint
	arrays git-svn-id: svn://svn.berlios.de/openocd/trunk@1171
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : big endian software breakpoint bogus error messages fixed git-svn-id: svn://svn.berlios.de/openocd/trunk@1167
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : nios wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1165
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - slight mips32 cleanup/reformat - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1159
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixes (more or less) random SEGFAULT upon invoking
	script_command().  git-svn-id: svn://svn.berlios.de/openocd/trunk@1156
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : broadcast mac address in UDP hello message git-svn-id: svn://svn.berlios.de/openocd/trunk@1152
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : minor cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@1149
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ocd_flash_banks now returns empty list when no flash banks are
	configured instead of failing. Allows more orthogonal
	implementations of tcl code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1147
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ocd_flash_banks now returns empty list when no flash banks are
	configured instead of failing. Allows more orthogonal
	implementations of tcl code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1144
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove build warnings - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@1142
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : s3c6410 chip git-svn-id: svn://svn.berlios.de/openocd/trunk@1140
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 926ejs target uses rclk. Cleaned up jtag_khz output a bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1138
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1136
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : disable continous polling while srst is asserted and power
	dropout is detected git-svn-id: svn://svn.berlios.de/openocd/trunk@1134
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : arm7_9_execute_sys_speed error propagation. Found by code
	inspection, no observed problems as such.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1132
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added Tcl escaping to FAQ git-svn-id: svn://svn.berlios.de/openocd/trunk@1130
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue with jlink/libusb timeout under linux - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1128
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rick Altherr <kc8apf@kc8apf.net> - fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1126
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : invoke target_create() once git-svn-id: svn://svn.berlios.de/openocd/trunk@1124
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Alan Carvalho de Assis <acassis@gmail.com> imx27 config file git-svn-id: svn://svn.berlios.de/openocd/trunk@1122
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rick Altherr <kc8apf@kc8apf.net> -  fix flash write_bank output.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1120
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-11-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : no longer used git-svn-id: svn://svn.berlios.de/openocd/trunk@1118
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Rick Altherr <kc8apf@kc8apf.net> switch to new syntax for target
	events git-svn-id: svn://svn.berlios.de/openocd/trunk@1116
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hongtao Zheng single step fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1113
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Kees Jongenburger <kees.jongenburger@gmail.com> update syntax git-svn-id: svn://svn.berlios.de/openocd/trunk@1111
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hongtao Zheng  - fix a simulation error for "BX PC" git-svn-id: svn://svn.berlios.de/openocd/trunk@1109
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Kees Jongenburger <kees.jongenburger@gmail.com> old" syntax
	target command appears to be broken this patch addresses this issue git-svn-id: svn://svn.berlios.de/openocd/trunk@1107
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Hongtao Zheng - add simulation because previous functions could
	not halt for instructions that next pc equal to the current pc.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1105
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added option to use ramdisk instead of flash jffs2 git-svn-id: svn://svn.berlios.de/openocd/trunk@1103
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix native mingw build if gettimeofday not defined.  - reformat whitespace in startup.tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@1101
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix working memory location git-svn-id: svn://svn.berlios.de/openocd/trunk@1098
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : only log BUG: (do not return error) in the case of unknown debug
	reason(0xc) git-svn-id: svn://svn.berlios.de/openocd/trunk@1096
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : load and verify are now synonymous to load/verify_image git-svn-id: svn://svn.berlios.de/openocd/trunk@1092
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : produce syntax error git-svn-id: svn://svn.berlios.de/openocd/trunk@1090
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - more help text git-svn-id: svn://svn.berlios.de/openocd/trunk@1088
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : version number keyword expansion handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1086
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : remove duplicate target git-svn-id: svn://svn.berlios.de/openocd/trunk@1084
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add link in texi docs git-svn-id: svn://svn.berlios.de/openocd/trunk@1081
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove texi warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1079
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sleep command now prints out target debugmsgs w/anything like
	usable performance git-svn-id: svn://svn.berlios.de/openocd/trunk@1076
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - integrated new tcl target command docs git-svn-id: svn://svn.berlios.de/openocd/trunk@1073
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : adding concept of production script git-svn-id: svn://svn.berlios.de/openocd/trunk@1071
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added capture command to capture log output. Useful when wanting
	to capture log output from tcl procedures that invoke openocd
	commands git-svn-id: svn://svn.berlios.de/openocd/trunk@1069
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : unsik Kim <donari75@gmail.com> - mflash support git-svn-id: svn://svn.berlios.de/openocd/trunk@1067
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-15  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix tcl_port typo in docs - remove build warning from openocd.c - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@1065
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : 김운식 <donari75@gmail.com> spotted a bug in target_write_u8 git-svn-id: svn://svn.berlios.de/openocd/trunk@1063
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - fix error handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1061
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Laurentiu Cocanu - more error handling fixes git-svn-id: svn://svn.berlios.de/openocd/trunk@1059
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : clarified jtag_ntrst_delay option git-svn-id: svn://svn.berlios.de/openocd/trunk@1056
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : testing of syntax error in reset and at startup git-svn-id: svn://svn.berlios.de/openocd/trunk@1054
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added warning to use GDB 6.7 or newer git-svn-id: svn://svn.berlios.de/openocd/trunk@1052
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> two patches add a mips_m4k target
	option (ejtag_reset) to cause a reset command to use the EJTAG
	Peripheral and System Reset in addition to srst.  This is for
	targets like the wrt54gl which do not connect the srst to a system
	reset (I believe it just goes to a GPIO).  git-svn-id: svn://svn.berlios.de/openocd/trunk@1050
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reset cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@1048
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : SEGFAULT gaffe in dummy register handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1046
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix crash when connecting GDB to powered down target git-svn-id: svn://svn.berlios.de/openocd/trunk@1044
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixed gaffes in reset script handling + improved error messages
	a bit. The file and line # of the syntax error in a reset script is
	now printed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1042
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* :  Fix problems with DCC downloads routine crashing silently.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1040
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> openocd-usb.cfg added git-svn-id: svn://svn.berlios.de/openocd/trunk@1038
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : enumeration of threads for testing purposes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1035
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added busy sleep (for testing purposes) git-svn-id: svn://svn.berlios.de/openocd/trunk@1033
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Richard Missenden exit now works during startup script git-svn-id: svn://svn.berlios.de/openocd/trunk@1031
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : John McCarthy <jgmcc@magma.ca> adds support for DMA mode access
	as supported by EJTAG 1.0/2.0 processors git-svn-id: svn://svn.berlios.de/openocd/trunk@1029
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reduce patch problems by moving $xxx expansion into seperate fn git-svn-id: svn://svn.berlios.de/openocd/trunk@1027
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Frederik Kriewitz <frederik at kriewitz.eu> Segmentation fault
	fix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1025
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Georg Acher <acher@in.tum.de> - arm11 wip. run algorithm + small
	init bugfix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@1023
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : basic smoketest on lm3s3748.elf git-svn-id: svn://svn.berlios.de/openocd/trunk@1020
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : better keep_alive() handling git-svn-id: svn://svn.berlios.de/openocd/trunk@1018
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Georg Acher <acher@in.tum.de> corrected TDO sampling git-svn-id: svn://svn.berlios.de/openocd/trunk@1016
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : GDB alive fixes for verify_image git-svn-id: svn://svn.berlios.de/openocd/trunk@1014
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-10-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed gaffe: disable interrupts reset init script git-svn-id: svn://svn.berlios.de/openocd/trunk@1012
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - at91sam7.c remove build warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@1010
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* :  I do not know why this is necessary, but it fixes strange effects 		       (step/resume cause a NMI after reset) on LM3S6918 --
			       Michael Schwingen git-svn-id: svn://svn.berlios.de/openocd/trunk@1008
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip git-svn-id: svn://svn.berlios.de/openocd/trunk@1006
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update docs for aduc702x flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@996
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix noise in gdb console when single stepping. Remove printing
	of log before processing halted event.  git-svn-id: svn://svn.berlios.de/openocd/trunk@994
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* :  "marcel" <M.W.Wijlaars@tue.nl>, I have the ADuC702x flashdriver working again (see attachment). It
	adds the option to erase and write the ADuC702x flash git-svn-id: svn://svn.berlios.de/openocd/trunk@992
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Removed some obsolete stuff + Pushing things in the direction of
	openocd.texi git-svn-id: svn://svn.berlios.de/openocd/trunk@990
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : put instructions on how to report bugs onto the users radar git-svn-id: svn://svn.berlios.de/openocd/trunk@988
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : follow up to keep_alive() fix. process target events before
	returning from reset procedure.  git-svn-id: svn://svn.berlios.de/openocd/trunk@986
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis: target_process_reset is now implemented in tcl.
	This allows better control from target configuration scripts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@984
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : typo fixed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@982
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis, added clock command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@980
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : s3c2440 OpenMoko target script git-svn-id: svn://svn.berlios.de/openocd/trunk@978
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Removed target->reset_mode, no longer used git-svn-id: svn://svn.berlios.de/openocd/trunk@976
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-09-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retired, nothing came of it.  git-svn-id: svn://svn.berlios.de/openocd/trunk@974
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : comment about slow RTCK git-svn-id: svn://svn.berlios.de/openocd/trunk@972
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added 1000ms timeout git-svn-id: svn://svn.berlios.de/openocd/trunk@970
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : RCLK is not supported, return error instead of crashing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@968
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed bug in arm11 examine code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@966
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sync with Jim Tcl repository.  git-svn-id: svn://svn.berlios.de/openocd/trunk@964
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : duan ellis target tcl work in progress   converts a number of 'simple string lookup tables' into NVP
	  tables.  These NVP tables will be used by various commands coming
	in the next patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@962
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - clear any existing breakpoints/watchpoints when restarting in gdb
	extended remote mode git-svn-id: svn://svn.berlios.de/openocd/trunk@960
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix win32 build issues from previous jim patch git-svn-id: svn://svn.berlios.de/openocd/trunk@958
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added gdb timeout handling + error propagation git-svn-id: svn://svn.berlios.de/openocd/trunk@956
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : lm3s3748 config file git-svn-id: svn://svn.berlios.de/openocd/trunk@954
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sharpen error propagation a wee bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@952
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Daniel Gimpelevich fix reset halt on feroceon git-svn-id: svn://svn.berlios.de/openocd/trunk@950
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : duane ellis: fix warning git-svn-id: svn://svn.berlios.de/openocd/trunk@948
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed warning git-svn-id: svn://svn.berlios.de/openocd/trunk@946
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : make target_wait_state() usable from other places, made
	LOG_USER() output LOG_DEBUG() output. Avoids flooding logs in
	certain cases and OpenOCD will output error message if the halt
	fails.  git-svn-id: svn://svn.berlios.de/openocd/trunk@944
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : search and replace usleep(1000) with alive_sleep(1) to avoid GDB
	timeouts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@942
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added some alive_sleep()'s git-svn-id: svn://svn.berlios.de/openocd/trunk@940
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added alive_sleep() function to let GDB alive packets be sent git-svn-id: svn://svn.berlios.de/openocd/trunk@938
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : duane ellis: (A) a new concept called "Name Value Pair" or NVP,
	in simple terms: Think: "String" and "Value". There can be many
	strings - all related to a single value, for examle: "T", "t", "y",
	"1", "yes", all can represent "truth", the reverse mapping is more
	simplistic - the first matching number wins.  (B) a new "getopt" like feature for Jim - that simplifies argument
	parsing in complex functions, normally this would be used in
	conjunction with either an NVP table of options, or a more simpler
	Enumeration  table.  In contrast to the GNU "getopt" package, this
	is more of a "object model or code oriented" solution then a pure
	data structure used by GNU getopt, or the main stream Tcl/Tk option
	processing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@936
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix comment w.r.t. start address for RAM git-svn-id: svn://svn.berlios.de/openocd/trunk@934
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : removed a couple of exit()'s from error handling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@932
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Daniel Gimpelevich <daniel@gimpelevich.san-francisco.ca.us> one
	more parport device git-svn-id: svn://svn.berlios.de/openocd/trunk@930
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more error propagation git-svn-id: svn://svn.berlios.de/openocd/trunk@928
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : openocd.texi is the authoratitive source for documentation. Wiki
	is dead.  git-svn-id: svn://svn.berlios.de/openocd/trunk@926
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : deleted superfluous sam7s256 which was identical to sam7x256 git-svn-id: svn://svn.berlios.de/openocd/trunk@924
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : removed obsolete command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@922
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : arm7/9 breakpoint cleanup. arm7_9 sw/hw commands retired.
	openocd.texi is alerady updated.  git-svn-id: svn://svn.berlios.de/openocd/trunk@920
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : documentation wip for upcoming patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@918
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : force lpc2148 target into ARM state.  git-svn-id: svn://svn.berlios.de/openocd/trunk@916
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added global gdb breakpoint override configuration command git-svn-id: svn://svn.berlios.de/openocd/trunk@914
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Clear all dangling breakpoints upon GDB connection.  git-svn-id: svn://svn.berlios.de/openocd/trunk@912
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : return halted signal if step/continue fails git-svn-id: svn://svn.berlios.de/openocd/trunk@910
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix output from jtag_khz when only jtag_speed has been invoked git-svn-id: svn://svn.berlios.de/openocd/trunk@908
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : propagate error code in case of "reset" failing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@906
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix error message git-svn-id: svn://svn.berlios.de/openocd/trunk@904
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix build issues under win32 (mingw) git-svn-id: svn://svn.berlios.de/openocd/trunk@902
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : default reset in help text - run git-svn-id: svn://svn.berlios.de/openocd/trunk@900
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Kuehling <dvdkhlng@gmx.de> - added jim-eventloop.c git-svn-id: svn://svn.berlios.de/openocd/trunk@898
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correct BUILD_ECOSBOARD definition is server.c git-svn-id: svn://svn.berlios.de/openocd/trunk@896
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for previously added file git-svn-id: svn://svn.berlios.de/openocd/trunk@894
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : GDB monitor commands now also get halted state upon e.g. "reset
	halt".  git-svn-id: svn://svn.berlios.de/openocd/trunk@892
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis: fix warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@890
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : define resetting the target into the halted or running state as
	an atomic operation.  git-svn-id: svn://svn.berlios.de/openocd/trunk@888
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-08-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : TAP_TLR won't work in a pathmove sequence. OpenOCD shouldn't and
	doesn't need to support this.  git-svn-id: svn://svn.berlios.de/openocd/trunk@886
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wait up to 1 second for halted state upon reset init/halt.  git-svn-id: svn://svn.berlios.de/openocd/trunk@884
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : warning output upon connection problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@882
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added run_and_halt_time to deprecated/removed functions section git-svn-id: svn://svn.berlios.de/openocd/trunk@880
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed gaffe mea culpa git-svn-id: svn://svn.berlios.de/openocd/trunk@878
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : working notes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@876
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - merged mips target into svn trunk git-svn-id: svn://svn.berlios.de/openocd/trunk@874
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added yours sincerely for files where I feel that I've made
	non-trivial contributions.  git-svn-id: svn://svn.berlios.de/openocd/trunk@872
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more error message cleanup. invalid args & syntax errors both
	now print arguments of command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@870
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire daemon_startup git-svn-id: svn://svn.berlios.de/openocd/trunk@868
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Better handling of OpenOCD command invocation result/context.  git-svn-id: svn://svn.berlios.de/openocd/trunk@866
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - comment about dummy ack '+' char from gdb git-svn-id: svn://svn.berlios.de/openocd/trunk@864
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix typo git-svn-id: svn://svn.berlios.de/openocd/trunk@862
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : handle end of line comments to improve compatibility with event
	scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@860
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix bug with stm32 high density write protection git-svn-id: svn://svn.berlios.de/openocd/trunk@858
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Spen: startup.tcl cross compile support git-svn-id: svn://svn.berlios.de/openocd/trunk@856
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : very slightly improved error message for not being able to find
	scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@854
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Allows config scripts to override handling of 'R'(restart) GDB
	packet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@852
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : update jtag_speed/khz docs a bit.  git-svn-id: svn://svn.berlios.de/openocd/trunk@850
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : cross compile fix git-svn-id: svn://svn.berlios.de/openocd/trunk@848
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis <openocd@duaneellis.com> stm32 peripherals scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@846
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : BUG: prefix to timeout for gdb keep alive packets.  git-svn-id: svn://svn.berlios.de/openocd/trunk@844
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis <openocd@duaneellis.com> - script commands for stm32 git-svn-id: svn://svn.berlios.de/openocd/trunk@842
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-20  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis <openocd@duaneellis.com>  improve error message in Jim when sourcing a file fails.
	Previously it did not tell you the CWD Jim was using as its
	reference point.  (Helpful when script filenames are a relative
	path) git-svn-id: svn://svn.berlios.de/openocd/trunk@840
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : throw exception upon syntax error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@838
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : clarify error message w.r.t. not being able to set breakpoint git-svn-id: svn://svn.berlios.de/openocd/trunk@836
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : This allows overriding builtin openocd commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@834
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : "reset" without arguments now execute a "reset run".  the reset mode argument to the target command is deprecated(ignored
	w/error message).  git-svn-id: svn://svn.berlios.de/openocd/trunk@832
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix incorrectly registered function openocd_array2mem - removed unused variables - reformatted lpc288x.[ch] - fixed helper/Makefile.am dependencies - add correct svn props to added files git-svn-id: svn://svn.berlios.de/openocd/trunk@829
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : keep_alive() fix for reset warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@827
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis <openocd@duaneellis.com> more interface files.  git-svn-id: svn://svn.berlios.de/openocd/trunk@825
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added missing "reset+load" sequence.  git-svn-id: svn://svn.berlios.de/openocd/trunk@823
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin ckhardin at gmail.com   Instead of stashing the
	context in a global variable, just use the "context" associated with
	the interp structure being passed around And fixed the message referring to mem2array in the array2mem
	function git-svn-id: svn://svn.berlios.de/openocd/trunk@821
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin ckhardin at gmail.com There isn't a real value to the cfg_cmd_ctx since everything should
	be run thru the initial context created at start.  git-svn-id: svn://svn.berlios.de/openocd/trunk@819
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reverted resume_target to old behaviour git-svn-id: svn://svn.berlios.de/openocd/trunk@817
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixes to \ and / handling for OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@815
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : print out jim error message stack trace in expected order(look
	at any C++ or Java debugger for instance).  git-svn-id: svn://svn.berlios.de/openocd/trunk@813
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : print syntax for command upon syntax error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@811
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : feeble beginnings for tcl api rules.  git-svn-id: svn://svn.berlios.de/openocd/trunk@809
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin <ckhardin@gmail.com> This evaluates the file at the correct level for the interpreter and
	the sets and all the globals are then done as expected.  added a const to find_file function to avoid typecasting git-svn-id: svn://svn.berlios.de/openocd/trunk@806
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-13  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@804
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Duane Ellis <openocd@duaneellis.com> fix to tcl puts git-svn-id: svn://svn.berlios.de/openocd/trunk@802
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove requirement for file2c.tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@800
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : testing/*.tcl sample & test code git-svn-id: svn://svn.berlios.de/openocd/trunk@798
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - configure check added for tclsh - startup.c manually added to clean deps git-svn-id: svn://svn.berlios.de/openocd/trunk@796
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin ckhardin at gmail.com This address the >32 bit problem with drscan also added a check for
	bypass in the execute since this will manifest itself as a memory
	corruption when this check helps to debug the problem alot easier git-svn-id: svn://svn.berlios.de/openocd/trunk@794
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : work in progress to improve help git-svn-id: svn://svn.berlios.de/openocd/trunk@792
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : .cfg files are now executed as Jim Tcl. Commands that terminate
	script w/error message.  git-svn-id: svn://svn.berlios.de/openocd/trunk@790
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : working notes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@788
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Charles Hardin <ckhardin@gmail.com> Add semantics to support memwrite(32,16,8) with an array2mem command
	Move the global up in bits2bytes.tcl so the set puts the value in
	the global context.  Add memwrite procs to memory.tcl git-svn-id: svn://svn.berlios.de/openocd/trunk@786
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix quoting problem when handling OpenOCD commands.  git-svn-id: svn://svn.berlios.de/openocd/trunk@784
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : very slight cleanup of flash banks handling.  git-svn-id: svn://svn.berlios.de/openocd/trunk@782
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - adding missing install entry for luminary-libftdi.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@780
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added luminary libftdi interface config git-svn-id: svn://svn.berlios.de/openocd/trunk@778
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added flash_banks low level command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@776
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tcl regression fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@774
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed target_process_events as only used in
	handle_resume_command and events will be called anyway by poll git-svn-id: svn://svn.berlios.de/openocd/trunk@772
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - apply correct formatting to openocd.c - Thanks Charles Hardin git-svn-id: svn://svn.berlios.de/openocd/trunk@770
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more tcl cleanup.  git-svn-id: svn://svn.berlios.de/openocd/trunk@768
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - command_run_line will only search once for the command, and
	execute if found git-svn-id: svn://svn.berlios.de/openocd/trunk@766
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix syntax error.  git-svn-id: svn://svn.berlios.de/openocd/trunk@764
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix duplicate log entry git-svn-id: svn://svn.berlios.de/openocd/trunk@762
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed build issues with win32 - fixed build warnings for last commit - set svn props for last commit git-svn-id: svn://svn.berlios.de/openocd/trunk@760
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix a few compilation problems.  git-svn-id: svn://svn.berlios.de/openocd/trunk@758
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Oopss. Forgot to list Duane Ellis <openocd@duaneellis.com> as
	the author of changes in 755.  git-svn-id: svn://svn.berlios.de/openocd/trunk@756
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-05  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added search for libdl - Thanks Charles Hardin git-svn-id: svn://svn.berlios.de/openocd/trunk@754
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added event scripts for str73x and str75x targets git-svn-id: svn://svn.berlios.de/openocd/trunk@751
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed line endings with commands.tcl - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@749
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix to peek command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@747
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : typo git-svn-id: svn://svn.berlios.de/openocd/trunk@745
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added support for Tcl config scripts on the command line(use
	.tcl extension).  git-svn-id: svn://svn.berlios.de/openocd/trunk@743
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : ARM11 update. OpenOCD supports starting without being able to
	talk to the hardware.  git-svn-id: svn://svn.berlios.de/openocd/trunk@741
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-07-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Jim Tcl support added git-svn-id: svn://svn.berlios.de/openocd/trunk@739
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip.  git-svn-id: svn://svn.berlios.de/openocd/trunk@737
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update docs for new target_script events git-svn-id: svn://svn.berlios.de/openocd/trunk@735
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : hooks to enable experimentation with scripting language support.
	Reduces patch size, but has no effect on OpenOCD otherwise.  git-svn-id: svn://svn.berlios.de/openocd/trunk@733
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Anders more target lib scripts contributed by git-svn-id: svn://svn.berlios.de/openocd/trunk@731
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : David Anders: fixes an issue with large block nand flash address
	where the beginning of the OOB area is always selected instead of
	the beginning of a page when needed git-svn-id: svn://svn.berlios.de/openocd/trunk@729
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix reset_halt issue with certain arm cores - address not set in
	embedded ice reg - Thanks Jonas Hörberg git-svn-id: svn://svn.berlios.de/openocd/trunk@727
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix compile errors when _DEBUG_INSTRUCTION_EXECUTION_ is defined - Thanks Simon Qian git-svn-id: svn://svn.berlios.de/openocd/trunk@725
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: - lower jtag speeds (higher divisor) was used, TDI was not changed
	on falling TCK edge as it should - reset signal was release upon any TMS transition, making it
	impossible to use reset halt - added khz() and speed_div() functions git-svn-id: svn://svn.berlios.de/openocd/trunk@716
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Spen spotted a bug in warning for missing srst_pulls_trst git-svn-id: svn://svn.berlios.de/openocd/trunk@714
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added target and event script for the eir-sam7se512 target git-svn-id: svn://svn.berlios.de/openocd/trunk@712
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : GDB timeout fix. If a script takes a long time and does not
	produce any output, ping between every command.  git-svn-id: svn://svn.berlios.de/openocd/trunk@710
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - probe incorrect for high density stm32 flash git-svn-id: svn://svn.berlios.de/openocd/trunk@708
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-06  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stm32 erase will use mass_erase if all banks selected git-svn-id: svn://svn.berlios.de/openocd/trunk@706
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-05  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - erase bank using bank erase rather than each sector - Thanks Fredrik Hederstierna git-svn-id: svn://svn.berlios.de/openocd/trunk@704
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: fix logging syntax error + formatting & removing
	obsolete comments.  git-svn-id: svn://svn.berlios.de/openocd/trunk@702
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - luminary, stm32 and str7 flash driver error cleanup git-svn-id: svn://svn.berlios.de/openocd/trunk@700
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-06-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fredrik Hederstierna: fix leak + clean up return codes git-svn-id: svn://svn.berlios.de/openocd/trunk@698
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added checksum_memory and blank_check_memory for xscale git-svn-id: svn://svn.berlios.de/openocd/trunk@696
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - moved flash erase_check target code to target.c git-svn-id: svn://svn.berlios.de/openocd/trunk@694
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-27  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed typo in wp command git-svn-id: svn://svn.berlios.de/openocd/trunk@692
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added check for max. value of jtag_speed in ft2232_khz.  git-svn-id: svn://svn.berlios.de/openocd/trunk@690
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : found out why str912 reset halt failed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@688
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected error with stm32 page calculation git-svn-id: svn://svn.berlios.de/openocd/trunk@686
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - comment out usb_set_altinterface, because it is not working under
	Mac OS X.  And not needed for Windows. Hopefully it will not break a
	Linux build.  git-svn-id: svn://svn.berlios.de/openocd/trunk@684
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added stellaris flash mass_erase command git-svn-id: svn://svn.berlios.de/openocd/trunk@682
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - swap processing of reset handling. First srst and than trst.  git-svn-id: svn://svn.berlios.de/openocd/trunk@680
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected copy/paste type and renamed jlink_usb_read_result to
	jlink_usb_read_emu_result git-svn-id: svn://svn.berlios.de/openocd/trunk@678
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - jlink jlink_execute_queue returns result - added jlink_get_version_info function - reformatted spaces to tabs git-svn-id: svn://svn.berlios.de/openocd/trunk@676
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for newer high density stm32 parts git-svn-id: svn://svn.berlios.de/openocd/trunk@674
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove error message on shutdown git-svn-id: svn://svn.berlios.de/openocd/trunk@672
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-21  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : moved srst_pulls_trst check into arm7_9_common.c. Not tested
	yet, if it is broken it should "only" print bogus warnings or not
	print a warning when it should have.  git-svn-id: svn://svn.berlios.de/openocd/trunk@670
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : reverted change in 658 and simply removed the busted warning for
	now.  git-svn-id: svn://svn.berlios.de/openocd/trunk@668
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : print out an error if srst_pulls_trst is not specified for e.g.
	at91fr40008. Could possibly show bogus false positives in log
	without any other side effects.  git-svn-id: svn://svn.berlios.de/openocd/trunk@666
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix mode output when illegal arm mode is detected. Now prints
	illegal mode for index -1.  git-svn-id: svn://svn.berlios.de/openocd/trunk@664
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-19  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : updated guidelines.  git-svn-id: svn://svn.berlios.de/openocd/trunk@662
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added smoketest result for r657 - some corrections for the reset config of at91r40008 git-svn-id: svn://svn.berlios.de/openocd/trunk@660
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added jlink support, based on Jürgen Stuber patch git-svn-id: svn://svn.berlios.de/openocd/trunk@658
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-11  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch from uwe hermann, thanks for the hint.  git-svn-id: svn://svn.berlios.de/openocd/trunk@656
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected rounding in ft2232_khz git-svn-id: svn://svn.berlios.de/openocd/trunk@654
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - smoketest for r651 git-svn-id: svn://svn.berlios.de/openocd/trunk@652
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Fischer spotted a problem in the reset routines for
	srst_pulls_trst. It is a bit of a mystery why this was only visible
	w/LPC2148.  Embedded ICE registers are now set up after SRST pulls TRST.  git-svn-id: svn://svn.berlios.de/openocd/trunk@650
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : print available memory in log_level 3 git-svn-id: svn://svn.berlios.de/openocd/trunk@648
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg plugged a leak found w/Valgrind.  git-svn-id: svn://svn.berlios.de/openocd/trunk@646
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg found tiny memory leak git-svn-id: svn://svn.berlios.de/openocd/trunk@644
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : The target library is now the authorotative source of config
	examples git-svn-id: svn://svn.berlios.de/openocd/trunk@642
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-03  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed xsvf_add_statemove() git-svn-id: svn://svn.berlios.de/openocd/trunk@640
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added info about libftdi support under win32 git-svn-id: svn://svn.berlios.de/openocd/trunk@638
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Tim Hudson worked on English language.  git-svn-id: svn://svn.berlios.de/openocd/trunk@636
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-05-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@634
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : now compiles again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@632
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added new device to luminary flash driver - only use SYSRESETREQ on affected luminary parts git-svn-id: svn://svn.berlios.de/openocd/trunk@630
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-30  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar's added support for printing jtag_khz git-svn-id: svn://svn.berlios.de/openocd/trunk@628
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg added a new rule for target scripts. Flash +
	verify must succeed.  git-svn-id: svn://svn.berlios.de/openocd/trunk@626
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add cortex_m3 variant luminary to fix reset issue with asserting
	SRST -

	https://lists.berlios.de/pipermail/openocd-development/2008-April/002022.html for detailsgit-svn-id: svn://svn.berlios.de/openocd/trunk@624
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - luminary flash now loader polls when finished git-svn-id: svn://svn.berlios.de/openocd/trunk@622
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - incorrect ram size for lm3s811 target script git-svn-id: svn://svn.berlios.de/openocd/trunk@620
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip instructions for building Cortex toolchain git-svn-id: svn://svn.berlios.de/openocd/trunk@618
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Close dangling file handle git-svn-id: svn://svn.berlios.de/openocd/trunk@616
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar's new test cases.  git-svn-id: svn://svn.berlios.de/openocd/trunk@614
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy's on chip flash loader git-svn-id: svn://svn.berlios.de/openocd/trunk@612
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn props for newly added files git-svn-id: svn://svn.berlios.de/openocd/trunk@610
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix typo in openocd.texi git-svn-id: svn://svn.berlios.de/openocd/trunk@608
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Tim Hudson: removed setting jtag_speed directly (which should
	not be done).  git-svn-id: svn://svn.berlios.de/openocd/trunk@606
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-23  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added fast option.  git-svn-id: svn://svn.berlios.de/openocd/trunk@604
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-22  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wip on reporting bugs.  git-svn-id: svn://svn.berlios.de/openocd/trunk@602
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added stm32 stick and luminary eval boards interface configs - corrected target lm3s6965.cfg git-svn-id: svn://svn.berlios.de/openocd/trunk@600
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - set erase flag on sector git-svn-id: svn://svn.berlios.de/openocd/trunk@598
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - update docs for flash write_image command - remove info on flash auto_erase, added to removed commands section git-svn-id: svn://svn.berlios.de/openocd/trunk@596
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-19  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added test results for r592 git-svn-id: svn://svn.berlios.de/openocd/trunk@594
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-18  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Flash auto-erase is disabled by default git-svn-id: svn://svn.berlios.de/openocd/trunk@592
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-18  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre fixed regression.  git-svn-id: svn://svn.berlios.de/openocd/trunk@590
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix for gaffe in  555 that stopped JTAG chain examine + validate
	from running.  git-svn-id: svn://svn.berlios.de/openocd/trunk@588
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correct stm32stick config script git-svn-id: svn://svn.berlios.de/openocd/trunk@586
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-16  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg added some missing scripts from the install git-svn-id: svn://svn.berlios.de/openocd/trunk@584
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - sw_bkpts fails if the target is not halted. The side effect is
	that sw_bkpts also fails if the target is an unknown state(i.e.  not
	examined yet).  - feroceon embedded ICE registers are now set up after TRST has been
	deasserted(not tested, but it was broken as is anyway).  git-svn-id: svn://svn.berlios.de/openocd/trunk@582
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-15  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : target read/write is no longer attempted for target_xxx()
	functions when the target has not been examined(fails w/error).  git-svn-id: svn://svn.berlios.de/openocd/trunk@580
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retired fast_memory_access. It's always fast now.  git-svn-id: svn://svn.berlios.de/openocd/trunk@578
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : moved out stuff that wasn't already moved from openocd.pdf to
	the target library.  git-svn-id: svn://svn.berlios.de/openocd/trunk@576
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : TRST is asserted *before* target->type->assert_reset() is
	invoked. Removed old code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@574
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : A dummy driver to test codepath w/no contact w/target.  git-svn-id: svn://svn.berlios.de/openocd/trunk@572
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : allows launching OpenOCD w/telnet+gdb server w/the target
	powered down.  git-svn-id: svn://svn.berlios.de/openocd/trunk@570
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : found two more gaffes for reset wip git-svn-id: svn://svn.berlios.de/openocd/trunk@568
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Reset wip. Just adding hooks. This is just to reduce the size of
	the actual change, no change in behaviour.  git-svn-id: svn://svn.berlios.de/openocd/trunk@566
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Wip - split target setup and target examination git-svn-id: svn://svn.berlios.de/openocd/trunk@564
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Improved XScale performance for embedded hosted OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@562
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : stop using variable sized arrays. That's something that belongs
	to C++ and not C.  git-svn-id: svn://svn.berlios.de/openocd/trunk@560
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - single core context used, removed debug context as thought
	unnecessary.  - DCRDR now used to access special core registers - info is
	currently omitted from the cortex_m3 TRM ARM have told me this is
	the preferred access method and the docs will be updated soon.  - now checks for User Thread Mode and Thread mode when halted.  - removed repeated function declarations from command.c - cortex_m3_prepare_reset_halt removed, updated
	cortex_m3_assert_reset to suit git-svn-id: svn://svn.berlios.de/openocd/trunk@558
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : target lib wip git-svn-id: svn://svn.berlios.de/openocd/trunk@556
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing svn props git-svn-id: svn://svn.berlios.de/openocd/trunk@554
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-09  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added "init" command. "init" and "reset" at end of startup script
	  is equivalent to daemon_startup(still supported).  - print warning if srst and trst change state at the same time when
	srst_and_trst is seperate - reset now performs a trst, examines and validates the jtag chain
	before targets assert reset - if startup fails to examine and validate the jtag chain, try a
	reset before trying again git-svn-id: svn://svn.berlios.de/openocd/trunk@552
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edwin Olson found bug & tested fix for flash write_image for
	stellaris.  git-svn-id: svn://svn.berlios.de/openocd/trunk@550
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added a couple of LOG_ERROR() messages to improve logfile.  git-svn-id: svn://svn.berlios.de/openocd/trunk@548
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : The endstate now reports the endstate of the queue instead of
	reading endstate variable internal to the driver.  git-svn-id: svn://svn.berlios.de/openocd/trunk@546
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - only if "reset halt" or "reset init" are issued will the reset
	vector be set up - If communication fails during assert between assert/deassert and
	during assert, warnings are printed. The warning suggests using
	srst_only if the clock locks up as that would allow the reset vector
	to be set up before asserting reset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@544
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : avoid patch trouble by isolating troublesome line...  git-svn-id: svn://svn.berlios.de/openocd/trunk@542
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - the reset mode parameter is now DEPRECATED. It is implemented as
	an optional parameter with default reset_init. This is to streamline
	things w.r.t. the target library.  git-svn-id: svn://svn.berlios.de/openocd/trunk@540
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added query of reset speed git-svn-id: svn://svn.berlios.de/openocd/trunk@538
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Work on fixing erase check. Many implementations are plain broken.
	Wrote a default flash erase check fn which uses CFI's target
	algorithm w/fallback to memory reads.  - "flash info" no longer prints erase status as it is stale.  - "flash erase_check" now prints erase status. erase check can take
	a *long* time. Work in progress - arm7/9 with seperate srst & trst now supports reset init/halt
	after a power outage. arm7/9 no longer makes any assumptions about
	state of target when reset is asserted.  - fixes for srst & trst capable arm7/9 with reset init/halt - prepare_reset_halt retired. This code needs to be inside
	assert_reset anyway - haven't been able to get stm32 write algorithm to work. Fallback
	flash write does work. Haven't found a version of openocd trunk
	where this works.  - added target_free_all_working_areas_restore() which can let be of
	restoring backups. This is needed when asserting reset as the target
	must be assumed to be an unknown state.  Added some comments to
	working areas API - str9 reset script fixes - some guidelines - fixed dangling callbacks upon reset timeout git-svn-id: svn://svn.berlios.de/openocd/trunk@536
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix flash info - now reports erased state properly git-svn-id: svn://svn.berlios.de/openocd/trunk@534
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-04-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : optional count argument to mwX git-svn-id: svn://svn.berlios.de/openocd/trunk@532
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Do not assert trst in srst_only case even if srst_pulls_trst.  git-svn-id: svn://svn.berlios.de/openocd/trunk@530
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-31  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Removed exit()'s. A reset is usually enough to work around
	these, reducing cycle times to get config scripts right.  git-svn-id: svn://svn.berlios.de/openocd/trunk@528
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg: added needed delays git-svn-id: svn://svn.berlios.de/openocd/trunk@526
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : hooks for multithreading. Disable nagle git-svn-id: svn://svn.berlios.de/openocd/trunk@524
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - gdb server was incorrectly sending null terminator on
	qXfer:features:read: packet - armv7m now sends correct gdb register packet git-svn-id: svn://svn.berlios.de/openocd/trunk@522
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-22  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - changed jtag_add_reset errors to warnings - removed extra jtag reset warnings from arm7_9 and cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@520
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-21  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added new test results git-svn-id: svn://svn.berlios.de/openocd/trunk@518
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-14  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added profile command. It was added to simplify evaluation by
	testers.  git-svn-id: svn://svn.berlios.de/openocd/trunk@516
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: fixed warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@514
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added jtag_khz for use with target library git-svn-id: svn://svn.berlios.de/openocd/trunk@512
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : print ms in debug_level 3 logs. Seconds is not enough.  git-svn-id: svn://svn.berlios.de/openocd/trunk@510
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-13  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : marked infinite loop in code w/TODO and fixed warning.  git-svn-id: svn://svn.berlios.de/openocd/trunk@508
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : xscale now passes w/bitbang in 505 git-svn-id: svn://svn.berlios.de/openocd/trunk@506
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : This moves common code into functions so as to make it clear
	that all the jtag_add_xxx() are indeed intended to do the same
	thing.  git-svn-id: svn://svn.berlios.de/openocd/trunk@504
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more info about latest working version git-svn-id: svn://svn.berlios.de/openocd/trunk@502
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-12  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tinkered a bit with testing matrix.  git-svn-id: svn://svn.berlios.de/openocd/trunk@500
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : With the recent changes the TRST needs to happen for every
	reset.  git-svn-id: svn://svn.berlios.de/openocd/trunk@498
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - retired unused jtag events. The code was incorrect - hopefully clarified the difference between TRST and TMS reset.  - added DEBUG() statements w.r.t. state changes - TRST released and moving out of TAP_TLR are completely different
	events. Only TRST released has a DEBUG() statement git-svn-id: svn://svn.berlios.de/openocd/trunk@496
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retire unused code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@494
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-11  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed jtag_add_reset(). It no longer causes jtag_execute_queue()
	  to fail for two of it's return codes. A little bit weird, but
	  compatible with existing codebase.  - tightend up error handling. Since the jtag_xxx() is a queue that
	  is either executed as things are added(hw queue) or a software
	  queue, then errors can only be caught during jtag_execute_queue().
	  No error code is therefore returned from the queuing fn's.  git-svn-id: svn://svn.berlios.de/openocd/trunk@492
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : backed out changes from 483.  git-svn-id: svn://svn.berlios.de/openocd/trunk@490
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : more target scripts wip.  git-svn-id: svn://svn.berlios.de/openocd/trunk@488
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: the attached patch refines PRESTO support and
	makes it work with libftdi.  git-svn-id: svn://svn.berlios.de/openocd/trunk@486
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed a problem with big endian XScale and GDB register packets.  - hmm..... did I screw up? Was XScale and not gdb_server busted
	  here? My thinking was that OpenOCD has a canonical internal
	  representation of registers that match GDB's expectations git-svn-id: svn://svn.berlios.de/openocd/trunk@484
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixed various error handling when looking for memory leaks - Fixed memory leak in gdb_server.c - pushed "Error:" statements up into fn's that know something about
	what went wrong - load_image now fails if target_write_memory() fails - only issue an asynchronous halt() upon connect of GDB. Synchronous
	  halt/reset doesn't really work as what's required to initialize the
	  target might involve a special monitor sequence for the target in
	question - syntax error handling improved(fewer exit()'s) git-svn-id: svn://svn.berlios.de/openocd/trunk@482
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-10  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added stm32.cfg to install list git-svn-id: svn://svn.berlios.de/openocd/trunk@480
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add stm32 target script git-svn-id: svn://svn.berlios.de/openocd/trunk@478
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-08  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : typo.  git-svn-id: svn://svn.berlios.de/openocd/trunk@476
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Asynchronous output information from e.g. a halt is now
	displayed again.  git-svn-id: svn://svn.berlios.de/openocd/trunk@474
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - The elf loader incorrectly assumed that the program header always
	follows the ELF header. (Thanks Michael Bruck) git-svn-id: svn://svn.berlios.de/openocd/trunk@472
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Edgar Grimberg, fix arm926ejs_examine_debug_reason return value.  git-svn-id: svn://svn.berlios.de/openocd/trunk@470
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : minor corrections for target scripts.  git-svn-id: svn://svn.berlios.de/openocd/trunk@468
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy, the patch fixes an issue with PRESTO & FTD2XX
	under Linux.  git-svn-id: svn://svn.berlios.de/openocd/trunk@466
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wi-9c target scripts git-svn-id: svn://svn.berlios.de/openocd/trunk@464
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added str912/str710_program.script - added test infos from r459 git-svn-id: svn://svn.berlios.de/openocd/trunk@462
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-07  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Cosmetic fixes from Uwe Hermann git-svn-id: svn://svn.berlios.de/openocd/trunk@460
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : retired git-svn-id: svn://svn.berlios.de/openocd/trunk@458
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : tms is never referenced, confusing old code left behind
	probably.  git-svn-id: svn://svn.berlios.de/openocd/trunk@456
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: faster alloc_printf() git-svn-id: svn://svn.berlios.de/openocd/trunk@454
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: - force simulate_reset_on_next_halt when target state is initially
	detected - print out method of debug entry - fix VCR activation (didn't work before) git-svn-id: svn://svn.berlios.de/openocd/trunk@452
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-06  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : make debug code w.r.t. incorrect args for bypass stricter.  git-svn-id: svn://svn.berlios.de/openocd/trunk@450
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - This speeds up dcc arm7_9 bulk write a little bit and exercises
	the jtag_add_dr_out() codepath - added a check to jtag_add_pathmove() for legal path transitions - tweaked jtag.h docs a little bit - made some jtag bypass tests _DEBUG_JTAG_IO_ git-svn-id: svn://svn.berlios.de/openocd/trunk@448
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy: memory leak in at91sam7 flash driver, possible
	incorrect pointer conversion in gpnvm command handling,
	uninitialized buffer issue in handle_flash_info_command in flash.c,
	some formatting.  git-svn-id: svn://svn.berlios.de/openocd/trunk@446
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-05  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : telnet_port can now be invoked multiple times git-svn-id: svn://svn.berlios.de/openocd/trunk@444
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Fixed GDB timeout crash - regression introduced back when
	log_add/remove_callback was added.  git-svn-id: svn://svn.berlios.de/openocd/trunk@442
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-04  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: fix warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@440
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn prop svn:eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@438
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added fill_malloc test. Not quite sure what to do here yet, but
	it would be good to have something...  git-svn-id: svn://svn.berlios.de/openocd/trunk@436
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-03  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : some comments from Dominic git-svn-id: svn://svn.berlios.de/openocd/trunk@434
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-02  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added svn prop svn:eol-style native git-svn-id: svn://svn.berlios.de/openocd/trunk@432
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-02  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed FSF address. Uwe Hermann.  git-svn-id: svn://svn.berlios.de/openocd/trunk@430
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : wrote up explaining why tests are done on committed code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@428
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - contrib directory added - libdcc added as example for dcc comms with openocd target_request
	debugmsgs git-svn-id: svn://svn.berlios.de/openocd/trunk@426
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix memory corruption regression introduced in 335 git-svn-id: svn://svn.berlios.de/openocd/trunk@424
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added example for testing the JTAG speed with a FT2232 device git-svn-id: svn://svn.berlios.de/openocd/trunk@422
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated svn:eol-style prop to native for AT91R40008 (Thanks to
	Spen for the hint) git-svn-id: svn://svn.berlios.de/openocd/trunk@420
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated svn:eol-style prop to native git-svn-id: svn://svn.berlios.de/openocd/trunk@418
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : improve DCC bulk write performance by using jtag_add_shift() +
	tweaked embedded ICE communication.  git-svn-id: svn://svn.berlios.de/openocd/trunk@416
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Now uses jtag_add_shift() via embeddedice_write_reg_inner().  git-svn-id: svn://svn.berlios.de/openocd/trunk@414
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : log_remove_callback git-svn-id: svn://svn.berlios.de/openocd/trunk@412
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added str912 test example, and test result git-svn-id: svn://svn.berlios.de/openocd/trunk@410
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added test result for str710, and test description git-svn-id: svn://svn.berlios.de/openocd/trunk@408
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-03-01  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added STR710 example which I used for Eclipse debug testing git-svn-id: svn://svn.berlios.de/openocd/trunk@406
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : added an #error in case anybody tries to compile that broken
	code.  git-svn-id: svn://svn.berlios.de/openocd/trunk@404
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix bug with emulated cortex_m3 dcc channel git-svn-id: svn://svn.berlios.de/openocd/trunk@402
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Tweaked logging output.  TODO is retired(hopelessly out of date).  git-svn-id: svn://svn.berlios.de/openocd/trunk@400
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy fix: the guess-rev.sh scripts to retrieve SVN
	revision returns the result including new line causing PKGBLDREV
	macro to not work git-svn-id: svn://svn.berlios.de/openocd/trunk@398
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann: Small cosmetic fixes in the license header to make
	them all look the same, fix some typos, update README.  git-svn-id: svn://svn.berlios.de/openocd/trunk@396
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann: mproves the manpage text a bit and adds the missing
	-s and -c options.  git-svn-id: svn://svn.berlios.de/openocd/trunk@394
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : formatting fixes from Pavel Chromy git-svn-id: svn://svn.berlios.de/openocd/trunk@392
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - image.c and fileio.c now uses logging to propagate error strings.   More precise, less code.  - removed unused code in fileio.c - Windows should now find debug_handler.bin git-svn-id: svn://svn.berlios.de/openocd/trunk@390
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : do not write single chars to log file.  git-svn-id: svn://svn.berlios.de/openocd/trunk@388
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Summary: passing of variable argument list reduced, strings sent
	to logging are now formatted just once - more efficient.  As a
	result, ugly string malloc+strcpy are not needed anymore.  git-svn-id: svn://svn.berlios.de/openocd/trunk@386
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-29  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck: - fix indentation of multi-level commands - make help command work with multi-level commands git-svn-id: svn://svn.berlios.de/openocd/trunk@384
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fixed newline gaffe in OUTPUT() git-svn-id: svn://svn.berlios.de/openocd/trunk@382
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy spotted a leak git-svn-id: svn://svn.berlios.de/openocd/trunk@380
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : numerous fixes from  Uwe Hermann git-svn-id: svn://svn.berlios.de/openocd/trunk@378
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy - cleanup error messages git-svn-id: svn://svn.berlios.de/openocd/trunk@376
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy cleaned up checks for halted, error messages, etc.  git-svn-id: svn://svn.berlios.de/openocd/trunk@374
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix from Pavel Chromy this patch fixes an issue in jtag_init - shall not reset jtag to
	NULL.  This causes jtag interface (USB device) not to be closed
	properly if jtag chain validation fails.  Once the underlaying jtag interface is initialized, jtag pointer
	shall be left untouched, even in case of an error, so that proper
	cleanup can be done, see exit_handler in openocd.c git-svn-id: svn://svn.berlios.de/openocd/trunk@372
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : code to be used in upcoming minidriver work.  git-svn-id: svn://svn.berlios.de/openocd/trunk@370
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : fix copyright.  git-svn-id: svn://svn.berlios.de/openocd/trunk@368
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : lingering change for eCos flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@366
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added TARGET_REQ_DEBUGCHAR target_request debugmsg. This   provides a better impeadance match for debug output char fn's,
	  e.g. eCos.  - Line endings are now added at the caller site of command_print*().
	  command_print() still adds a line ending - echo of commands in scripts are now available via debug_level
	  instead of forced echo - Added a USER_SAMELINE() for printing without a lineend.  git-svn-id: svn://svn.berlios.de/openocd/trunk@364
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix line-endings git-svn-id: svn://svn.berlios.de/openocd/trunk@362
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-28  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Uwe Hermann fixed some warnings.  git-svn-id: svn://svn.berlios.de/openocd/trunk@360
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-27  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix typo in ep93xx jtag driver to allow OpenOCD compilation on ARM
	(thanks to Uwe Hermann for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@358
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-27  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Nicolas Pitre listed some more devices.  git-svn-id: svn://svn.berlios.de/openocd/trunk@356
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - code reformat (Thanks Pavel Chromy) git-svn-id: svn://svn.berlios.de/openocd/trunk@354
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : oopss.. another jtag minidriver reset gaffe.  git-svn-id: svn://svn.berlios.de/openocd/trunk@352
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-26  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Next step in the JTAG minidriver. This should be fairly close to
	the final thing, but I'm not calling it "done" quite yet.  git-svn-id: svn://svn.berlios.de/openocd/trunk@350
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - remove build warnings git-svn-id: svn://svn.berlios.de/openocd/trunk@348
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy - multiple log listeners - added OUTPUT() to replace printf - fix formatting git-svn-id: svn://svn.berlios.de/openocd/trunk@346
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Pavel Chromy style fixes.  git-svn-id: svn://svn.berlios.de/openocd/trunk@344
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fix target library path problem w/Windows git-svn-id: svn://svn.berlios.de/openocd/trunk@342
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : committed bugfix from Michael Bruck git-svn-id: svn://svn.berlios.de/openocd/trunk@340
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - using ERROR_COMMAND_SYNTAX_ERROR to print syntax in a couple of
	places - some more flash cleanup of checking halted state - moved output handler into options.c - very slightly tweaked server.c to make it a bit more compatible
	with eCos - retired arch_state. Not quite sure how I managed to leave that out
	last time.  git-svn-id: svn://svn.berlios.de/openocd/trunk@338
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-25  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Michael Bruck spotted an omission in svn 322 git-svn-id: svn://svn.berlios.de/openocd/trunk@336
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : move options handling to separate file to better support
	embedded implementations of OpenOCD git-svn-id: svn://svn.berlios.de/openocd/trunk@334
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed target->type->poll() return value - added arch_state to show status of currently selected target - simplified target->type->arch_state() api.  - clean up telnet output a bit - fixed GDB output for arch_state - removed a couple of unecessary exit()'s - cleaned up error propagation a bit in a few places git-svn-id: svn://svn.berlios.de/openocd/trunk@332
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : debug_level 3 now prints seconds since start of openocd git-svn-id: svn://svn.berlios.de/openocd/trunk@330
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : sharpend JTAG docs w.r.t. hw fifo implementations and retired
	jtag_cancel_queue() which is inheritely incompatible with a hw fifo
	concept.  git-svn-id: svn://svn.berlios.de/openocd/trunk@328
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-24  oharboe <oharboe@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : cosmetic fixes to debug output + phasing out printf() in favour
	of logging system. From Pavel Chromy <chromy@asix.cz> git-svn-id: svn://svn.berlios.de/openocd/trunk@326
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-23  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix for feroceon CP15 register access (thanks to Niolas Pitre for
	this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@324
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-23  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added a test document as a starting point - corrected URL information for the repro git-svn-id: svn://svn.berlios.de/openocd/trunk@322
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to remove count and time information from log_printf
	in case of debug_level is not set to LOG_DEBUG git-svn-id: svn://svn.berlios.de/openocd/trunk@320
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  vpalatin <vpalatin@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix read/write size for small unaligned accesses (thanks Michael
	Bruck) git-svn-id: svn://svn.berlios.de/openocd/trunk@318
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-22  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to make single-stepping more resilient (thanks to
	Nicolas Pitre for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@316
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix bug when using full paths to config files. Thanks Ted Roth git-svn-id: svn://svn.berlios.de/openocd/trunk@314
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add search paths via new arg -s (-search). Thanks Ted Roth - updated docs for new command git-svn-id: svn://svn.berlios.de/openocd/trunk@312
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-19  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixed bug in pathmove for XScale - added virtual address to working_area.  - Improved error messages in a number of places - Added ERROR_COMMAND_SYNTAX_ERROR that commands can return to have
	syntax printed - Added help for some config commands - Added verification of sw breakpoints with ERROR() message - Removed a couple of exit()'s and replaced with error message - cosmetic fix to armv4_5.c, easier to read - added polymorphic(with default) virt2phys and mmu enable query
	function to target.h - added virt2phys command that uses target->type->virt2phys() fn
	Thanks to Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@310
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fix problems with stuck telnet sessions. Thanks to Øyvind Harboe
	for this patch.  git-svn-id: svn://svn.berlios.de/openocd/trunk@308
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - arg list now correctly released on error. Thanks Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@306
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed a raft of unecessary exit() calls. Issuing a reset will
	solve these ails.  - now uses jtag_state_pathmove() instead of making assumptions about
	implementation of jtag_statemove().  - fixed a couple of bugs in timeout handling - removed megabytes of log output when communication is failing.  - sleep is now 300ms as documented instead of 3000ms - fixed error path of bulk write - debug_handler can now be issued during normal operation + has help
	text.  Thanks Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@304
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added a "User:" debug level. These are messages that are intended
	for the user and are part of normal operation.  - Faster DEBUG/INFO() when they are disabled - target_read/write_buffer() now uses 16 and 32 bit access for
	single word aligned requests. Other requests are serviced as quickly
	as possible.  - *much* faster read/write GDB packets, removing timeout problems.  - GDB read/write packets w/single word aligned 32/16 bit access now
	use 32/16 bit word access.  - working area can now be changed on the fly. Provides a way to move
	working area about as MMU is enabled/disabled.  - cleaned up error messages for verify_image.  Thanks Øyvind Harboe git-svn-id: svn://svn.berlios.de/openocd/trunk@302
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - solve lots of problems with stuck GDB connections, making it
	impossible to connect to GDB, handle timeout of acknowledgement,
	etc.  - "monitor halt/resume" now works correctly - "monitor sleep 10000" no longer makes the GDB protocol lock up.
	There is an error message and the protocol recovers nicely
	afterwards.  - it's now possible to connect to a target which needs a reset
	before halt works.  - handle failed memory access more gracefully. Connection is now
	closed instead of OpenOCD quitting.  - *much* improved handling of 2 second timeout on memory read
	packets. Especially important w/mouseover evaluation of  variables
	in Eclipse.  - fixed memory leak upon failed memory packet reply.  - 'O' packets w/progress info is no longer sent out randomly.  - faster packet reply code.  - Thanks to Øyvind Harboe for this patch git-svn-id: svn://svn.berlios.de/openocd/trunk@300
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix issue with telnet prompt while gdb running git-svn-id: svn://svn.berlios.de/openocd/trunk@298
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix programming issue with lpc2101/2 git-svn-id: svn://svn.berlios.de/openocd/trunk@296
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-14  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added check for revA silicon in stm32 flash driver git-svn-id: svn://svn.berlios.de/openocd/trunk@294
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-12  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add autoprobe support to flash info command - auto_erase can now be called from script/config file git-svn-id: svn://svn.berlios.de/openocd/trunk@292
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-11  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - telnet prompt behaves correctly for new synchronous
	halt/resume/reset commands - removed unused variables in tms470.c git-svn-id: svn://svn.berlios.de/openocd/trunk@290
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - stm32 flash driver now checks for correct target git-svn-id: svn://svn.berlios.de/openocd/trunk@288
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-10  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to change pathmove handling

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000678.html(thanks to Øyvind for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@286
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-07  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added synchronous reset patch, Thanks Øyvind Harboe - added target_init_reset which calls target_process_reset after all
	drivers have been initialised git-svn-id: svn://svn.berlios.de/openocd/trunk@284
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-06  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to solve problem with AT91SAM9260 (dirty register)
	(thanks to Øyvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@282
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-02-04  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Added patch to stop SEGFAULT with missing jtag config lines.
	Thanks Øyvind Harboe

	https://lists.berlios.de/pipermail/openocd-development/2008-January/000731.htmlgit-svn-id: svn://svn.berlios.de/openocd/trunk@280
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-27  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added autoprobe functionality - corrected blocksize handling from GDB "info mem" command (thanks
	to Øyvind and Spen for these patches) git-svn-id: svn://svn.berlios.de/openocd/trunk@278
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-24  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to check some malloc problems.  (thanks to Øyvind
	Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@276
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-23  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to fix crash in load_image on corrupt elf file or out
	of memory.  (thanks to Øyvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@274
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added example config and startup-script for a XScale IXP42x system git-svn-id: svn://svn.berlios.de/openocd/trunk@272
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Synced code with branch git-svn-id: svn://svn.berlios.de/openocd/trunk@270
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Eleminated leading tabs/white space git-svn-id: svn://svn.berlios.de/openocd/trunk@267
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-21  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated docs for cfi command, added missing ft2232_layout names git-svn-id: svn://svn.berlios.de/openocd/trunk@261
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-17  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for cortex_m3 target_request debugmsgs - target request handler disabled by default until a target has been
	registered git-svn-id: svn://svn.berlios.de/openocd/trunk@259
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed 'make distcheck' (thanks to Theodore A. Roth for this patch git-svn-id: svn://svn.berlios.de/openocd/trunk@257
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - use correct SCAN_N check value (disabled by default) - add Øyvind Harboe to list of AUTHORS (thanks a lot to Øyvind for
	his hard work) git-svn-id: svn://svn.berlios.de/openocd/trunk@255
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fix gdb packet retransmission omission git-svn-id: svn://svn.berlios.de/openocd/trunk@253
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added faster gdb packet handling (thanks to oyvind harboe for the
	patch) - code reformat git-svn-id: svn://svn.berlios.de/openocd/trunk@251
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2008-01-09  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - rename flash_init and flash_erase to flash_init_drivers and
	flash_erase_address_range - stops conflicts with redboot. Thanks
	Øyvind Harboe - gdb connection not dropped if we fail to allocate memory in query
	packets git-svn-id: svn://svn.berlios.de/openocd/trunk@249
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-29  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add support for extended gdb packet R (restart), requires gdb to
	be started with target extended-remote git-svn-id: svn://svn.berlios.de/openocd/trunk@247
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-21  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected working_area of LPC2129 script - added LPC2148 script - corrected size of the working_area of the LPC2294 script git-svn-id: svn://svn.berlios.de/openocd/trunk@245
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-20  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed flash write_image - binary compare function has been moved
	to verify_image command - minor code reformat and cleanup - updated docs to include new commands git-svn-id: svn://svn.berlios.de/openocd/trunk@243
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch by Øyvind Harboe to Intel Hex Start Segment Address
	Record (Type 3) - added support to parse Motorola Record Count (S5) git-svn-id: svn://svn.berlios.de/openocd/trunk@241
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-17  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - only some cosmetic changes, convert \r\n to unix git-svn-id: svn://svn.berlios.de/openocd/trunk@239
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-17  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch to corrected argument of image_open in
	handle_flash_write_image_command (thanks to oyvind Harboe for the
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@237
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - removed some compiler warnings - added patch to fix problem in cfi_intel_write_block. In case of   cfi_info->write_algorithm is not NULL, target_code_size was not
	  set.  (thanks to oyvind Harboe for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@235
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-16  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - initialize num_sectors and sectors in handle_flash_bank_command.
	(thanks to oyvind Harboe for this hint) git-svn-id: svn://svn.berlios.de/openocd/trunk@233
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added the patch CFI-BE-Fixes-Blockwrite-Support.diff (thanks to
	Carsten Schlote for the patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@231
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Sorry, I have forgotten to add a description for the last
	version, where I have added the clear_malloc and fill_malloc
	functionality. But the default is the original malloc.  git-svn-id: svn://svn.berlios.de/openocd/trunk@229
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-14  mifi <mifi@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added patch from Dominic to unlock the ATMEL flash in
	cfi_read_atmel_pri_ext - set cfi_info->write_algorithm and cfi_info->erase_check_algorithm
	  to NULL to get "flash erase_check" command working git-svn-id: svn://svn.berlios.de/openocd/trunk@227
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Stripped trailing spaces (patch preparation) git-svn-id: svn://svn.berlios.de/openocd/trunk@225
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added PKGLIBDIR define to C options. Allows to store   native code fragments at a central place git-svn-id: svn://svn.berlios.de/openocd/trunk@223
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-10  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Changed openocd version info creation to be more useful.  - Now displays subversion revision and svn URL git-svn-id: svn://svn.berlios.de/openocd/trunk@220
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-12-05  bodylove <bodylove@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Merged rev 215 changes from /branches/xscale-ixp-be into trunk: - Obvious fixes to big endian type conversion macros - Fixed obvious typos for byte masks git-svn-id: svn://svn.berlios.de/openocd/trunk@217
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-11-23  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for Hitex STM32 Performance Stick - added str9 and stm32 scripts to docs git-svn-id: svn://svn.berlios.de/openocd/trunk@213
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-10-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected str91x bank1 programming issues - str91x protect_check fixed - bank number now correctly given to str91x flash_config command git-svn-id: svn://svn.berlios.de/openocd/trunk@211
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-10-08  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - cleaned up str7, str9 and stm32 flash drivers - str7 flash driver now checks correct busy bits depending on device - str9 flash driver now disables ITCM order as per st programming
	manual - added str7 disable_jtag command - added gdb_detach command - updated arm966e cp15 support - fix crash on mingw build when enabling target_request debugmsgs git-svn-id: svn://svn.berlios.de/openocd/trunk@209
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-09-10  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Fixed display of sector sizes in flash.c - Clean up, remove unused variables and code in armv7, cortex_m3 and
	stellaris code - Move restore_context from cortex_m3 to armv7m - Updated halt handling for cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@206
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-09-05  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : Patch by Michael Schwingen that  - adds support for the Altium universal JTAG cable  - adds support for "wiggler2" cable (basically a wiggler with added
	 LED, documentation coming soon) - adds LED support. The LED is turned on during data transfer -
	 works fine on Altium and wiggler2.  - adds PORT_EXIT pattern that is written to port when exiting, in
	 order to turn off power on cables that get their power from parallel
	 port data lines - move port writes (with the system-specific ifdefs) to one central
	function - increased image cache size to 2KB (might require more adaptive
	cache handling, e.g. LRU) git-svn-id: svn://svn.berlios.de/openocd/trunk@204
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-21  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - correctly initialize start address for XScale trace buffer decodes
	in fill-once mode git-svn-id: svn://svn.berlios.de/openocd/trunk@202
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-20  mlu <mlu@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Support for AT91SAM7xx512 chips git-svn-id: svn://svn.berlios.de/openocd/trunk@200
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - renamed "xscale dump_trace_buffer" to "xscale dump_trace" and
	added code for it git-svn-id: svn://svn.berlios.de/openocd/trunk@198
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed several bugs in flash writing code (thanks to Pavel Chromy) git-svn-id: svn://svn.berlios.de/openocd/trunk@196
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reworked presto.c to allow use of either FTD2XX or libftdi
	(libftdi not functional yet). Configure option changed from
	--enable-presto to --enable-presto_ftd2xx and
	--enable-presto_libftdi - completed trace point support for use with ARM7/9 DCC - completed debug message output with support for HEX dumps (1, 2 or
	4 byte quantities) - fixed bug in delete_debug_msg_receiver (thanks to Pavel Chromy) - fixed bug in image_add_section (thanks to Pavel Chromy) - at91sam7 sector erase reworked (thanks to Pavel Chromy) - merge consecutive sections during flash image write to work around
	possible section alignment issues with LPC2000 targets git-svn-id: svn://svn.berlios.de/openocd/trunk@194
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-10  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - bumped version information git-svn-id: svn://svn.berlios.de/openocd/trunk@192
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-08-10  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - renamed M5960 USB JTAG to "flyswatter" - make ep93xx and at91rm9200 bitbang JTAG interfaces dependant on
	ARM host (thanks to Vincent Palatin) - various whitespace fixes - removed various warnings - add support for Debian GNU/kFreeBSD (thanks to Uwe Hermann) - fix OpenOCD compilation for various platforms (thanks to Uwe
	Hermann and Vincent Palatin) - switched order of JTAG chain examination and validation (examine
	first, then multiple validation tries even if examination failed) - added target_request subsystem to handle requests from the target
	(debug messages and tracepoints implemented, future enhancements
	might include semihosting, all ARM7/9 only for now) - added support for GDB vFlashXXX packets (thanks to Pavel Chromy) - added support for receiving data via ARM7/9 DCC - reworked flash writing. the 'flash write' command is now
	deprecated and replaced by 'flash write_binary' (old syntax and
	behaviour) and 'flash write_image' (write image files (bin, hex,
	elf, s19) to a target).  - added support for AMD/ST/SST 29F400B non-cfi flashes git-svn-id: svn://svn.berlios.de/openocd/trunk@190
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - cleaned up cycle counting in ETM analysis - fixed broken OpenOCD version string git-svn-id: svn://svn.berlios.de/openocd/trunk@188
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - calculate cycles since last executed instruction when
	cycle-accurate tracing is enabled - increase memory pseudo-image cache size to 1024 byte for improved
	trace analysis performance - added OpenOCD+trace as an ETM capture driver example
	implementation - new usbprog driver (thanks to Benedikt Sauter) git-svn-id: svn://svn.berlios.de/openocd/trunk@186
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-26  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - corrected stm32x_handle_options_write_command, incorrect options
	printed - added prepare_reset_halt handler for cortex_m3 git-svn-id: svn://svn.berlios.de/openocd/trunk@184
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - documentation fixes (thanks to Uwe Hermann) - bootstrapping changes to accomodate packaging (thanks to Uwe
	Hermann) git-svn-id: svn://svn.berlios.de/openocd/trunk@182
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-07-15  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for Asix Presto JTAG interface (thanks to Pavel
	Chromy and Asix for making this addition possible) - added support for usbprog (thanks to Benedikt Sauter) - make OpenOCD listen for WM_QUIT messages on windows (thanks to
	Pavel Chromy) - register at_exit handler to do necessary unregistering (thanks to
	Pavel Chromy) - added dummy ETM capture driver to allow ETM to be registered
	without a capture driver git-svn-id: svn://svn.berlios.de/openocd/trunk@180
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-24  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - ST STM32x cortex support added - ST STM32x flash support added - cleaned up armv7m and cortex-m3 support, removed luminary specific
	code - cortex-m3 16bit read/write added (required for STM32x flash
	programming) git-svn-id: svn://svn.berlios.de/openocd/trunk@177
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-16  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - str9xpec driver was using stricmp, changed to strcmp for posix
	compatibility git-svn-id: svn://svn.berlios.de/openocd/trunk@175
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-15  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for pseudo image type "mem", currently only used for
	etm analysis: "etm image <target#> <dummy base address> mem" git-svn-id: svn://svn.berlios.de/openocd/trunk@173
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added stellaris.[ch] missing from Cortex-M3 merge git-svn-id: svn://svn.berlios.de/openocd/trunk@171
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-06-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added manpage for OpenOCD (thanks to Uwe Hermann) - fixed bug in ARM926EJ-S cache handling that caused cache linefills
	to be disabled after first debug entry - added support for auto image type detection (thanks to Vincent
	Palatin) - further work on ETM trace decoding (tested with a ETB interface
	using an ETM in normal 16-bit port mode, still experimental) git-svn-id: svn://svn.berlios.de/openocd/trunk@169
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-30  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reworked image handling to support multiple sections (tested with
	ihex file containing gaps) This checkin is still experimental, not
	recommended for general use git-svn-id: svn://svn.berlios.de/openocd/trunk@159
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-29  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing image handling files git-svn-id: svn://svn.berlios.de/openocd/trunk@156
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-05-10  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : -- corrected embedded ice definitions -- changed arm966e to use
	standard arm9_7 reset handling git-svn-id: svn://svn.berlios.de/openocd/trunk@146
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-28  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for Hitex comstick.  git-svn-id: svn://svn.berlios.de/openocd/trunk@144
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for error handlers to JTAG scan commands
	(jtag_[plain_][ir|dr]_scan) - catch apparently broken JTAG IR scan after ARM926EJ-S CP15
	operations - added "arm7_9 dump_etb" command git-svn-id: svn://svn.berlios.de/openocd/trunk@142
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - allow multiple USB vendor and product ids when searching for
	connected FT2232 based JTAG interfaces (thanks to Werner Almesberger
	for this patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@140
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-04-11  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - disabled excessive debug output in jtag.h - output all of EmbeddedICE version register in error message - update OpenOCD's idea of the current core mode, and immediately
	change core mode, on CPSR changes - added support for CFI cmdset 0002 (patch by Andrew Dyer, thanks a
	lot) - enhanced CFI cmdset 0002 support to Atmel AT49 flashes (thanks to
	Joerg Krein for providing test hardware) git-svn-id: svn://svn.berlios.de/openocd/trunk@138
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-29  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added "arm9tdmi vector_catch ['all'|'none'|'vec1 [vec2 [...]]']"
	command - added missing arm926ej-s cp15 patch (thanks Vincent Palatin) git-svn-id: svn://svn.berlios.de/openocd/trunk@136
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed arm926 cp15 command bug (thanks to Vincent Palatin for this
	patch) - fixed compiler warnings throughout the code (thanks to Vincent
	Palatin for this patch) - added support for accessing ETB (embedded trace buffer) registers git-svn-id: svn://svn.berlios.de/openocd/trunk@134
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-03-15  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - reworked file i/o. every fileaccess (target, flash, nand, in
	future configuration, too) should now go through the fileio
	subsystem - added support for reading IHEX files (through fileio) - load/dump_binary renamed to the more generic load/dump_image
	<file> <address> ['bin'|'ihex'] - added NAND framework (preliminary) - added support for the LPC3180 SLC and MLC NAND controllers
	(preliminary) - fix initialization for parport - gw16012 fixes/cleanups - added EmbeddedICE version 7 (preliminary, reported on two LPC23xx
	devices so far) - added 'arm7_9 etm <target#>' configuration command to enable
	access to the ETM registers git-svn-id: svn://svn.berlios.de/openocd/trunk@132
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-02-03  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - add missing parentheses around macro parameters (thanks to
	Matthias Bauch for noticing this bug and providing a fix) git-svn-id: svn://svn.berlios.de/openocd/trunk@130
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-26  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - disabled use of single-step bit for EmbeddedICE version 6 cores git-svn-id: svn://svn.berlios.de/openocd/trunk@128
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - Added support for ARM926EJ-S based cores - Added contributors to AUTHORS file - Added link to Joern Kaipf's OOCD-Link git-svn-id: svn://svn.berlios.de/openocd/trunk@126
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2007-01-18  ntfreak <ntfreak@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for ST flashlink cable git-svn-id: svn://svn.berlios.de/openocd/trunk@123
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-11-22  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - checked in missing configure.in changes for GW16012 support git-svn-id: svn://svn.berlios.de/openocd/trunk@117
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-11-07  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for the oocd-link
	(http://www.joernonline.de/dw/doku.php?id=en:projects:oocdlink) - fixed breakpoint handling (this changes the target_t interface) git-svn-id: svn://svn.berlios.de/openocd/trunk@113
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-23  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - several small fixes (thanks to Magnus Lundin and Spencer Oliver) - added support for using Luminary Micro development board
	'evb_lm3s811' as a JTAG interface (thanks to Magnus Lundin) git-svn-id: svn://svn.berlios.de/openocd/trunk@106
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-12  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - allow FT2232 devices to be opened by serial number instead of
	device description ('ft2232_serial <serial>' command) - redirect output from target event scripts (currently only reset)
	to the daemon output (INFO:) - some minor fixes and enhancements git-svn-id: svn://svn.berlios.de/openocd/trunk@103
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-10-03  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed regression in gdb_server.c (Thanks to Michael Fischer for
	finding these bugs) git-svn-id: svn://svn.berlios.de/openocd/trunk@101
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-12  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - allow writes to second flash bank on STR71x devices (cleaned up
	sector list building) - cleaned up str7x flash erase and protect code (use two accesses to
	erase sectors in both banks) git-svn-id: svn://svn.berlios.de/openocd/trunk@98
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-07  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - free working area used to store flash write buffer git-svn-id: svn://svn.berlios.de/openocd/trunk@96
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-09-04  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added debug output for D/I FSR and FAR (arm920t) - fixed bug that caused CPSR to be corrupted in Thumb mode git-svn-id: svn://svn.berlios.de/openocd/trunk@93
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-31  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added missing AT91RM9200 files - bumped OpenOCD version date git-svn-id: svn://svn.berlios.de/openocd/trunk@91
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-20  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - made bp command more verbose - fixed bug that could result in register corruption on arm920t
	targets git-svn-id: svn://svn.berlios.de/openocd/trunk@89
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-17  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - renamed jtag_interface_t.support_statemove to
	jtag_interface_t.support_pathmove (it is used to indicate
	jtag_add_pathmove support) - fixed small bug in str7x.c that printed an address instead of the
	target number in an error message - added support for Olimex ARM-USB-OCD. The new ft2232 layout is
	called "olimex-jtag" git-svn-id: svn://svn.berlios.de/openocd/trunk@87
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-14  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - updated configuration examples, installation instructions and
	README (including list of supported JTAG interfaces) git-svn-id: svn://svn.berlios.de/openocd/trunk@85
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-11  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added support for FreeBSD ppi (parallel port access similar to
	/dev/parport on linux) (thanks to Darius for this patch) - unified 'ftd2xx' and 'ftdi2232' into a single interface 'ft2232'.
	The library used to access the hardware is choosen during configure
	with --enable-ft2232_ftd2xx or --enable-ft2232-libftdi.  git-svn-id: svn://svn.berlios.de/openocd/trunk@83
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-08-06  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed a minor problem with the GDB server that could drop the
	first packet (non-fatal) - fixed some small memory leaks (thanks to Spencer Oliver) - verify chip- and buswidth of cfi flash configurations - added support for ARM966E based systems (tested only with ST micro
	STR9, thanks to Spencer Oliver) git-svn-id: svn://svn.berlios.de/openocd/trunk@81
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-07-30  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added configurable delays after reset lines get deasserted. useful
	if reset circuitry keeps lines asserted for too long.  - additional debug output when opening the parallel port - fixed counting of available arm7/9 watchpoint units - 'flash write' now displays elapsed time git-svn-id: svn://svn.berlios.de/openocd/trunk@79
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed bug in Thumb sw breakpoint handling (thanks to Spen for this
	patch) - fixed handling of services linked list (thanks to Spen for this
	patch) git-svn-id: svn://svn.berlios.de/openocd/trunk@76
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-25  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - added "version" command (patch from John Hartman, thanks) - fixed bug in telnet history handling (patch from John Hartman,
	thanks) - OpenOCD version has been changed from SVN revision number to
	date/time git-svn-id: svn://svn.berlios.de/openocd/trunk@74
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-16  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - keep additional information for decoded instructions git-svn-id: svn://svn.berlios.de/openocd/trunk@69
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

2006-06-05  drath <drath@b42882b7-edfa-0310-969c-e2dbd0fdcd60>

	* : - fixed some spelling errors (thanks to Andrew Dyer) git-svn-id: svn://svn.berlios.de/openocd/trunk@67
	b42882b7-edfa-0310-969c-e2dbd0fdcd60

